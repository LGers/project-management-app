{"version":3,"file":"index.es.js","sources":["../src/util/event_manager.js","../src/util/util.js","../src/components/draggable.js","../node_modules/performance-now/lib/performance-now.js","../node_modules/raf/index.js","../node_modules/prefix-style/index.js","../node_modules/to-no-case/index.js","../node_modules/to-space-case/index.js","../node_modules/to-camel-case/index.js","../node_modules/add-px-to-style/index.js","../node_modules/dom-css/index.js","../node_modules/react-custom-scrollbars/lib/utils/isString.js","../node_modules/react-custom-scrollbars/lib/utils/getScrollbarWidth.js","../node_modules/react-custom-scrollbars/lib/utils/returnFalse.js","../node_modules/react-custom-scrollbars/lib/utils/getInnerWidth.js","../node_modules/react-custom-scrollbars/lib/utils/getInnerHeight.js","../node_modules/react-custom-scrollbars/lib/Scrollbars/styles.js","../node_modules/react-custom-scrollbars/lib/Scrollbars/defaultRenderElements.js","../node_modules/react-custom-scrollbars/lib/Scrollbars/index.js","../node_modules/react-custom-scrollbars/lib/index.js","../node_modules/rebound/dist/rebound.js","../src/components/virtualized-scrollbar.js","../src/components/dynamic-virtualized-scrollbar.js","../src/components/droppable.js","../src/components/drag_drop_context.js","../src/components/drag_scroll_bar.js","../src/examples/example-board.js","../src/examples/example-dynamic.js","../src/examples/example-multiple-droppables.js"],"sourcesContent":["const eventMap = new Map();\r\n\r\nconst subscribe = (eventId, callback) => {\r\n\tif (!eventMap.has(eventId)) {\r\n\t\teventMap.set(eventId, []);\r\n\t}\r\n\teventMap.get(eventId).push(callback);\r\n};\r\n\r\nconst unsubscribe = (eventId, callback) => {\r\n\tif (eventMap.has(eventId)) {\r\n\t\tconst handlerArray = eventMap.get(eventId);\r\n\t\tconst callbackIndex = handlerArray.indexOf(callback);\r\n\t\tif (callbackIndex >= 0) {\r\n\t\t\thandlerArray.splice(callbackIndex, 1);\r\n\t\t} else {\r\n\t\t\tconsole.warn('Unsubscription unsuccessful - callback not found.');\r\n\t\t}\r\n\t} else {\r\n\t\tconsole.warn('Unsubscription unsuccessful - eventId not found.');\r\n\t}\r\n};\r\n\r\nconst dispatch = (eventId, ...args) => {\r\n\tif (!eventMap.has(eventId)) return;\r\n\teventMap.get(eventId).forEach(callback => callback.call(this, ...args));\r\n};\r\n\r\nconst EVENT_ID = {\r\n\tSCHEDULING_MODAL_MUTATION_SUCCESS: 0,\r\n\tWORKFLOW_DRAG_DESTINATION_PLACERHOLDER: 1,\r\n\tWORKFLOW_SAVE_DRAG: 2,\r\n\tWORKFLOW_MULTISELECT: 3,\r\n\tCANVAS_TIMELINE_FORCE_REDRAW: 4,\r\n\tSOCKET_NOTIFY: 5,\r\n\tDND_REGISTER_DRAG_MOVE: 6,\r\n\tDND_RESET_PLACEHOLDER: 7\r\n};\r\n\r\nmodule.exports = {\r\n\tEVENT_ID,\r\n\tsubscribe,\r\n\tunsubscribe,\r\n\tdispatch\r\n};\r\n","export default class Util {\r\n\tstatic getDragEvents(group) {\r\n\t\treturn {\r\n\t\t\tid: group,\r\n\t\t\tmoveEvent: group + '-MOVE',\r\n\t\t\tresetEvent: group + '-RESET',\r\n\t\t\tstartEvent: group + '-START',\r\n\t\t\tendEvent: group + '-END',\r\n\t\t\tscrollEvent: group + '-SCROLL',\r\n\t\t\tplaceholderEvent: group + '-PLACEHOLDER'\r\n\t\t};\r\n\t}\r\n\r\n\tstatic getDroppableParentElement(element, dragAndDropGroup) {\r\n\t\tlet count = 0;\r\n\t\tlet maxTries = 15;\r\n\t\tlet droppableParentElem = null;\r\n\t\twhile (element && element.parentNode && !droppableParentElem && element.tagName !== 'body' && count <= maxTries) {\r\n\t\t\tconst foundDragAndDropGroup = element.getAttribute('droppablegroup');\r\n\t\t\tif (foundDragAndDropGroup && foundDragAndDropGroup === dragAndDropGroup) {\r\n\t\t\t\tdroppableParentElem = element;\r\n\t\t\t}\r\n\t\t\telement = element.parentNode;\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\treturn droppableParentElem;\r\n\t}\r\n\tstatic getDraggableParentElement(element) {\r\n\t\tlet count = 0;\r\n\t\tlet maxTries = 10;\r\n\t\tlet draggableParentElem = null;\r\n\t\twhile (element && element.parentNode && !draggableParentElem && element.tagName !== 'body' && count <= maxTries) {\r\n\t\t\tif (element.getAttribute('draggableid')) {\r\n\t\t\t\tdraggableParentElem = element;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\telement = element.parentNode;\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\treturn draggableParentElem;\r\n\t}\r\n\tstatic logUpdateReason(props, state, prevProps, prevState) {\r\n\t\tObject.entries(props).forEach(([key, val]) => prevProps[key] !== val && console.log(`Prop '${key}' changed`));\r\n\t\tObject.entries(state).forEach(([key, val]) => prevState[key] !== val && console.log(`State '${key}' changed`));\r\n\t}\r\n}\r\n","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {dispatch} from '../util/event_manager';\r\nimport Util from './../util/util';\r\n\r\nclass Draggable extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tstartX: null,\r\n\t\t\tstartY: null,\r\n\t\t\tisDragging: false,\r\n\t\t\twasClicked: false,\r\n\t\t\tisTouch: false,\r\n\t\t\txClickOffset: 0,\r\n\t\t\tyClickOffset: 0,\r\n\t\t\tdidMoveMinDistanceDuringDrag: false,\r\n\t\t\tdragSensitivityX: 15,\r\n\t\t\tdragSensitivityY: 15\r\n\t\t};\r\n\t\tthis.handleDragShortcuts = this.handleDragShortcuts.bind(this);\r\n\t\tthis.onPointerMove = this.onPointerMove.bind(this);\r\n\t\tthis.onPointerUp = this.onPointerUp.bind(this);\r\n\t\tthis.dragAndDropGroup = Util.getDragEvents(this.props.dragAndDropGroup);\r\n\t\tthis.elFromPointCounter = 0;\r\n\t\tthis.latestUpdateX = null;\r\n\t\tthis.latestUpdateY = null;\r\n\t\t// Minimum pixels moved before looking for new cards etc.\r\n\t\tthis.minDragDistanceThreshold = this.props.minDragDistanceThreshold ? this.props.minDragDistanceThreshold : 5;\r\n\t\tthis.draggableHoveringOver = null;\r\n\t\tthis.droppableDraggedOver = null;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener('keydown', this.handleDragShortcuts);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.removeEventListener('keydown', this.handleDragShortcuts);\r\n\t\tcancelAnimationFrame(this.frame);\r\n\t\tthis.frame = null;\r\n\t}\r\n\r\n\thandleDragShortcuts(e) {\r\n\t\tif (e.key === 'Escape') {\r\n\t\t\tthis.onPointerCancel(e);\r\n\t\t}\r\n\t}\r\n\r\n\t/*setPointerCapture(pointerId) {\r\n\t\tif (!this.state.capturing && pointerId) {\r\n\t\t\tthis.draggable.setPointerCapture(pointerId);\r\n\t\t\tthis.setState({capturing: true, pointerId: pointerId});\r\n\t\t}\r\n\t}\r\n\r\n\treleasePointerCapture() {\r\n\t\tif (this.state.isTouch && this.state.pointerId && this.draggable) {\r\n\t\t\tthis.draggable.releasePointerCapture(this.state.pointerId);\r\n\t\t}\r\n\t}*/\r\n\r\n\tgetBoundingClientRect() {\r\n\t\tif (this.draggable) {\r\n\t\t\treturn this.draggable.getBoundingClientRect();\r\n\t\t}\r\n\t}\r\n\r\n\tremoveDragEventListeners() {\r\n\t\tif (!this.state.isTouch) {\r\n\t\t\tdocument.removeEventListener('mousemove', this.onPointerMove);\r\n\t\t\tdocument.removeEventListener('mouseup', this.onPointerUp);\r\n\t\t\t// Remove the click blocker after ended drag (on next available frame)\r\n\t\t\trequestAnimationFrame(() => document.removeEventListener('click', this.clickBlocker, true));\r\n\t\t}\r\n\t}\r\n\r\n\tclickBlocker(e) {\r\n\t\te.stopPropagation();\r\n\t\te.preventDefault();\r\n\t}\r\n\r\n\tonPointerDown(e, isTouch) {\r\n\t\tconst isMouse = e.buttons === 1;\r\n\t\tif ((!isTouch && !isMouse) || (e.target.className && typeof e.target.className === 'string' && e.target.className.includes('no-drag')) || this.props.disabled || this.props.isSectionHeader) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (e) {\r\n\t\t\tif (!isTouch) e.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tif (!isTouch) {\r\n\t\t\tdocument.addEventListener('mousemove', this.onPointerMove);\r\n\t\t\tdocument.addEventListener('mouseup', this.onPointerUp);\r\n\t\t}\r\n\t\tconst dragObject = {draggableId: this.props.draggableId, droppableId: this.props.droppableId};\r\n\t\tdispatch(this.dragAndDropGroup.moveEvent, dragObject, null, null, null, null);\r\n\t\tif (this.droppableDraggedOver !== null || this.draggableHoveringOver !== null) {\r\n\t\t\tthis.droppableDraggedOver = null;\r\n\t\t\tthis.draggableHoveringOver = null;\r\n\t\t}\r\n\t\tconst x = isTouch ? e.changedTouches[e.changedTouches.length - 1].clientX : e.clientX;\r\n\t\tconst y = isTouch ? e.changedTouches[e.changedTouches.length - 1].clientY : e.clientY;\r\n\t\tlet cardWidth = this.draggable.offsetWidth;\r\n\t\tconst cardTop = this.draggable.getBoundingClientRect().top;\r\n\t\tconst cardLeft = this.draggable.getBoundingClientRect().left;\r\n\t\tthis.setState({\r\n\t\t\twidth: cardWidth,\r\n\t\t\tdidMoveMinDistanceDuringDrag: false,\r\n\t\t\tminDragDistanceMoved: false,\r\n\t\t\tstartX: x,\r\n\t\t\tstartY: y,\r\n\t\t\twasClicked: true,\r\n\t\t\tisTouch: isTouch,\r\n\t\t\tisDragging: false,\r\n\t\t\t// +8 for margin for error\r\n\t\t\txClickOffset: Math.abs(x - cardLeft) + 8,\r\n\t\t\tyClickOffset: Math.abs(y - cardTop) + 8\r\n\t\t});\r\n\t}\r\n\tonPointerUp(e) {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tif (this.props.disabled || this.props.isSectionHeader) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.state.isTouch && this.state.pointerId) {\r\n\t\t\t//this.releasePointerCapture();\r\n\t\t}\r\n\t\tif (this.state.didMoveMinDistanceDuringDrag) {\r\n\t\t\tdispatch(this.dragAndDropGroup.endEvent);\r\n\t\t}\r\n\t\tdispatch(this.dragAndDropGroup.resetEvent);\r\n\t\tthis.draggableHoveringOver = null;\r\n\t\tthis.setState({\r\n\t\t\tisDragging: false,\r\n\t\t\tcapturing: false,\r\n\t\t\tdidMoveMinDistanceDuringDrag: false,\r\n\t\t\tminDragDistanceMoved: false,\r\n\t\t\tcardLeft: 0,\r\n\t\t\tcardTop: 0,\r\n\t\t\ttop: null,\r\n\t\t\tleft: null,\r\n\t\t\twasClicked: false\r\n\t\t});\r\n\t\tthis.removeDragEventListeners();\r\n\t}\r\n\tonPointerCancel() {\r\n\t\tdispatch(this.dragAndDropGroup.resetEvent);\r\n\t\tthis.draggableHoveringOver = null;\r\n\t\tthis.setState({\r\n\t\t\tisDragging: false,\r\n\t\t\tcapturing: false,\r\n\t\t\tdidMoveMinDistanceDuringDrag: false,\r\n\t\t\tminDragDistanceMoved: false,\r\n\t\t\tleft: null,\r\n\t\t\ttop: null,\r\n\t\t\tcardLeft: 0,\r\n\t\t\tcardTop: 0,\r\n\t\t\twasClicked: false\r\n\t\t});\r\n\t\tthis.removeDragEventListeners();\r\n\t\t//this.releasePointerCapture();\r\n\t}\r\n\t// Don't update what we're dragging over on every single drag\r\n\tshouldRefindDragElems(x, y) {\r\n\t\tif (!this.latestUpdateX || !this.latestUpdateY) {\r\n\t\t\tthis.latestUpdateX = x;\r\n\t\t\tthis.latestUpdateY = y;\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\t// Only update if we've moved some x + y distance that is larger than threshold\r\n\t\t\tconst shouldUpdate = Math.abs(this.latestUpdateX - x) + Math.abs(this.latestUpdateY - y) >= this.minDragDistanceThreshold;\r\n\t\t\tif (shouldUpdate) {\r\n\t\t\t\tthis.latestUpdateX = x;\r\n\t\t\t\tthis.latestUpdateY = y;\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tmoveElement(x, y) {\r\n\t\tlet hasDispatched = false;\r\n\t\tconst shouldRefindDragElems = this.shouldRefindDragElems(x, y);\r\n\t\tlet droppableDraggedOver = shouldRefindDragElems || this.droppableDraggedOver == null ? this.getDroppableElemUnderDrag(x, y) : this.droppableDraggedOver;\r\n\t\tlet draggableHoveringOver = shouldRefindDragElems || this.draggableHoveringOver == null ? this.getDraggableElemUnderDrag(x, y) : this.draggableHoveringOver;\r\n\t\tconst newLeft = x - this.state.xClickOffset;\r\n\t\tconst newTop = y - this.state.yClickOffset;\r\n\t\tconst minDistanceMoved = Math.abs(this.state.startX - x) > this.state.dragSensitivityX || Math.abs(this.state.startY - y) > this.state.dragSensitivityY;\r\n\t\tif (minDistanceMoved && !this.state.didMoveMinDistanceDuringDrag) {\r\n\t\t\tthis.setState({didMoveMinDistanceDuringDrag: true});\r\n\t\t}\r\n\t\tif (!minDistanceMoved && !this.state.didMoveMinDistanceDuringDrag) {\r\n\t\t\tconst dragObject = {draggableId: this.props.draggableId, droppableId: this.props.droppableId};\r\n\t\t\tdispatch(this.dragAndDropGroup.moveEvent, dragObject, null, null, null, null);\r\n\t\t\thasDispatched = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!droppableDraggedOver) {\r\n\t\t\tdispatch(this.dragAndDropGroup.resetEvent);\r\n\t\t\tthis.droppableDraggedOver = null;\r\n\t\t\tthis.draggableHoveringOver = null;\r\n\t\t}\r\n\t\tconst shouldRegisterAsDrag = this.state.didMoveMinDistanceDuringDrag || minDistanceMoved;\r\n\t\tif (shouldRegisterAsDrag && this.state.wasClicked && !this.state.isDragging) {\r\n\t\t\tconst dragObject = {\r\n\t\t\t\tdraggableId: this.props.draggableId,\r\n\t\t\t\tdroppableId: this.props.droppableId,\r\n\t\t\t\theight: this.draggable ? this.draggable.clientHeight : null\r\n\t\t\t};\r\n\t\t\tdispatch(this.dragAndDropGroup.startEvent, dragObject, x, y);\r\n\t\t\thasDispatched = true;\r\n\t\t}\r\n\t\t// We're hovering over a droppable and a draggable\r\n\t\tif (droppableDraggedOver && draggableHoveringOver && shouldRegisterAsDrag) {\r\n\t\t\tconst draggableHoveredOverId = draggableHoveringOver.getAttribute('draggableid');\r\n\t\t\tif (!draggableHoveredOverId.includes('placeholder')) {\r\n\t\t\t\tif (this.droppableDraggedOver !== droppableDraggedOver || this.draggableHoveringOver !== draggableHoveringOver) {\r\n\t\t\t\t\tconst dragObject = {draggableId: this.props.draggableId, droppableId: this.props.droppableId};\r\n\t\t\t\t\tdispatch(this.dragAndDropGroup.moveEvent, dragObject, droppableDraggedOver, draggableHoveredOverId, x, y);\r\n\t\t\t\t\thasDispatched = true;\r\n\t\t\t\t\tthis.droppableDraggedOver = droppableDraggedOver;\r\n\t\t\t\t\tthis.draggableHoveringOver = draggableHoveringOver;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (droppableDraggedOver && shouldRegisterAsDrag) {\r\n\t\t\t// We're hovering over a droppable, but no draggable\r\n\t\t\tthis.droppableDraggedOver = droppableDraggedOver;\r\n\t\t\tthis.draggableHoveringOver = null;\r\n\t\t\tconst dragObject = {draggableId: this.props.draggableId, droppableId: this.props.droppableId};\r\n\t\t\tdispatch(this.dragAndDropGroup.moveEvent, dragObject, droppableDraggedOver, null, x, y, null);\r\n\t\t\thasDispatched = true;\r\n\t\t}\r\n\t\tif (!hasDispatched) {\r\n\t\t\t// If nothing changed, we still wanna notify move for scrolling\r\n\t\t\tdispatch(this.dragAndDropGroup.moveEvent, null, null, null, x, y, null);\r\n\t\t\thasDispatched = true;\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tisDragging: shouldRegisterAsDrag,\r\n\t\t\t// We need to move more than the drag sensitivity before we consider it an intended drag\r\n\t\t\tminDragDistanceMoved: minDistanceMoved,\r\n\t\t\tleft: newLeft,\r\n\t\t\ttop: newTop\r\n\t\t});\r\n\t}\r\n\r\n\tonPointerMove(e) {\r\n\t\tif (this.props.disabled || !this.state.wasClicked || this.props.isSectionHeader) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst x = this.state.isTouch ? e.changedTouches[e.changedTouches.length - 1].clientX : e.clientX;\r\n\t\tconst y = this.state.isTouch ? e.changedTouches[e.changedTouches.length - 1].clientY : e.clientY;\r\n\t\tif (this.state.isTouch) {\r\n\t\t\t// This seems unneccesary for touch events\r\n\t\t\t//this.setPointerCapture(e.pointerId);\r\n\t\t}\r\n\t\tconst minDistanceMoved = Math.abs(this.state.startX - x) > this.state.dragSensitivityX || Math.abs(this.state.startY - y) > this.state.dragSensitivityY;\r\n\t\tif (!minDistanceMoved && !this.state.didMoveMinDistanceDuringDrag) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdocument.addEventListener('click', this.clickBlocker, true);\r\n\t\tif (!this.state.isTouch) e.preventDefault();\r\n\t\telse e.nativeEvent.preventDefault();\r\n\r\n\t\te.stopPropagation();\r\n\t\tif (e.buttons === 1 || this.state.isTouch) {\r\n\t\t\trequestAnimationFrame(() => this.moveElement(x, y));\r\n\t\t} else {\r\n\t\t\tthis.onPointerCancel();\r\n\t\t}\r\n\t}\r\n\r\n\tgetDroppableElemUnderDrag(x, y) {\r\n\t\tlet colUnder = null;\r\n\t\tlet draggingElement = this.draggable;\r\n\t\tif (draggingElement) {\r\n\t\t\t// Disable pointer events to look through element\r\n\t\t\tdraggingElement.style.pointerEvents = 'none';\r\n\t\t\t// Get element under dragged  (look through)\r\n\t\t\tlet elementUnder = document.elementFromPoint(x, y);\r\n\t\t\t// Reset dragged element's pointers\r\n\t\t\tdraggingElement.style.pointerEvents = 'all';\r\n\t\t\tcolUnder = Util.getDroppableParentElement(elementUnder, this.props.dragAndDropGroup);\r\n\t\t}\r\n\t\treturn colUnder;\r\n\t}\r\n\r\n\tgetDraggableElemUnderDrag(x, y) {\r\n\t\tif (!this.state.wasClicked || !this.state.didMoveMinDistanceDuringDrag) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet cardUnder = null;\r\n\t\t// The Element we're dragging\r\n\t\tlet draggingElement = this.draggable;\r\n\t\tif (draggingElement) {\r\n\t\t\t// Disable pointer events to look through element\r\n\t\t\tdraggingElement.style.pointerEvents = 'none';\r\n\t\t\t// Get element under dragged tasks (look through)\r\n\t\t\tlet elementUnder = document.elementFromPoint(x, y);\r\n\t\t\t// Reset dragged element's pointers\r\n\t\t\tcardUnder = Util.getDraggableParentElement(elementUnder);\r\n\t\t\tdraggingElement.style.pointerEvents = 'all';\r\n\t\t}\r\n\t\treturn cardUnder;\r\n\t}\r\n\r\n\t/*handlePointerCaptureLoss(e) {\r\n\t\tif (this.state.wasClicked && e.pointerId != null) {\r\n\t\t\tthis.draggable.setPointerCapture(e.pointerId);\r\n\t\t}\r\n\t}*/\r\n\r\n\trender() {\r\n\t\tconst active = this.state.isDragging && this.state.wasClicked;\r\n\t\tconst draggingStyle = {\r\n\t\t\tcursor: 'move',\r\n\t\t\tposition: this.state.didMoveMinDistanceDuringDrag || this.state.minDragDistanceMoved ? 'fixed' : '',\r\n\t\t\twidth: this.state.width,\r\n\t\t\ttransition: 'none',\r\n\t\t\tanimation: 'none',\r\n\t\t\tzIndex: 500,\r\n\t\t\ttop: this.state.minDragDistanceMoved || this.state.didMoveMinDistanceDuringDrag ? this.state.top + 'px' : 0,\r\n\t\t\tleft: this.state.minDragDistanceMoved || this.state.didMoveMinDistanceDuringDrag ? this.state.left + 'px' : 0\r\n\t\t};\r\n\r\n\t\tconst propsObject = {\r\n\t\t\t'data-cy': 'draggable-' + this.props.draggableId,\r\n\t\t\tclassName: 'draggable' + (active ? this.props.dragActiveClass : ''),\r\n\t\t\tstyle: active ? {...draggingStyle} : {transform: 'none', top: 0, left: 0, cursor: this.props.disabled || this.props.isSectionHeader ? 'arrow' : this.state.wasClicked ? 'move' : 'grab'},\r\n\t\t\tkey: this.props.draggableId,\r\n\t\t\tdraggableid: this.props.isSectionHeader ? 'SECTION_HEADER_' + this.props.draggableId + (this.props.disableMove ? '_DISABLE_MOVE' : '') : this.props.draggableId,\r\n\t\t\tindex: this.props.innerIndex,\r\n\t\t\ttabIndex: '0',\r\n\t\t\tref: div => (this.draggable = div),\r\n\t\t\t'aria-grabbed': true,\r\n\t\t\t'aria-dropeffect': 'move'\r\n\t\t};\r\n\t\tconst useTouchEvents = false;\r\n\t\tif (useTouchEvents && this.state.isTouch) {\r\n\t\t\tpropsObject.onTouchMove = e => this.onPointerMove(e);\r\n\t\t\tpropsObject.onTouchEnd = e => this.onPointerUp(e);\r\n\t\t\tpropsObject.onTouchCancel = e => this.onPointerCancel(e);\r\n\t\t}\r\n\t\tif (useTouchEvents) propsObject.onTouchStart = e => this.onPointerDown(e, true);\r\n\t\tpropsObject.onMouseDown = e => this.onPointerDown(e, false);\r\n\r\n\t\tconst CustomTag = this.props.tagName ? this.props.tagName : 'div';\r\n\t\treturn <CustomTag {...propsObject}>{this.props.children}</CustomTag>;\r\n\t}\r\n}\r\n\r\nDraggable.propTypes = {\r\n\tdragAndDropGroup: PropTypes.string.isRequired,\r\n\tdraggableId: PropTypes.string.isRequired,\r\n\tdragDisabled: PropTypes.bool,\r\n\tsection: PropTypes.string\r\n};\r\n\r\nexport default Draggable;\r\n","// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n","var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function(object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n","var div = null\nvar prefixes = [ 'Webkit', 'Moz', 'O', 'ms' ]\n\nmodule.exports = function prefixStyle (prop) {\n  // re-use a dummy div\n  if (!div) {\n    div = document.createElement('div')\n  }\n\n  var style = div.style\n\n  // prop exists without prefix\n  if (prop in style) {\n    return prop\n  }\n\n  // borderRadius -> BorderRadius\n  var titleCase = prop.charAt(0).toUpperCase() + prop.slice(1)\n\n  // find the vendor-prefixed prop\n  for (var i = prefixes.length; i >= 0; i--) {\n    var name = prefixes[i] + titleCase\n    // e.g. WebkitBorderRadius or webkitBorderRadius\n    if (name in style) {\n      return name\n    }\n  }\n\n  return false\n}\n","\n/**\n * Export.\n */\n\nmodule.exports = toNoCase\n\n/**\n * Test whether a string is camel-case.\n */\n\nvar hasSpace = /\\s/\nvar hasSeparator = /(_|-|\\.|:)/\nvar hasCamel = /([a-z][A-Z]|[A-Z][a-z])/\n\n/**\n * Remove any starting case from a `string`, like camel or snake, but keep\n * spaces and punctuation that may be important otherwise.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toNoCase(string) {\n  if (hasSpace.test(string)) return string.toLowerCase()\n  if (hasSeparator.test(string)) return (unseparate(string) || string).toLowerCase()\n  if (hasCamel.test(string)) return uncamelize(string).toLowerCase()\n  return string.toLowerCase()\n}\n\n/**\n * Separator splitter.\n */\n\nvar separatorSplitter = /[\\W_]+(.|$)/g\n\n/**\n * Un-separate a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction unseparate(string) {\n  return string.replace(separatorSplitter, function (m, next) {\n    return next ? ' ' + next : ''\n  })\n}\n\n/**\n * Camelcase splitter.\n */\n\nvar camelSplitter = /(.)([A-Z]+)/g\n\n/**\n * Un-camelcase a `string`.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction uncamelize(string) {\n  return string.replace(camelSplitter, function (m, previous, uppers) {\n    return previous + ' ' + uppers.toLowerCase().split('').join(' ')\n  })\n}\n","\nvar clean = require('to-no-case')\n\n/**\n * Export.\n */\n\nmodule.exports = toSpaceCase\n\n/**\n * Convert a `string` to space case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toSpaceCase(string) {\n  return clean(string).replace(/[\\W_]+(.|$)/g, function (matches, match) {\n    return match ? ' ' + match : ''\n  }).trim()\n}\n","\nvar space = require('to-space-case')\n\n/**\n * Export.\n */\n\nmodule.exports = toCamelCase\n\n/**\n * Convert a `string` to camel case.\n *\n * @param {String} string\n * @return {String}\n */\n\nfunction toCamelCase(string) {\n  return space(string).replace(/\\s(\\w)/g, function (matches, letter) {\n    return letter.toUpperCase()\n  })\n}\n","/* The following list is defined in React's core */\nvar IS_UNITLESS = {\n  animationIterationCount: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridColumn: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n\n  // SVG-related properties\n  fillOpacity: true,\n  stopOpacity: true,\n  strokeDashoffset: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\nmodule.exports = function(name, value) {\n  if(typeof value === 'number' && !IS_UNITLESS[ name ]) {\n    return value + 'px';\n  } else {\n    return value;\n  }\n};","var prefix = require('prefix-style')\nvar toCamelCase = require('to-camel-case')\nvar cache = { 'float': 'cssFloat' }\nvar addPxToStyle = require('add-px-to-style')\n\nfunction style (element, property, value) {\n  var camel = cache[property]\n  if (typeof camel === 'undefined') {\n    camel = detect(property)\n  }\n\n  // may be false if CSS prop is unsupported\n  if (camel) {\n    if (value === undefined) {\n      return element.style[camel]\n    }\n\n    element.style[camel] = addPxToStyle(camel, value)\n  }\n}\n\nfunction each (element, properties) {\n  for (var k in properties) {\n    if (properties.hasOwnProperty(k)) {\n      style(element, k, properties[k])\n    }\n  }\n}\n\nfunction detect (cssProp) {\n  var camel = toCamelCase(cssProp)\n  var result = prefix(camel)\n  cache[camel] = cache[cssProp] = cache[result] = result\n  return result\n}\n\nfunction set () {\n  if (arguments.length === 2) {\n    if (typeof arguments[1] === 'string') {\n      arguments[0].style.cssText = arguments[1]\n    } else {\n      each(arguments[0], arguments[1])\n    }\n  } else {\n    style(arguments[0], arguments[1], arguments[2])\n  }\n}\n\nmodule.exports = set\nmodule.exports.set = set\n\nmodule.exports.get = function (element, properties) {\n  if (Array.isArray(properties)) {\n    return properties.reduce(function (obj, prop) {\n      obj[prop] = style(element, prop || '')\n      return obj\n    }, {})\n  } else {\n    return style(element, properties || '')\n  }\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = isString;\nfunction isString(maybe) {\n    return typeof maybe === 'string';\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getScrollbarWidth;\n\nvar _domCss = require('dom-css');\n\nvar _domCss2 = _interopRequireDefault(_domCss);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar scrollbarWidth = false;\n\nfunction getScrollbarWidth() {\n    if (scrollbarWidth !== false) return scrollbarWidth;\n    /* istanbul ignore else */\n    if (typeof document !== 'undefined') {\n        var div = document.createElement('div');\n        (0, _domCss2[\"default\"])(div, {\n            width: 100,\n            height: 100,\n            position: 'absolute',\n            top: -9999,\n            overflow: 'scroll',\n            MsOverflowStyle: 'scrollbar'\n        });\n        document.body.appendChild(div);\n        scrollbarWidth = div.offsetWidth - div.clientWidth;\n        document.body.removeChild(div);\n    } else {\n        scrollbarWidth = 0;\n    }\n    return scrollbarWidth || 0;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = returnFalse;\nfunction returnFalse() {\n    return false;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getInnerWidth;\nfunction getInnerWidth(el) {\n    var clientWidth = el.clientWidth;\n\n    var _getComputedStyle = getComputedStyle(el),\n        paddingLeft = _getComputedStyle.paddingLeft,\n        paddingRight = _getComputedStyle.paddingRight;\n\n    return clientWidth - parseFloat(paddingLeft) - parseFloat(paddingRight);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = getInnerHeight;\nfunction getInnerHeight(el) {\n    var clientHeight = el.clientHeight;\n\n    var _getComputedStyle = getComputedStyle(el),\n        paddingTop = _getComputedStyle.paddingTop,\n        paddingBottom = _getComputedStyle.paddingBottom;\n\n    return clientHeight - parseFloat(paddingTop) - parseFloat(paddingBottom);\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar containerStyleDefault = exports.containerStyleDefault = {\n    position: 'relative',\n    overflow: 'hidden',\n    width: '100%',\n    height: '100%'\n};\n\n// Overrides containerStyleDefault properties\nvar containerStyleAutoHeight = exports.containerStyleAutoHeight = {\n    height: 'auto'\n};\n\nvar viewStyleDefault = exports.viewStyleDefault = {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    overflow: 'scroll',\n    WebkitOverflowScrolling: 'touch'\n};\n\n// Overrides viewStyleDefault properties\nvar viewStyleAutoHeight = exports.viewStyleAutoHeight = {\n    position: 'relative',\n    top: undefined,\n    left: undefined,\n    right: undefined,\n    bottom: undefined\n};\n\nvar viewStyleUniversalInitial = exports.viewStyleUniversalInitial = {\n    overflow: 'hidden',\n    marginRight: 0,\n    marginBottom: 0\n};\n\nvar trackHorizontalStyleDefault = exports.trackHorizontalStyleDefault = {\n    position: 'absolute',\n    height: 6\n};\n\nvar trackVerticalStyleDefault = exports.trackVerticalStyleDefault = {\n    position: 'absolute',\n    width: 6\n};\n\nvar thumbHorizontalStyleDefault = exports.thumbHorizontalStyleDefault = {\n    position: 'relative',\n    display: 'block',\n    height: '100%'\n};\n\nvar thumbVerticalStyleDefault = exports.thumbVerticalStyleDefault = {\n    position: 'relative',\n    display: 'block',\n    width: '100%'\n};\n\nvar disableSelectStyle = exports.disableSelectStyle = {\n    userSelect: 'none'\n};\n\nvar disableSelectStyleReset = exports.disableSelectStyleReset = {\n    userSelect: ''\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.renderViewDefault = renderViewDefault;\nexports.renderTrackHorizontalDefault = renderTrackHorizontalDefault;\nexports.renderTrackVerticalDefault = renderTrackVerticalDefault;\nexports.renderThumbHorizontalDefault = renderThumbHorizontalDefault;\nexports.renderThumbVerticalDefault = renderThumbVerticalDefault;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n/* eslint-disable react/prop-types */\n\nfunction renderViewDefault(props) {\n    return _react2[\"default\"].createElement('div', props);\n}\n\nfunction renderTrackHorizontalDefault(_ref) {\n    var style = _ref.style,\n        props = _objectWithoutProperties(_ref, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        right: 2,\n        bottom: 2,\n        left: 2,\n        borderRadius: 3\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderTrackVerticalDefault(_ref2) {\n    var style = _ref2.style,\n        props = _objectWithoutProperties(_ref2, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        right: 2,\n        bottom: 2,\n        top: 2,\n        borderRadius: 3\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderThumbHorizontalDefault(_ref3) {\n    var style = _ref3.style,\n        props = _objectWithoutProperties(_ref3, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        cursor: 'pointer',\n        borderRadius: 'inherit',\n        backgroundColor: 'rgba(0,0,0,.2)'\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}\n\nfunction renderThumbVerticalDefault(_ref4) {\n    var style = _ref4.style,\n        props = _objectWithoutProperties(_ref4, ['style']);\n\n    var finalStyle = _extends({}, style, {\n        cursor: 'pointer',\n        borderRadius: 'inherit',\n        backgroundColor: 'rgba(0,0,0,.2)'\n    });\n    return _react2[\"default\"].createElement('div', _extends({ style: finalStyle }, props));\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _raf2 = require('raf');\n\nvar _raf3 = _interopRequireDefault(_raf2);\n\nvar _domCss = require('dom-css');\n\nvar _domCss2 = _interopRequireDefault(_domCss);\n\nvar _react = require('react');\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _isString = require('../utils/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nvar _getScrollbarWidth = require('../utils/getScrollbarWidth');\n\nvar _getScrollbarWidth2 = _interopRequireDefault(_getScrollbarWidth);\n\nvar _returnFalse = require('../utils/returnFalse');\n\nvar _returnFalse2 = _interopRequireDefault(_returnFalse);\n\nvar _getInnerWidth = require('../utils/getInnerWidth');\n\nvar _getInnerWidth2 = _interopRequireDefault(_getInnerWidth);\n\nvar _getInnerHeight = require('../utils/getInnerHeight');\n\nvar _getInnerHeight2 = _interopRequireDefault(_getInnerHeight);\n\nvar _styles = require('./styles');\n\nvar _defaultRenderElements = require('./defaultRenderElements');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Scrollbars = function (_Component) {\n    _inherits(Scrollbars, _Component);\n\n    function Scrollbars(props) {\n        var _ref;\n\n        _classCallCheck(this, Scrollbars);\n\n        for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            rest[_key - 1] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, (_ref = Scrollbars.__proto__ || Object.getPrototypeOf(Scrollbars)).call.apply(_ref, [this, props].concat(rest)));\n\n        _this.getScrollLeft = _this.getScrollLeft.bind(_this);\n        _this.getScrollTop = _this.getScrollTop.bind(_this);\n        _this.getScrollWidth = _this.getScrollWidth.bind(_this);\n        _this.getScrollHeight = _this.getScrollHeight.bind(_this);\n        _this.getClientWidth = _this.getClientWidth.bind(_this);\n        _this.getClientHeight = _this.getClientHeight.bind(_this);\n        _this.getValues = _this.getValues.bind(_this);\n        _this.getThumbHorizontalWidth = _this.getThumbHorizontalWidth.bind(_this);\n        _this.getThumbVerticalHeight = _this.getThumbVerticalHeight.bind(_this);\n        _this.getScrollLeftForOffset = _this.getScrollLeftForOffset.bind(_this);\n        _this.getScrollTopForOffset = _this.getScrollTopForOffset.bind(_this);\n\n        _this.scrollLeft = _this.scrollLeft.bind(_this);\n        _this.scrollTop = _this.scrollTop.bind(_this);\n        _this.scrollToLeft = _this.scrollToLeft.bind(_this);\n        _this.scrollToTop = _this.scrollToTop.bind(_this);\n        _this.scrollToRight = _this.scrollToRight.bind(_this);\n        _this.scrollToBottom = _this.scrollToBottom.bind(_this);\n\n        _this.handleTrackMouseEnter = _this.handleTrackMouseEnter.bind(_this);\n        _this.handleTrackMouseLeave = _this.handleTrackMouseLeave.bind(_this);\n        _this.handleHorizontalTrackMouseDown = _this.handleHorizontalTrackMouseDown.bind(_this);\n        _this.handleVerticalTrackMouseDown = _this.handleVerticalTrackMouseDown.bind(_this);\n        _this.handleHorizontalThumbMouseDown = _this.handleHorizontalThumbMouseDown.bind(_this);\n        _this.handleVerticalThumbMouseDown = _this.handleVerticalThumbMouseDown.bind(_this);\n        _this.handleWindowResize = _this.handleWindowResize.bind(_this);\n        _this.handleScroll = _this.handleScroll.bind(_this);\n        _this.handleDrag = _this.handleDrag.bind(_this);\n        _this.handleDragEnd = _this.handleDragEnd.bind(_this);\n\n        _this.state = {\n            didMountUniversal: false\n        };\n        return _this;\n    }\n\n    _createClass(Scrollbars, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.addListeners();\n            this.update();\n            this.componentDidMountUniversal();\n        }\n    }, {\n        key: 'componentDidMountUniversal',\n        value: function componentDidMountUniversal() {\n            // eslint-disable-line react/sort-comp\n            var universal = this.props.universal;\n\n            if (!universal) return;\n            this.setState({ didMountUniversal: true });\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            this.update();\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.removeListeners();\n            (0, _raf2.cancel)(this.requestFrame);\n            clearTimeout(this.hideTracksTimeout);\n            clearInterval(this.detectScrollingInterval);\n        }\n    }, {\n        key: 'getScrollLeft',\n        value: function getScrollLeft() {\n            if (!this.view) return 0;\n            return this.view.scrollLeft;\n        }\n    }, {\n        key: 'getScrollTop',\n        value: function getScrollTop() {\n            if (!this.view) return 0;\n            return this.view.scrollTop;\n        }\n    }, {\n        key: 'getScrollWidth',\n        value: function getScrollWidth() {\n            if (!this.view) return 0;\n            return this.view.scrollWidth;\n        }\n    }, {\n        key: 'getScrollHeight',\n        value: function getScrollHeight() {\n            if (!this.view) return 0;\n            return this.view.scrollHeight;\n        }\n    }, {\n        key: 'getClientWidth',\n        value: function getClientWidth() {\n            if (!this.view) return 0;\n            return this.view.clientWidth;\n        }\n    }, {\n        key: 'getClientHeight',\n        value: function getClientHeight() {\n            if (!this.view) return 0;\n            return this.view.clientHeight;\n        }\n    }, {\n        key: 'getValues',\n        value: function getValues() {\n            var _ref2 = this.view || {},\n                _ref2$scrollLeft = _ref2.scrollLeft,\n                scrollLeft = _ref2$scrollLeft === undefined ? 0 : _ref2$scrollLeft,\n                _ref2$scrollTop = _ref2.scrollTop,\n                scrollTop = _ref2$scrollTop === undefined ? 0 : _ref2$scrollTop,\n                _ref2$scrollWidth = _ref2.scrollWidth,\n                scrollWidth = _ref2$scrollWidth === undefined ? 0 : _ref2$scrollWidth,\n                _ref2$scrollHeight = _ref2.scrollHeight,\n                scrollHeight = _ref2$scrollHeight === undefined ? 0 : _ref2$scrollHeight,\n                _ref2$clientWidth = _ref2.clientWidth,\n                clientWidth = _ref2$clientWidth === undefined ? 0 : _ref2$clientWidth,\n                _ref2$clientHeight = _ref2.clientHeight,\n                clientHeight = _ref2$clientHeight === undefined ? 0 : _ref2$clientHeight;\n\n            return {\n                left: scrollLeft / (scrollWidth - clientWidth) || 0,\n                top: scrollTop / (scrollHeight - clientHeight) || 0,\n                scrollLeft: scrollLeft,\n                scrollTop: scrollTop,\n                scrollWidth: scrollWidth,\n                scrollHeight: scrollHeight,\n                clientWidth: clientWidth,\n                clientHeight: clientHeight\n            };\n        }\n    }, {\n        key: 'getThumbHorizontalWidth',\n        value: function getThumbHorizontalWidth() {\n            var _props = this.props,\n                thumbSize = _props.thumbSize,\n                thumbMinSize = _props.thumbMinSize;\n            var _view = this.view,\n                scrollWidth = _view.scrollWidth,\n                clientWidth = _view.clientWidth;\n\n            var trackWidth = (0, _getInnerWidth2[\"default\"])(this.trackHorizontal);\n            var width = Math.ceil(clientWidth / scrollWidth * trackWidth);\n            if (trackWidth === width) return 0;\n            if (thumbSize) return thumbSize;\n            return Math.max(width, thumbMinSize);\n        }\n    }, {\n        key: 'getThumbVerticalHeight',\n        value: function getThumbVerticalHeight() {\n            var _props2 = this.props,\n                thumbSize = _props2.thumbSize,\n                thumbMinSize = _props2.thumbMinSize;\n            var _view2 = this.view,\n                scrollHeight = _view2.scrollHeight,\n                clientHeight = _view2.clientHeight;\n\n            var trackHeight = (0, _getInnerHeight2[\"default\"])(this.trackVertical);\n            var height = Math.ceil(clientHeight / scrollHeight * trackHeight);\n            if (trackHeight === height) return 0;\n            if (thumbSize) return thumbSize;\n            return Math.max(height, thumbMinSize);\n        }\n    }, {\n        key: 'getScrollLeftForOffset',\n        value: function getScrollLeftForOffset(offset) {\n            var _view3 = this.view,\n                scrollWidth = _view3.scrollWidth,\n                clientWidth = _view3.clientWidth;\n\n            var trackWidth = (0, _getInnerWidth2[\"default\"])(this.trackHorizontal);\n            var thumbWidth = this.getThumbHorizontalWidth();\n            return offset / (trackWidth - thumbWidth) * (scrollWidth - clientWidth);\n        }\n    }, {\n        key: 'getScrollTopForOffset',\n        value: function getScrollTopForOffset(offset) {\n            var _view4 = this.view,\n                scrollHeight = _view4.scrollHeight,\n                clientHeight = _view4.clientHeight;\n\n            var trackHeight = (0, _getInnerHeight2[\"default\"])(this.trackVertical);\n            var thumbHeight = this.getThumbVerticalHeight();\n            return offset / (trackHeight - thumbHeight) * (scrollHeight - clientHeight);\n        }\n    }, {\n        key: 'scrollLeft',\n        value: function scrollLeft() {\n            var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n            if (!this.view) return;\n            this.view.scrollLeft = left;\n        }\n    }, {\n        key: 'scrollTop',\n        value: function scrollTop() {\n            var top = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n            if (!this.view) return;\n            this.view.scrollTop = top;\n        }\n    }, {\n        key: 'scrollToLeft',\n        value: function scrollToLeft() {\n            if (!this.view) return;\n            this.view.scrollLeft = 0;\n        }\n    }, {\n        key: 'scrollToTop',\n        value: function scrollToTop() {\n            if (!this.view) return;\n            this.view.scrollTop = 0;\n        }\n    }, {\n        key: 'scrollToRight',\n        value: function scrollToRight() {\n            if (!this.view) return;\n            this.view.scrollLeft = this.view.scrollWidth;\n        }\n    }, {\n        key: 'scrollToBottom',\n        value: function scrollToBottom() {\n            if (!this.view) return;\n            this.view.scrollTop = this.view.scrollHeight;\n        }\n    }, {\n        key: 'addListeners',\n        value: function addListeners() {\n            /* istanbul ignore if */\n            if (typeof document === 'undefined' || !this.view) return;\n            var view = this.view,\n                trackHorizontal = this.trackHorizontal,\n                trackVertical = this.trackVertical,\n                thumbHorizontal = this.thumbHorizontal,\n                thumbVertical = this.thumbVertical;\n\n            view.addEventListener('scroll', this.handleScroll);\n            if (!(0, _getScrollbarWidth2[\"default\"])()) return;\n            trackHorizontal.addEventListener('mouseenter', this.handleTrackMouseEnter);\n            trackHorizontal.addEventListener('mouseleave', this.handleTrackMouseLeave);\n            trackHorizontal.addEventListener('mousedown', this.handleHorizontalTrackMouseDown);\n            trackVertical.addEventListener('mouseenter', this.handleTrackMouseEnter);\n            trackVertical.addEventListener('mouseleave', this.handleTrackMouseLeave);\n            trackVertical.addEventListener('mousedown', this.handleVerticalTrackMouseDown);\n            thumbHorizontal.addEventListener('mousedown', this.handleHorizontalThumbMouseDown);\n            thumbVertical.addEventListener('mousedown', this.handleVerticalThumbMouseDown);\n            window.addEventListener('resize', this.handleWindowResize);\n        }\n    }, {\n        key: 'removeListeners',\n        value: function removeListeners() {\n            /* istanbul ignore if */\n            if (typeof document === 'undefined' || !this.view) return;\n            var view = this.view,\n                trackHorizontal = this.trackHorizontal,\n                trackVertical = this.trackVertical,\n                thumbHorizontal = this.thumbHorizontal,\n                thumbVertical = this.thumbVertical;\n\n            view.removeEventListener('scroll', this.handleScroll);\n            if (!(0, _getScrollbarWidth2[\"default\"])()) return;\n            trackHorizontal.removeEventListener('mouseenter', this.handleTrackMouseEnter);\n            trackHorizontal.removeEventListener('mouseleave', this.handleTrackMouseLeave);\n            trackHorizontal.removeEventListener('mousedown', this.handleHorizontalTrackMouseDown);\n            trackVertical.removeEventListener('mouseenter', this.handleTrackMouseEnter);\n            trackVertical.removeEventListener('mouseleave', this.handleTrackMouseLeave);\n            trackVertical.removeEventListener('mousedown', this.handleVerticalTrackMouseDown);\n            thumbHorizontal.removeEventListener('mousedown', this.handleHorizontalThumbMouseDown);\n            thumbVertical.removeEventListener('mousedown', this.handleVerticalThumbMouseDown);\n            window.removeEventListener('resize', this.handleWindowResize);\n            // Possibly setup by `handleDragStart`\n            this.teardownDragging();\n        }\n    }, {\n        key: 'handleScroll',\n        value: function handleScroll(event) {\n            var _this2 = this;\n\n            var _props3 = this.props,\n                onScroll = _props3.onScroll,\n                onScrollFrame = _props3.onScrollFrame;\n\n            if (onScroll) onScroll(event);\n            this.update(function (values) {\n                var scrollLeft = values.scrollLeft,\n                    scrollTop = values.scrollTop;\n\n                _this2.viewScrollLeft = scrollLeft;\n                _this2.viewScrollTop = scrollTop;\n                if (onScrollFrame) onScrollFrame(values);\n            });\n            this.detectScrolling();\n        }\n    }, {\n        key: 'handleScrollStart',\n        value: function handleScrollStart() {\n            var onScrollStart = this.props.onScrollStart;\n\n            if (onScrollStart) onScrollStart();\n            this.handleScrollStartAutoHide();\n        }\n    }, {\n        key: 'handleScrollStartAutoHide',\n        value: function handleScrollStartAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.showTracks();\n        }\n    }, {\n        key: 'handleScrollStop',\n        value: function handleScrollStop() {\n            var onScrollStop = this.props.onScrollStop;\n\n            if (onScrollStop) onScrollStop();\n            this.handleScrollStopAutoHide();\n        }\n    }, {\n        key: 'handleScrollStopAutoHide',\n        value: function handleScrollStopAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.hideTracks();\n        }\n    }, {\n        key: 'handleWindowResize',\n        value: function handleWindowResize() {\n            this.update();\n        }\n    }, {\n        key: 'handleHorizontalTrackMouseDown',\n        value: function handleHorizontalTrackMouseDown(event) {\n            event.preventDefault();\n            var target = event.target,\n                clientX = event.clientX;\n\n            var _target$getBoundingCl = target.getBoundingClientRect(),\n                targetLeft = _target$getBoundingCl.left;\n\n            var thumbWidth = this.getThumbHorizontalWidth();\n            var offset = Math.abs(targetLeft - clientX) - thumbWidth / 2;\n            this.view.scrollLeft = this.getScrollLeftForOffset(offset);\n        }\n    }, {\n        key: 'handleVerticalTrackMouseDown',\n        value: function handleVerticalTrackMouseDown(event) {\n            event.preventDefault();\n            var target = event.target,\n                clientY = event.clientY;\n\n            var _target$getBoundingCl2 = target.getBoundingClientRect(),\n                targetTop = _target$getBoundingCl2.top;\n\n            var thumbHeight = this.getThumbVerticalHeight();\n            var offset = Math.abs(targetTop - clientY) - thumbHeight / 2;\n            this.view.scrollTop = this.getScrollTopForOffset(offset);\n        }\n    }, {\n        key: 'handleHorizontalThumbMouseDown',\n        value: function handleHorizontalThumbMouseDown(event) {\n            event.preventDefault();\n            this.handleDragStart(event);\n            var target = event.target,\n                clientX = event.clientX;\n            var offsetWidth = target.offsetWidth;\n\n            var _target$getBoundingCl3 = target.getBoundingClientRect(),\n                left = _target$getBoundingCl3.left;\n\n            this.prevPageX = offsetWidth - (clientX - left);\n        }\n    }, {\n        key: 'handleVerticalThumbMouseDown',\n        value: function handleVerticalThumbMouseDown(event) {\n            event.preventDefault();\n            this.handleDragStart(event);\n            var target = event.target,\n                clientY = event.clientY;\n            var offsetHeight = target.offsetHeight;\n\n            var _target$getBoundingCl4 = target.getBoundingClientRect(),\n                top = _target$getBoundingCl4.top;\n\n            this.prevPageY = offsetHeight - (clientY - top);\n        }\n    }, {\n        key: 'setupDragging',\n        value: function setupDragging() {\n            (0, _domCss2[\"default\"])(document.body, _styles.disableSelectStyle);\n            document.addEventListener('mousemove', this.handleDrag);\n            document.addEventListener('mouseup', this.handleDragEnd);\n            document.onselectstart = _returnFalse2[\"default\"];\n        }\n    }, {\n        key: 'teardownDragging',\n        value: function teardownDragging() {\n            (0, _domCss2[\"default\"])(document.body, _styles.disableSelectStyleReset);\n            document.removeEventListener('mousemove', this.handleDrag);\n            document.removeEventListener('mouseup', this.handleDragEnd);\n            document.onselectstart = undefined;\n        }\n    }, {\n        key: 'handleDragStart',\n        value: function handleDragStart(event) {\n            this.dragging = true;\n            event.stopImmediatePropagation();\n            this.setupDragging();\n        }\n    }, {\n        key: 'handleDrag',\n        value: function handleDrag(event) {\n            if (this.prevPageX) {\n                var clientX = event.clientX;\n\n                var _trackHorizontal$getB = this.trackHorizontal.getBoundingClientRect(),\n                    trackLeft = _trackHorizontal$getB.left;\n\n                var thumbWidth = this.getThumbHorizontalWidth();\n                var clickPosition = thumbWidth - this.prevPageX;\n                var offset = -trackLeft + clientX - clickPosition;\n                this.view.scrollLeft = this.getScrollLeftForOffset(offset);\n            }\n            if (this.prevPageY) {\n                var clientY = event.clientY;\n\n                var _trackVertical$getBou = this.trackVertical.getBoundingClientRect(),\n                    trackTop = _trackVertical$getBou.top;\n\n                var thumbHeight = this.getThumbVerticalHeight();\n                var _clickPosition = thumbHeight - this.prevPageY;\n                var _offset = -trackTop + clientY - _clickPosition;\n                this.view.scrollTop = this.getScrollTopForOffset(_offset);\n            }\n            return false;\n        }\n    }, {\n        key: 'handleDragEnd',\n        value: function handleDragEnd() {\n            this.dragging = false;\n            this.prevPageX = this.prevPageY = 0;\n            this.teardownDragging();\n            this.handleDragEndAutoHide();\n        }\n    }, {\n        key: 'handleDragEndAutoHide',\n        value: function handleDragEndAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.hideTracks();\n        }\n    }, {\n        key: 'handleTrackMouseEnter',\n        value: function handleTrackMouseEnter() {\n            this.trackMouseOver = true;\n            this.handleTrackMouseEnterAutoHide();\n        }\n    }, {\n        key: 'handleTrackMouseEnterAutoHide',\n        value: function handleTrackMouseEnterAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.showTracks();\n        }\n    }, {\n        key: 'handleTrackMouseLeave',\n        value: function handleTrackMouseLeave() {\n            this.trackMouseOver = false;\n            this.handleTrackMouseLeaveAutoHide();\n        }\n    }, {\n        key: 'handleTrackMouseLeaveAutoHide',\n        value: function handleTrackMouseLeaveAutoHide() {\n            var autoHide = this.props.autoHide;\n\n            if (!autoHide) return;\n            this.hideTracks();\n        }\n    }, {\n        key: 'showTracks',\n        value: function showTracks() {\n            clearTimeout(this.hideTracksTimeout);\n            (0, _domCss2[\"default\"])(this.trackHorizontal, { opacity: 1 });\n            (0, _domCss2[\"default\"])(this.trackVertical, { opacity: 1 });\n        }\n    }, {\n        key: 'hideTracks',\n        value: function hideTracks() {\n            var _this3 = this;\n\n            if (this.dragging) return;\n            if (this.scrolling) return;\n            if (this.trackMouseOver) return;\n            var autoHideTimeout = this.props.autoHideTimeout;\n\n            clearTimeout(this.hideTracksTimeout);\n            this.hideTracksTimeout = setTimeout(function () {\n                (0, _domCss2[\"default\"])(_this3.trackHorizontal, { opacity: 0 });\n                (0, _domCss2[\"default\"])(_this3.trackVertical, { opacity: 0 });\n            }, autoHideTimeout);\n        }\n    }, {\n        key: 'detectScrolling',\n        value: function detectScrolling() {\n            var _this4 = this;\n\n            if (this.scrolling) return;\n            this.scrolling = true;\n            this.handleScrollStart();\n            this.detectScrollingInterval = setInterval(function () {\n                if (_this4.lastViewScrollLeft === _this4.viewScrollLeft && _this4.lastViewScrollTop === _this4.viewScrollTop) {\n                    clearInterval(_this4.detectScrollingInterval);\n                    _this4.scrolling = false;\n                    _this4.handleScrollStop();\n                }\n                _this4.lastViewScrollLeft = _this4.viewScrollLeft;\n                _this4.lastViewScrollTop = _this4.viewScrollTop;\n            }, 100);\n        }\n    }, {\n        key: 'raf',\n        value: function raf(callback) {\n            var _this5 = this;\n\n            if (this.requestFrame) _raf3[\"default\"].cancel(this.requestFrame);\n            this.requestFrame = (0, _raf3[\"default\"])(function () {\n                _this5.requestFrame = undefined;\n                callback();\n            });\n        }\n    }, {\n        key: 'update',\n        value: function update(callback) {\n            var _this6 = this;\n\n            this.raf(function () {\n                return _this6._update(callback);\n            });\n        }\n    }, {\n        key: '_update',\n        value: function _update(callback) {\n            var _props4 = this.props,\n                onUpdate = _props4.onUpdate,\n                hideTracksWhenNotNeeded = _props4.hideTracksWhenNotNeeded;\n\n            var values = this.getValues();\n            if ((0, _getScrollbarWidth2[\"default\"])()) {\n                var scrollLeft = values.scrollLeft,\n                    clientWidth = values.clientWidth,\n                    scrollWidth = values.scrollWidth;\n\n                var trackHorizontalWidth = (0, _getInnerWidth2[\"default\"])(this.trackHorizontal);\n                var thumbHorizontalWidth = this.getThumbHorizontalWidth();\n                var thumbHorizontalX = scrollLeft / (scrollWidth - clientWidth) * (trackHorizontalWidth - thumbHorizontalWidth);\n                var thumbHorizontalStyle = {\n                    width: thumbHorizontalWidth,\n                    transform: 'translateX(' + thumbHorizontalX + 'px)'\n                };\n                var scrollTop = values.scrollTop,\n                    clientHeight = values.clientHeight,\n                    scrollHeight = values.scrollHeight;\n\n                var trackVerticalHeight = (0, _getInnerHeight2[\"default\"])(this.trackVertical);\n                var thumbVerticalHeight = this.getThumbVerticalHeight();\n                var thumbVerticalY = scrollTop / (scrollHeight - clientHeight) * (trackVerticalHeight - thumbVerticalHeight);\n                var thumbVerticalStyle = {\n                    height: thumbVerticalHeight,\n                    transform: 'translateY(' + thumbVerticalY + 'px)'\n                };\n                if (hideTracksWhenNotNeeded) {\n                    var trackHorizontalStyle = {\n                        visibility: scrollWidth > clientWidth ? 'visible' : 'hidden'\n                    };\n                    var trackVerticalStyle = {\n                        visibility: scrollHeight > clientHeight ? 'visible' : 'hidden'\n                    };\n                    (0, _domCss2[\"default\"])(this.trackHorizontal, trackHorizontalStyle);\n                    (0, _domCss2[\"default\"])(this.trackVertical, trackVerticalStyle);\n                }\n                (0, _domCss2[\"default\"])(this.thumbHorizontal, thumbHorizontalStyle);\n                (0, _domCss2[\"default\"])(this.thumbVertical, thumbVerticalStyle);\n            }\n            if (onUpdate) onUpdate(values);\n            if (typeof callback !== 'function') return;\n            callback(values);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this7 = this;\n\n            var scrollbarWidth = (0, _getScrollbarWidth2[\"default\"])();\n            /* eslint-disable no-unused-vars */\n\n            var _props5 = this.props,\n                onScroll = _props5.onScroll,\n                onScrollFrame = _props5.onScrollFrame,\n                onScrollStart = _props5.onScrollStart,\n                onScrollStop = _props5.onScrollStop,\n                onUpdate = _props5.onUpdate,\n                renderView = _props5.renderView,\n                renderTrackHorizontal = _props5.renderTrackHorizontal,\n                renderTrackVertical = _props5.renderTrackVertical,\n                renderThumbHorizontal = _props5.renderThumbHorizontal,\n                renderThumbVertical = _props5.renderThumbVertical,\n                tagName = _props5.tagName,\n                hideTracksWhenNotNeeded = _props5.hideTracksWhenNotNeeded,\n                autoHide = _props5.autoHide,\n                autoHideTimeout = _props5.autoHideTimeout,\n                autoHideDuration = _props5.autoHideDuration,\n                thumbSize = _props5.thumbSize,\n                thumbMinSize = _props5.thumbMinSize,\n                universal = _props5.universal,\n                autoHeight = _props5.autoHeight,\n                autoHeightMin = _props5.autoHeightMin,\n                autoHeightMax = _props5.autoHeightMax,\n                style = _props5.style,\n                children = _props5.children,\n                props = _objectWithoutProperties(_props5, ['onScroll', 'onScrollFrame', 'onScrollStart', 'onScrollStop', 'onUpdate', 'renderView', 'renderTrackHorizontal', 'renderTrackVertical', 'renderThumbHorizontal', 'renderThumbVertical', 'tagName', 'hideTracksWhenNotNeeded', 'autoHide', 'autoHideTimeout', 'autoHideDuration', 'thumbSize', 'thumbMinSize', 'universal', 'autoHeight', 'autoHeightMin', 'autoHeightMax', 'style', 'children']);\n            /* eslint-enable no-unused-vars */\n\n            var didMountUniversal = this.state.didMountUniversal;\n\n\n            var containerStyle = _extends({}, _styles.containerStyleDefault, autoHeight && _extends({}, _styles.containerStyleAutoHeight, {\n                minHeight: autoHeightMin,\n                maxHeight: autoHeightMax\n            }), style);\n\n            var viewStyle = _extends({}, _styles.viewStyleDefault, {\n                // Hide scrollbars by setting a negative margin\n                marginRight: scrollbarWidth ? -scrollbarWidth : 0,\n                marginBottom: scrollbarWidth ? -scrollbarWidth : 0\n            }, autoHeight && _extends({}, _styles.viewStyleAutoHeight, {\n                // Add scrollbarWidth to autoHeight in order to compensate negative margins\n                minHeight: (0, _isString2[\"default\"])(autoHeightMin) ? 'calc(' + autoHeightMin + ' + ' + scrollbarWidth + 'px)' : autoHeightMin + scrollbarWidth,\n                maxHeight: (0, _isString2[\"default\"])(autoHeightMax) ? 'calc(' + autoHeightMax + ' + ' + scrollbarWidth + 'px)' : autoHeightMax + scrollbarWidth\n            }), autoHeight && universal && !didMountUniversal && {\n                minHeight: autoHeightMin,\n                maxHeight: autoHeightMax\n            }, universal && !didMountUniversal && _styles.viewStyleUniversalInitial);\n\n            var trackAutoHeightStyle = {\n                transition: 'opacity ' + autoHideDuration + 'ms',\n                opacity: 0\n            };\n\n            var trackHorizontalStyle = _extends({}, _styles.trackHorizontalStyleDefault, autoHide && trackAutoHeightStyle, (!scrollbarWidth || universal && !didMountUniversal) && {\n                display: 'none'\n            });\n\n            var trackVerticalStyle = _extends({}, _styles.trackVerticalStyleDefault, autoHide && trackAutoHeightStyle, (!scrollbarWidth || universal && !didMountUniversal) && {\n                display: 'none'\n            });\n\n            return (0, _react.createElement)(tagName, _extends({}, props, { style: containerStyle, ref: function ref(_ref3) {\n                    _this7.container = _ref3;\n                } }), [(0, _react.cloneElement)(renderView({ style: viewStyle }), { key: 'view', ref: function ref(_ref4) {\n                    _this7.view = _ref4;\n                } }, children), (0, _react.cloneElement)(renderTrackHorizontal({ style: trackHorizontalStyle }), { key: 'trackHorizontal', ref: function ref(_ref5) {\n                    _this7.trackHorizontal = _ref5;\n                } }, (0, _react.cloneElement)(renderThumbHorizontal({ style: _styles.thumbHorizontalStyleDefault }), { ref: function ref(_ref6) {\n                    _this7.thumbHorizontal = _ref6;\n                } })), (0, _react.cloneElement)(renderTrackVertical({ style: trackVerticalStyle }), { key: 'trackVertical', ref: function ref(_ref7) {\n                    _this7.trackVertical = _ref7;\n                } }, (0, _react.cloneElement)(renderThumbVertical({ style: _styles.thumbVerticalStyleDefault }), { ref: function ref(_ref8) {\n                    _this7.thumbVertical = _ref8;\n                } }))]);\n        }\n    }]);\n\n    return Scrollbars;\n}(_react.Component);\n\nexports[\"default\"] = Scrollbars;\n\n\nScrollbars.propTypes = {\n    onScroll: _propTypes2[\"default\"].func,\n    onScrollFrame: _propTypes2[\"default\"].func,\n    onScrollStart: _propTypes2[\"default\"].func,\n    onScrollStop: _propTypes2[\"default\"].func,\n    onUpdate: _propTypes2[\"default\"].func,\n    renderView: _propTypes2[\"default\"].func,\n    renderTrackHorizontal: _propTypes2[\"default\"].func,\n    renderTrackVertical: _propTypes2[\"default\"].func,\n    renderThumbHorizontal: _propTypes2[\"default\"].func,\n    renderThumbVertical: _propTypes2[\"default\"].func,\n    tagName: _propTypes2[\"default\"].string,\n    thumbSize: _propTypes2[\"default\"].number,\n    thumbMinSize: _propTypes2[\"default\"].number,\n    hideTracksWhenNotNeeded: _propTypes2[\"default\"].bool,\n    autoHide: _propTypes2[\"default\"].bool,\n    autoHideTimeout: _propTypes2[\"default\"].number,\n    autoHideDuration: _propTypes2[\"default\"].number,\n    autoHeight: _propTypes2[\"default\"].bool,\n    autoHeightMin: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].number, _propTypes2[\"default\"].string]),\n    autoHeightMax: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].number, _propTypes2[\"default\"].string]),\n    universal: _propTypes2[\"default\"].bool,\n    style: _propTypes2[\"default\"].object,\n    children: _propTypes2[\"default\"].node\n};\n\nScrollbars.defaultProps = {\n    renderView: _defaultRenderElements.renderViewDefault,\n    renderTrackHorizontal: _defaultRenderElements.renderTrackHorizontalDefault,\n    renderTrackVertical: _defaultRenderElements.renderTrackVerticalDefault,\n    renderThumbHorizontal: _defaultRenderElements.renderThumbHorizontalDefault,\n    renderThumbVertical: _defaultRenderElements.renderThumbVerticalDefault,\n    tagName: 'div',\n    thumbMinSize: 30,\n    hideTracksWhenNotNeeded: false,\n    autoHide: false,\n    autoHideTimeout: 1000,\n    autoHideDuration: 200,\n    autoHeight: false,\n    autoHeightMin: 0,\n    autoHeightMax: 200,\n    universal: false\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Scrollbars = undefined;\n\nvar _Scrollbars = require('./Scrollbars');\n\nvar _Scrollbars2 = _interopRequireDefault(_Scrollbars);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nexports[\"default\"] = _Scrollbars2[\"default\"];\nexports.Scrollbars = _Scrollbars2[\"default\"];","/**\n *  Copyright (c) 2013, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.rebound = factory());\n}(this, (function () { 'use strict';\n\nvar _onFrame = void 0;\nif (typeof window !== 'undefined') {\n  _onFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame;\n}\n\nif (!_onFrame && typeof process !== 'undefined' && process.title === 'node') {\n  _onFrame = setImmediate;\n}\n\n_onFrame = _onFrame || function (callback) {\n  window.setTimeout(callback, 1000 / 60);\n};\n\nvar _onFrame$1 = _onFrame;\n\n/* eslint-disable flowtype/no-weak-types */\n\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\n\n// Bind a function to a context object.\nfunction bind(func, context) {\n  for (var _len = arguments.length, outerArgs = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    outerArgs[_key - 2] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, innerArgs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      innerArgs[_key2] = arguments[_key2];\n    }\n\n    func.apply(context, concat.call(outerArgs, slice.call(innerArgs)));\n  };\n}\n\n// Add all the properties in the source to the target.\nfunction extend(target, source) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      target[key] = source[key];\n    }\n  }\n}\n\n// Cross browser/node timer functions.\nfunction onFrame(func) {\n  return _onFrame$1(func);\n}\n\n// Lop off the first occurence of the reference in the Array.\nfunction removeFirst(array, item) {\n  var idx = array.indexOf(item);\n  idx !== -1 && array.splice(idx, 1);\n}\n\nvar colorCache = {};\n/**\n * Converts a hex-formatted color string to its rgb-formatted equivalent. Handy\n * when performing color tweening animations\n * @public\n * @param colorString A hex-formatted color string\n * @return An rgb-formatted color string\n */\nfunction hexToRGB(colorString) {\n  if (colorCache[colorString]) {\n    return colorCache[colorString];\n  }\n  var normalizedColor = colorString.replace('#', '');\n  if (normalizedColor.length === 3) {\n    normalizedColor = normalizedColor[0] + normalizedColor[0] + normalizedColor[1] + normalizedColor[1] + normalizedColor[2] + normalizedColor[2];\n  }\n  var parts = normalizedColor.match(/.{2}/g);\n  if (!parts || parts.length < 3) {\n    throw new Error('Expected a color string of format #rrggbb');\n  }\n\n  var ret = {\n    r: parseInt(parts[0], 16),\n    g: parseInt(parts[1], 16),\n    b: parseInt(parts[2], 16)\n  };\n\n  colorCache[colorString] = ret;\n  return ret;\n}\n\n/**\n * Converts a rgb-formatted color string to its hex-formatted equivalent. Handy\n * when performing color tweening animations\n * @public\n * @param colorString An rgb-formatted color string\n * @return A hex-formatted color string\n */\nfunction rgbToHex(rNum, gNum, bNum) {\n  var r = rNum.toString(16);\n  var g = gNum.toString(16);\n  var b = bNum.toString(16);\n  r = r.length < 2 ? '0' + r : r;\n  g = g.length < 2 ? '0' + g : g;\n  b = b.length < 2 ? '0' + b : b;\n  return '#' + r + g + b;\n}\n\nvar util = Object.freeze({\n\tbind: bind,\n\textend: extend,\n\tonFrame: onFrame,\n\tremoveFirst: removeFirst,\n\thexToRGB: hexToRGB,\n\trgbToHex: rgbToHex\n});\n\n/**\n * This helper function does a linear interpolation of a value from\n * one range to another. This can be very useful for converting the\n * motion of a Spring to a range of UI property values. For example a\n * spring moving from position 0 to 1 could be interpolated to move a\n * view from pixel 300 to 350 and scale it from 0.5 to 1. The current\n * position of the `Spring` just needs to be run through this method\n * taking its input range in the _from_ parameters with the property\n * animation range in the _to_ parameters.\n * @public\n */\nfunction mapValueInRange(value, fromLow, fromHigh, toLow, toHigh) {\n  var fromRangeSize = fromHigh - fromLow;\n  var toRangeSize = toHigh - toLow;\n  var valueScale = (value - fromLow) / fromRangeSize;\n  return toLow + valueScale * toRangeSize;\n}\n\n/**\n * Interpolate two hex colors in a 0 - 1 range or optionally provide a\n * custom range with fromLow,fromHight. The output will be in hex by default\n * unless asRGB is true in which case it will be returned as an rgb string.\n *\n * @public\n * @param asRGB Whether to return an rgb-style string\n * @return A string in hex color format unless asRGB is true, in which case a string in rgb format\n */\nfunction interpolateColor(val, startColorStr, endColorStr) {\n  var fromLow = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var fromHigh = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n  var asRGB = arguments[5];\n\n  var startColor = hexToRGB(startColorStr);\n  var endColor = hexToRGB(endColorStr);\n  var r = Math.floor(mapValueInRange(val, fromLow, fromHigh, startColor.r, endColor.r));\n  var g = Math.floor(mapValueInRange(val, fromLow, fromHigh, startColor.g, endColor.g));\n  var b = Math.floor(mapValueInRange(val, fromLow, fromHigh, startColor.b, endColor.b));\n  if (asRGB) {\n    return 'rgb(' + r + ',' + g + ',' + b + ')';\n  } else {\n    return rgbToHex(r, g, b);\n  }\n}\n\nfunction degreesToRadians(deg) {\n  return deg * Math.PI / 180;\n}\n\nfunction radiansToDegrees(rad) {\n  return rad * 180 / Math.PI;\n}\n\nvar MathUtil = Object.freeze({\n\tmapValueInRange: mapValueInRange,\n\tinterpolateColor: interpolateColor,\n\tdegreesToRadians: degreesToRadians,\n\tradiansToDegrees: radiansToDegrees\n});\n\n// Math for converting from\n// [Origami](http://facebook.github.io/origami/) to\n// [Rebound](http://facebook.github.io/rebound).\n// You mostly don't need to worry about this, just use\n// SpringConfig.fromOrigamiTensionAndFriction(v, v);\n\nfunction tensionFromOrigamiValue(oValue) {\n  return (oValue - 30.0) * 3.62 + 194.0;\n}\n\nfunction origamiValueFromTension(tension) {\n  return (tension - 194.0) / 3.62 + 30.0;\n}\n\nfunction frictionFromOrigamiValue(oValue) {\n  return (oValue - 8.0) * 3.0 + 25.0;\n}\n\nfunction origamiFromFriction(friction) {\n  return (friction - 25.0) / 3.0 + 8.0;\n}\n\nvar OrigamiValueConverter = Object.freeze({\n\ttensionFromOrigamiValue: tensionFromOrigamiValue,\n\torigamiValueFromTension: origamiValueFromTension,\n\tfrictionFromOrigamiValue: frictionFromOrigamiValue,\n\torigamiFromFriction: origamiFromFriction\n});\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n\n\n\n\n\n\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/**\n * Plays each frame of the SpringSystem on animation\n * timing loop. This is the default type of looper for a new spring system\n * as it is the most common when developing UI.\n * @public\n */\n/**\n *  Copyright (c) 2013, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nvar AnimationLooper = function () {\n  function AnimationLooper() {\n    classCallCheck(this, AnimationLooper);\n    this.springSystem = null;\n  }\n\n  AnimationLooper.prototype.run = function run() {\n    var springSystem = getSpringSystem.call(this);\n\n    onFrame(function () {\n      springSystem.loop(Date.now());\n    });\n  };\n\n  return AnimationLooper;\n}();\n\n/**\n * Resolves the SpringSystem to a resting state in a\n * tight and blocking loop. This is useful for synchronously generating\n * pre-recorded animations that can then be played on a timing loop later.\n * Sometimes this lead to better performance to pre-record a single spring\n * curve and use it to drive many animations; however, it can make dynamic\n * response to user input a bit trickier to implement.\n * @public\n */\nvar SimulationLooper = function () {\n  function SimulationLooper(timestep) {\n    classCallCheck(this, SimulationLooper);\n    this.springSystem = null;\n    this.time = 0;\n    this.running = false;\n\n    this.timestep = timestep || 16.667;\n  }\n\n  SimulationLooper.prototype.run = function run() {\n    var springSystem = getSpringSystem.call(this);\n\n    if (this.running) {\n      return;\n    }\n    this.running = true;\n    while (!springSystem.getIsIdle()) {\n      springSystem.loop(this.time += this.timestep);\n    }\n    this.running = false;\n  };\n\n  return SimulationLooper;\n}();\n\n/**\n * Resolves the SpringSystem one step at a\n * time controlled by an outside loop. This is useful for testing and\n * verifying the behavior of a SpringSystem or if you want to control your own\n * timing loop for some reason e.g. slowing down or speeding up the\n * simulation.\n * @public\n */\nvar SteppingSimulationLooper = function () {\n  function SteppingSimulationLooper() {\n    classCallCheck(this, SteppingSimulationLooper);\n    this.springSystem = null;\n    this.time = 0;\n    this.running = false;\n  }\n\n  SteppingSimulationLooper.prototype.run = function run() {}\n  // this.run is NOOP'd here to allow control from the outside using\n  // this.step.\n\n\n  // Perform one step toward resolving the SpringSystem.\n  ;\n\n  SteppingSimulationLooper.prototype.step = function step(timestep) {\n    var springSystem = getSpringSystem.call(this);\n    springSystem.loop(this.time += timestep);\n  };\n\n  return SteppingSimulationLooper;\n}();\n\nfunction getSpringSystem() {\n  if (this.springSystem == null) {\n    throw new Error('cannot run looper without a springSystem');\n  }\n  return this.springSystem;\n}\n\n\n\nvar Loopers = Object.freeze({\n\tAnimationLooper: AnimationLooper,\n\tSimulationLooper: SimulationLooper,\n\tSteppingSimulationLooper: SteppingSimulationLooper\n});\n\n/**\n * Provides math for converting from Origami PopAnimation\n * config values to regular Origami tension and friction values. If you are\n * trying to replicate prototypes made with PopAnimation patches in Origami,\n * then you should create your springs with\n * SpringSystem.createSpringWithBouncinessAndSpeed, which uses this Math\n * internally to create a spring to match the provided PopAnimation\n * configuration from Origami.\n */\nvar BouncyConversion = function () {\n  function BouncyConversion(bounciness, speed) {\n    classCallCheck(this, BouncyConversion);\n\n    this.bounciness = bounciness;\n    this.speed = speed;\n\n    var b = this.normalize(bounciness / 1.7, 0, 20.0);\n    b = this.projectNormal(b, 0.0, 0.8);\n    var s = this.normalize(speed / 1.7, 0, 20.0);\n\n    this.bouncyTension = this.projectNormal(s, 0.5, 200);\n    this.bouncyFriction = this.quadraticOutInterpolation(b, this.b3Nobounce(this.bouncyTension), 0.01);\n  }\n\n  BouncyConversion.prototype.normalize = function normalize(value, startValue, endValue) {\n    return (value - startValue) / (endValue - startValue);\n  };\n\n  BouncyConversion.prototype.projectNormal = function projectNormal(n, start, end) {\n    return start + n * (end - start);\n  };\n\n  BouncyConversion.prototype.linearInterpolation = function linearInterpolation(t, start, end) {\n    return t * end + (1.0 - t) * start;\n  };\n\n  BouncyConversion.prototype.quadraticOutInterpolation = function quadraticOutInterpolation(t, start, end) {\n    return this.linearInterpolation(2 * t - t * t, start, end);\n  };\n\n  BouncyConversion.prototype.b3Friction1 = function b3Friction1(x) {\n    return 0.0007 * Math.pow(x, 3) - 0.031 * Math.pow(x, 2) + 0.64 * x + 1.28;\n  };\n\n  BouncyConversion.prototype.b3Friction2 = function b3Friction2(x) {\n    return 0.000044 * Math.pow(x, 3) - 0.006 * Math.pow(x, 2) + 0.36 * x + 2;\n  };\n\n  BouncyConversion.prototype.b3Friction3 = function b3Friction3(x) {\n    return 0.00000045 * Math.pow(x, 3) - 0.000332 * Math.pow(x, 2) + 0.1078 * x + 5.84;\n  };\n\n  BouncyConversion.prototype.b3Nobounce = function b3Nobounce(tension) {\n    var friction = 0;\n    if (tension <= 18) {\n      friction = this.b3Friction1(tension);\n    } else if (tension > 18 && tension <= 44) {\n      friction = this.b3Friction2(tension);\n    } else {\n      friction = this.b3Friction3(tension);\n    }\n    return friction;\n  };\n\n  return BouncyConversion;\n}();\n\n/**\n * Maintains a set of tension and friction constants\n * for a Spring. You can use fromOrigamiTensionAndFriction to convert\n * values from the [Origami](http://facebook.github.io/origami/)\n * design tool directly to Rebound spring constants.\n * @public\n */\n\nvar SpringConfig = function () {\n\n  /**\n   * Convert an origami Spring tension and friction to Rebound spring\n   * constants. If you are prototyping a design with Origami, this\n   * makes it easy to make your springs behave exactly the same in\n   * Rebound.\n   * @public\n   */\n  SpringConfig.fromOrigamiTensionAndFriction = function fromOrigamiTensionAndFriction(tension, friction) {\n    return new SpringConfig(tensionFromOrigamiValue(tension), frictionFromOrigamiValue(friction));\n  };\n\n  /**\n   * Convert an origami PopAnimation Spring bounciness and speed to Rebound\n   * spring constants. If you are using PopAnimation patches in Origami, this\n   * utility will provide springs that match your prototype.\n   * @public\n   */\n\n\n  SpringConfig.fromBouncinessAndSpeed = function fromBouncinessAndSpeed(bounciness, speed) {\n    var bouncyConversion = new BouncyConversion(bounciness, speed);\n    return SpringConfig.fromOrigamiTensionAndFriction(bouncyConversion.bouncyTension, bouncyConversion.bouncyFriction);\n  };\n\n  /**\n   * Create a SpringConfig with no tension or a coasting spring with some\n   * amount of Friction so that it does not coast infininitely.\n   * @public\n   */\n\n\n  SpringConfig.coastingConfigWithOrigamiFriction = function coastingConfigWithOrigamiFriction(friction) {\n    return new SpringConfig(0, frictionFromOrigamiValue(friction));\n  };\n\n  function SpringConfig(tension, friction) {\n    classCallCheck(this, SpringConfig);\n\n    this.tension = tension;\n    this.friction = friction;\n  }\n\n  return SpringConfig;\n}();\n\nSpringConfig.DEFAULT_ORIGAMI_SPRING_CONFIG = SpringConfig.fromOrigamiTensionAndFriction(40, 7);\n\n/**\n * Consists of a position and velocity. A Spring uses\n * this internally to keep track of its current and prior position and\n * velocity values.\n */\nvar PhysicsState = function PhysicsState() {\n  classCallCheck(this, PhysicsState);\n  this.position = 0;\n  this.velocity = 0;\n};\n\n/**\n * Provides a model of a classical spring acting to\n * resolve a body to equilibrium. Springs have configurable\n * tension which is a force multipler on the displacement of the\n * spring from its rest point or `endValue` as defined by [Hooke's\n * law](http://en.wikipedia.org/wiki/Hooke's_law). Springs also have\n * configurable friction, which ensures that they do not oscillate\n * infinitely. When a Spring is displaced by updating it's resting\n * or `currentValue`, the SpringSystems that contain that Spring\n * will automatically start looping to solve for equilibrium. As each\n * timestep passes, `SpringListener` objects attached to the Spring\n * will be notified of the updates providing a way to drive an\n * animation off of the spring's resolution curve.\n * @public\n */\n\nvar Spring = function () {\n  function Spring(springSystem) {\n    classCallCheck(this, Spring);\n    this.listeners = [];\n    this._startValue = 0;\n    this._currentState = new PhysicsState();\n    this._displacementFromRestThreshold = 0.001;\n    this._endValue = 0;\n    this._overshootClampingEnabled = false;\n    this._previousState = new PhysicsState();\n    this._restSpeedThreshold = 0.001;\n    this._tempState = new PhysicsState();\n    this._timeAccumulator = 0;\n    this._wasAtRest = true;\n\n    this._id = 's' + Spring._ID++;\n    this._springSystem = springSystem;\n  }\n\n  /**\n   * Remove a Spring from simulation and clear its listeners.\n   * @public\n   */\n\n\n  Spring.prototype.destroy = function destroy() {\n    this.listeners = [];\n    this._springSystem.deregisterSpring(this);\n  };\n\n  /**\n   * Get the id of the spring, which can be used to retrieve it from\n   * the SpringSystems it participates in later.\n   * @public\n   */\n\n\n  Spring.prototype.getId = function getId() {\n    return this._id;\n  };\n\n  /**\n   * Set the configuration values for this Spring. A SpringConfig\n   * contains the tension and friction values used to solve for the\n   * equilibrium of the Spring in the physics loop.\n   * @public\n   */\n\n\n  Spring.prototype.setSpringConfig = function setSpringConfig(springConfig) {\n    this._springConfig = springConfig;\n    return this;\n  };\n\n  /**\n   * Retrieve the SpringConfig used by this Spring.\n   * @public\n   */\n\n\n  Spring.prototype.getSpringConfig = function getSpringConfig() {\n    return this._springConfig;\n  };\n\n  /**\n   * Set the current position of this Spring. Listeners will be updated\n   * with this value immediately. If the rest or `endValue` is not\n   * updated to match this value, then the spring will be dispalced and\n   * the SpringSystem will start to loop to restore the spring to the\n   * `endValue`.\n   *\n   * A common pattern is to move a Spring around without animation by\n   * calling.\n   *\n   * ```\n   * spring.setCurrentValue(n).setAtRest();\n   * ```\n   *\n   * This moves the Spring to a new position `n`, sets the endValue\n   * to `n`, and removes any velocity from the `Spring`. By doing\n   * this you can allow the `SpringListener` to manage the position\n   * of UI elements attached to the spring even when moving without\n   * animation. For example, when dragging an element you can\n   * update the position of an attached view through a spring\n   * by calling `spring.setCurrentValue(x)`. When\n   * the gesture ends you can update the Springs\n   * velocity and endValue\n   * `spring.setVelocity(gestureEndVelocity).setEndValue(flingTarget)`\n   * to cause it to naturally animate the UI element to the resting\n   * position taking into account existing velocity. The codepaths for\n   * synchronous movement and spring driven animation can\n   * be unified using this technique.\n   * @public\n   */\n\n\n  Spring.prototype.setCurrentValue = function setCurrentValue(currentValue, skipSetAtRest) {\n    this._startValue = currentValue;\n    this._currentState.position = currentValue;\n    if (!skipSetAtRest) {\n      this.setAtRest();\n    }\n    this.notifyPositionUpdated(false, false);\n    return this;\n  };\n\n  /**\n   * Get the position that the most recent animation started at. This\n   * can be useful for determining the number off oscillations that\n   * have occurred.\n   * @public\n   */\n\n\n  Spring.prototype.getStartValue = function getStartValue() {\n    return this._startValue;\n  };\n\n  /**\n   * Retrieve the current value of the Spring.\n   * @public\n   */\n\n\n  Spring.prototype.getCurrentValue = function getCurrentValue() {\n    return this._currentState.position;\n  };\n\n  /**\n   * Get the absolute distance of the Spring from its resting endValue\n   * position.\n   * @public\n   */\n\n\n  Spring.prototype.getCurrentDisplacementDistance = function getCurrentDisplacementDistance() {\n    return this.getDisplacementDistanceForState(this._currentState);\n  };\n\n  /**\n   * Get the absolute distance of the Spring from a given state value\n   */\n\n\n  Spring.prototype.getDisplacementDistanceForState = function getDisplacementDistanceForState(state) {\n    return Math.abs(this._endValue - state.position);\n  };\n\n  /**\n   * Set the endValue or resting position of the spring. If this\n   * value is different than the current value, the SpringSystem will\n   * be notified and will begin running its solver loop to resolve\n   * the Spring to equilibrium. Any listeners that are registered\n   * for onSpringEndStateChange will also be notified of this update\n   * immediately.\n   * @public\n   */\n\n\n  Spring.prototype.setEndValue = function setEndValue(endValue) {\n    if (this._endValue === endValue && this.isAtRest()) {\n      return this;\n    }\n    this._startValue = this.getCurrentValue();\n    this._endValue = endValue;\n    this._springSystem.activateSpring(this.getId());\n    for (var i = 0, len = this.listeners.length; i < len; i++) {\n      var listener = this.listeners[i];\n      var onChange = listener.onSpringEndStateChange;\n      onChange && onChange(this);\n    }\n    return this;\n  };\n\n  /**\n   * Retrieve the endValue or resting position of this spring.\n   * @public\n   */\n\n\n  Spring.prototype.getEndValue = function getEndValue() {\n    return this._endValue;\n  };\n\n  /**\n   * Set the current velocity of the Spring, in pixels per second. As\n   * previously mentioned, this can be useful when you are performing\n   * a direct manipulation gesture. When a UI element is released you\n   * may call setVelocity on its animation Spring so that the Spring\n   * continues with the same velocity as the gesture ended with. The\n   * friction, tension, and displacement of the Spring will then\n   * govern its motion to return to rest on a natural feeling curve.\n   * @public\n   */\n\n\n  Spring.prototype.setVelocity = function setVelocity(velocity) {\n    if (velocity === this._currentState.velocity) {\n      return this;\n    }\n    this._currentState.velocity = velocity;\n    this._springSystem.activateSpring(this.getId());\n    return this;\n  };\n\n  /**\n   * Get the current velocity of the Spring, in pixels per second.\n   * @public\n   */\n\n\n  Spring.prototype.getVelocity = function getVelocity() {\n    return this._currentState.velocity;\n  };\n\n  /**\n   * Set a threshold value for the movement speed of the Spring below\n   * which it will be considered to be not moving or resting.\n   * @public\n   */\n\n\n  Spring.prototype.setRestSpeedThreshold = function setRestSpeedThreshold(restSpeedThreshold) {\n    this._restSpeedThreshold = restSpeedThreshold;\n    return this;\n  };\n\n  /**\n   * Retrieve the rest speed threshold for this Spring.\n   * @public\n   */\n\n\n  Spring.prototype.getRestSpeedThreshold = function getRestSpeedThreshold() {\n    return this._restSpeedThreshold;\n  };\n\n  /**\n   * Set a threshold value for displacement below which the Spring\n   * will be considered to be not displaced i.e. at its resting\n   * `endValue`.\n   * @public\n   */\n\n\n  Spring.prototype.setRestDisplacementThreshold = function setRestDisplacementThreshold(displacementFromRestThreshold) {\n    this._displacementFromRestThreshold = displacementFromRestThreshold;\n  };\n\n  /**\n   * Retrieve the rest displacement threshold for this spring.\n   * @public\n   */\n\n\n  Spring.prototype.getRestDisplacementThreshold = function getRestDisplacementThreshold() {\n    return this._displacementFromRestThreshold;\n  };\n\n  /**\n   * Enable overshoot clamping. This means that the Spring will stop\n   * immediately when it reaches its resting position regardless of\n   * any existing momentum it may have. This can be useful for certain\n   * types of animations that should not oscillate such as a scale\n   * down to 0 or alpha fade.\n   * @public\n   */\n\n\n  Spring.prototype.setOvershootClampingEnabled = function setOvershootClampingEnabled(enabled) {\n    this._overshootClampingEnabled = enabled;\n    return this;\n  };\n\n  /**\n   * Check if overshoot clamping is enabled for this spring.\n   * @public\n   */\n\n\n  Spring.prototype.isOvershootClampingEnabled = function isOvershootClampingEnabled() {\n    return this._overshootClampingEnabled;\n  };\n\n  /**\n   * Check if the Spring has gone past its end point by comparing\n   * the direction it was moving in when it started to the current\n   * position and end value.\n   * @public\n   */\n\n\n  Spring.prototype.isOvershooting = function isOvershooting() {\n    var start = this._startValue;\n    var end = this._endValue;\n    return this._springConfig.tension > 0 && (start < end && this.getCurrentValue() > end || start > end && this.getCurrentValue() < end);\n  };\n\n  /**\n   * The main solver method for the Spring. It takes\n   * the current time and delta since the last time step and performs\n   * an RK4 integration to get the new position and velocity state\n   * for the Spring based on the tension, friction, velocity, and\n   * displacement of the Spring.\n   * @public\n   */\n\n\n  Spring.prototype.advance = function advance(time, realDeltaTime) {\n    var isAtRest = this.isAtRest();\n\n    if (isAtRest && this._wasAtRest) {\n      return;\n    }\n\n    var adjustedDeltaTime = realDeltaTime;\n    if (realDeltaTime > Spring.MAX_DELTA_TIME_SEC) {\n      adjustedDeltaTime = Spring.MAX_DELTA_TIME_SEC;\n    }\n\n    this._timeAccumulator += adjustedDeltaTime;\n\n    var tension = this._springConfig.tension;\n    var friction = this._springConfig.friction;\n    var position = this._currentState.position;\n    var velocity = this._currentState.velocity;\n    var tempPosition = this._tempState.position;\n    var tempVelocity = this._tempState.velocity;\n    var aVelocity = void 0;\n    var aAcceleration = void 0;\n    var bVelocity = void 0;\n    var bAcceleration = void 0;\n    var cVelocity = void 0;\n    var cAcceleration = void 0;\n    var dVelocity = void 0;\n    var dAcceleration = void 0;\n    var dxdt = void 0;\n    var dvdt = void 0;\n\n    while (this._timeAccumulator >= Spring.SOLVER_TIMESTEP_SEC) {\n      this._timeAccumulator -= Spring.SOLVER_TIMESTEP_SEC;\n\n      if (this._timeAccumulator < Spring.SOLVER_TIMESTEP_SEC) {\n        this._previousState.position = position;\n        this._previousState.velocity = velocity;\n      }\n\n      aVelocity = velocity;\n      aAcceleration = tension * (this._endValue - tempPosition) - friction * velocity;\n\n      tempPosition = position + aVelocity * Spring.SOLVER_TIMESTEP_SEC * 0.5;\n      tempVelocity = velocity + aAcceleration * Spring.SOLVER_TIMESTEP_SEC * 0.5;\n      bVelocity = tempVelocity;\n      bAcceleration = tension * (this._endValue - tempPosition) - friction * tempVelocity;\n\n      tempPosition = position + bVelocity * Spring.SOLVER_TIMESTEP_SEC * 0.5;\n      tempVelocity = velocity + bAcceleration * Spring.SOLVER_TIMESTEP_SEC * 0.5;\n      cVelocity = tempVelocity;\n      cAcceleration = tension * (this._endValue - tempPosition) - friction * tempVelocity;\n\n      tempPosition = position + cVelocity * Spring.SOLVER_TIMESTEP_SEC;\n      tempVelocity = velocity + cAcceleration * Spring.SOLVER_TIMESTEP_SEC;\n      dVelocity = tempVelocity;\n      dAcceleration = tension * (this._endValue - tempPosition) - friction * tempVelocity;\n\n      dxdt = 1.0 / 6.0 * (aVelocity + 2.0 * (bVelocity + cVelocity) + dVelocity);\n      dvdt = 1.0 / 6.0 * (aAcceleration + 2.0 * (bAcceleration + cAcceleration) + dAcceleration);\n\n      position += dxdt * Spring.SOLVER_TIMESTEP_SEC;\n      velocity += dvdt * Spring.SOLVER_TIMESTEP_SEC;\n    }\n\n    this._tempState.position = tempPosition;\n    this._tempState.velocity = tempVelocity;\n\n    this._currentState.position = position;\n    this._currentState.velocity = velocity;\n\n    if (this._timeAccumulator > 0) {\n      this._interpolate(this._timeAccumulator / Spring.SOLVER_TIMESTEP_SEC);\n    }\n\n    if (this.isAtRest() || this._overshootClampingEnabled && this.isOvershooting()) {\n      if (this._springConfig.tension > 0) {\n        this._startValue = this._endValue;\n        this._currentState.position = this._endValue;\n      } else {\n        this._endValue = this._currentState.position;\n        this._startValue = this._endValue;\n      }\n      this.setVelocity(0);\n      isAtRest = true;\n    }\n\n    var notifyActivate = false;\n    if (this._wasAtRest) {\n      this._wasAtRest = false;\n      notifyActivate = true;\n    }\n\n    var notifyAtRest = false;\n    if (isAtRest) {\n      this._wasAtRest = true;\n      notifyAtRest = true;\n    }\n\n    this.notifyPositionUpdated(notifyActivate, notifyAtRest);\n  };\n\n  Spring.prototype.notifyPositionUpdated = function notifyPositionUpdated(notifyActivate, notifyAtRest) {\n    for (var i = 0, len = this.listeners.length; i < len; i++) {\n      var listener = this.listeners[i];\n      if (notifyActivate && listener.onSpringActivate) {\n        listener.onSpringActivate(this);\n      }\n\n      if (listener.onSpringUpdate) {\n        listener.onSpringUpdate(this);\n      }\n\n      if (notifyAtRest && listener.onSpringAtRest) {\n        listener.onSpringAtRest(this);\n      }\n    }\n  };\n\n  /**\n   * Check if the SpringSystem should advance. Springs are advanced\n   * a final frame after they reach equilibrium to ensure that the\n   * currentValue is exactly the requested endValue regardless of the\n   * displacement threshold.\n   * @public\n   */\n\n\n  Spring.prototype.systemShouldAdvance = function systemShouldAdvance() {\n    return !this.isAtRest() || !this.wasAtRest();\n  };\n\n  Spring.prototype.wasAtRest = function wasAtRest() {\n    return this._wasAtRest;\n  };\n\n  /**\n   * Check if the Spring is atRest meaning that it's currentValue and\n   * endValue are the same and that it has no velocity. The previously\n   * described thresholds for speed and displacement define the bounds\n   * of this equivalence check. If the Spring has 0 tension, then it will\n   * be considered at rest whenever its absolute velocity drops below the\n   * restSpeedThreshold.\n   * @public\n   */\n\n\n  Spring.prototype.isAtRest = function isAtRest() {\n    return Math.abs(this._currentState.velocity) < this._restSpeedThreshold && (this.getDisplacementDistanceForState(this._currentState) <= this._displacementFromRestThreshold || this._springConfig.tension === 0);\n  };\n\n  /**\n   * Force the spring to be at rest at its current position. As\n   * described in the documentation for setCurrentValue, this method\n   * makes it easy to do synchronous non-animated updates to ui\n   * elements that are attached to springs via SpringListeners.\n   * @public\n   */\n\n\n  Spring.prototype.setAtRest = function setAtRest() {\n    this._endValue = this._currentState.position;\n    this._tempState.position = this._currentState.position;\n    this._currentState.velocity = 0;\n    return this;\n  };\n\n  Spring.prototype._interpolate = function _interpolate(alpha) {\n    this._currentState.position = this._currentState.position * alpha + this._previousState.position * (1 - alpha);\n    this._currentState.velocity = this._currentState.velocity * alpha + this._previousState.velocity * (1 - alpha);\n  };\n\n  Spring.prototype.getListeners = function getListeners() {\n    return this.listeners;\n  };\n\n  Spring.prototype.addListener = function addListener(newListener) {\n    this.listeners.push(newListener);\n    return this;\n  };\n\n  Spring.prototype.removeListener = function removeListener(listenerToRemove) {\n    removeFirst(this.listeners, listenerToRemove);\n    return this;\n  };\n\n  Spring.prototype.removeAllListeners = function removeAllListeners() {\n    this.listeners = [];\n    return this;\n  };\n\n  Spring.prototype.currentValueIsApproximately = function currentValueIsApproximately(value) {\n    return Math.abs(this.getCurrentValue() - value) <= this.getRestDisplacementThreshold();\n  };\n\n  return Spring;\n}();\n\nSpring._ID = 0;\nSpring.MAX_DELTA_TIME_SEC = 0.064;\nSpring.SOLVER_TIMESTEP_SEC = 0.001;\n\n/**\n * A set of Springs that all run on the same physics\n * timing loop. To get started with a Rebound animation, first\n * create a new SpringSystem and then add springs to it.\n * @public\n */\n\nvar SpringSystem = function () {\n  function SpringSystem(looper) {\n    classCallCheck(this, SpringSystem);\n    this.listeners = [];\n    this._activeSprings = [];\n    this._idleSpringIndices = [];\n    this._isIdle = true;\n    this._lastTimeMillis = -1;\n    this._springRegistry = {};\n\n    this.looper = looper || new AnimationLooper();\n    this.looper.springSystem = this;\n  }\n\n  /**\n   * A SpringSystem is iterated by a looper. The looper is responsible\n   * for executing each frame as the SpringSystem is resolved to idle.\n   * There are three types of Loopers described below AnimationLooper,\n   * SimulationLooper, and SteppingSimulationLooper. AnimationLooper is\n   * the default as it is the most useful for common UI animations.\n   * @public\n   */\n\n\n  SpringSystem.prototype.setLooper = function setLooper(looper) {\n    this.looper = looper;\n    looper.springSystem = this;\n  };\n\n  /**\n   * Add a new spring to this SpringSystem. This Spring will now be solved for\n   * during the physics iteration loop. By default the spring will use the\n   * default Origami spring config with 40 tension and 7 friction, but you can\n   * also provide your own values here.\n   * @public\n   */\n\n\n  SpringSystem.prototype.createSpring = function createSpring(tension, friction) {\n    var springConfig = void 0;\n    if (tension === undefined || friction === undefined) {\n      springConfig = SpringConfig.DEFAULT_ORIGAMI_SPRING_CONFIG;\n    } else {\n      springConfig = SpringConfig.fromOrigamiTensionAndFriction(tension, friction);\n    }\n    return this.createSpringWithConfig(springConfig);\n  };\n\n  /**\n   * Add a spring with a specified bounciness and speed. To replicate Origami\n   * compositions based on PopAnimation patches, use this factory method to\n   * create matching springs.\n   * @public\n   */\n\n\n  SpringSystem.prototype.createSpringWithBouncinessAndSpeed = function createSpringWithBouncinessAndSpeed(bounciness, speed) {\n    var springConfig = void 0;\n    if (bounciness === undefined || speed === undefined) {\n      springConfig = SpringConfig.DEFAULT_ORIGAMI_SPRING_CONFIG;\n    } else {\n      springConfig = SpringConfig.fromBouncinessAndSpeed(bounciness, speed);\n    }\n    return this.createSpringWithConfig(springConfig);\n  };\n\n  /**\n   * Add a spring with the provided SpringConfig.\n   * @public\n   */\n\n\n  SpringSystem.prototype.createSpringWithConfig = function createSpringWithConfig(springConfig) {\n    var spring = new Spring(this);\n    this.registerSpring(spring);\n    spring.setSpringConfig(springConfig);\n    return spring;\n  };\n\n  /**\n   * Check if a SpringSystem is idle or active. If all of the Springs in the\n   * SpringSystem are at rest, i.e. the physics forces have reached equilibrium,\n   * then this method will return true.\n   * @public\n   */\n\n\n  SpringSystem.prototype.getIsIdle = function getIsIdle() {\n    return this._isIdle;\n  };\n\n  /**\n   * Retrieve a specific Spring from the SpringSystem by id. This\n   * can be useful for inspecting the state of a spring before\n   * or after an integration loop in the SpringSystem executes.\n   * @public\n   */\n\n\n  SpringSystem.prototype.getSpringById = function getSpringById(id) {\n    return this._springRegistry[id];\n  };\n\n  /**\n   * Get a listing of all the springs registered with this\n   * SpringSystem.\n   * @public\n   */\n\n\n  SpringSystem.prototype.getAllSprings = function getAllSprings() {\n    var vals = [];\n    for (var _id in this._springRegistry) {\n      if (this._springRegistry.hasOwnProperty(_id)) {\n        vals.push(this._springRegistry[_id]);\n      }\n    }\n    return vals;\n  };\n\n  /**\n   * Manually add a spring to this system. This is called automatically\n   * if a Spring is created with SpringSystem#createSpring.\n   *\n   * This method sets the spring up in the registry so that it can be solved\n   * in the solver loop.\n   * @public\n   */\n\n\n  SpringSystem.prototype.registerSpring = function registerSpring(spring) {\n    this._springRegistry[spring.getId()] = spring;\n  };\n\n  /**\n   * Deregister a spring with this SpringSystem. The SpringSystem will\n   * no longer consider this Spring during its integration loop once\n   * this is called. This is normally done automatically for you when\n   * you call Spring#destroy.\n   * @public\n   */\n\n\n  SpringSystem.prototype.deregisterSpring = function deregisterSpring(spring) {\n    removeFirst(this._activeSprings, spring);\n    delete this._springRegistry[spring.getId()];\n  };\n\n  SpringSystem.prototype.advance = function advance(time, deltaTime) {\n    while (this._idleSpringIndices.length > 0) {\n      this._idleSpringIndices.pop();\n    }\n    for (var i = 0, len = this._activeSprings.length; i < len; i++) {\n      var spring = this._activeSprings[i];\n      if (spring.systemShouldAdvance()) {\n        spring.advance(time / 1000.0, deltaTime / 1000.0);\n      } else {\n        this._idleSpringIndices.push(this._activeSprings.indexOf(spring));\n      }\n    }\n    while (this._idleSpringIndices.length > 0) {\n      var idx = this._idleSpringIndices.pop();\n      idx >= 0 && this._activeSprings.splice(idx, 1);\n    }\n  };\n\n  /**\n   * This is the main solver loop called to move the simulation\n   * forward through time. Before each pass in the solver loop\n   * onBeforeIntegrate is called on an any listeners that have\n   * registered themeselves with the SpringSystem. This gives you\n   * an opportunity to apply any constraints or adjustments to\n   * the springs that should be enforced before each iteration\n   * loop. Next the advance method is called to move each Spring in\n   * the systemShouldAdvance forward to the current time. After the\n   * integration step runs in advance, onAfterIntegrate is called\n   * on any listeners that have registered themselves with the\n   * SpringSystem. This gives you an opportunity to run any post\n   * integration constraints or adjustments on the Springs in the\n   * SpringSystem.\n   * @public\n   */\n\n\n  SpringSystem.prototype.loop = function loop(currentTimeMillis) {\n    var listener = void 0;\n    if (this._lastTimeMillis === -1) {\n      this._lastTimeMillis = currentTimeMillis - 1;\n    }\n    var ellapsedMillis = currentTimeMillis - this._lastTimeMillis;\n    this._lastTimeMillis = currentTimeMillis;\n\n    var i = 0;\n    var len = this.listeners.length;\n    for (i = 0; i < len; i++) {\n      listener = this.listeners[i];\n      listener.onBeforeIntegrate && listener.onBeforeIntegrate(this);\n    }\n\n    this.advance(currentTimeMillis, ellapsedMillis);\n    if (this._activeSprings.length === 0) {\n      this._isIdle = true;\n      this._lastTimeMillis = -1;\n    }\n\n    for (i = 0; i < len; i++) {\n      listener = this.listeners[i];\n      listener.onAfterIntegrate && listener.onAfterIntegrate(this);\n    }\n\n    if (!this._isIdle) {\n      this.looper.run();\n    }\n  };\n\n  /**\n   * Used to notify the SpringSystem that a Spring has become displaced.\n   * The system responds by starting its solver loop up if it is currently idle.\n   */\n\n\n  SpringSystem.prototype.activateSpring = function activateSpring(springId) {\n    var spring = this._springRegistry[springId];\n    if (this._activeSprings.indexOf(spring) === -1) {\n      this._activeSprings.push(spring);\n    }\n    if (this.getIsIdle()) {\n      this._isIdle = false;\n      this.looper.run();\n    }\n  };\n\n  /**\n   * Add a listener to the SpringSystem to receive before/after integration\n   * notifications allowing Springs to be constrained or adjusted.\n   * @public\n   */\n\n\n  SpringSystem.prototype.addListener = function addListener(listener) {\n    this.listeners.push(listener);\n  };\n\n  /**\n   * Remove a previously added listener on the SpringSystem.\n   * @public\n   */\n\n\n  SpringSystem.prototype.removeListener = function removeListener(listener) {\n    removeFirst(this.listeners, listener);\n  };\n\n  /**\n   * Remove all previously added listeners on the SpringSystem.\n   * @public\n   */\n\n\n  SpringSystem.prototype.removeAllListeners = function removeAllListeners() {\n    this.listeners = [];\n  };\n\n  return SpringSystem;\n}();\n\nvar index = _extends({}, Loopers, {\n  OrigamiValueConverter: OrigamiValueConverter,\n  MathUtil: MathUtil,\n  Spring: Spring,\n  SpringConfig: SpringConfig,\n  SpringSystem: SpringSystem,\n  util: _extends({}, util, MathUtil)\n});\n\nreturn index;\n\n})));\n","import React, {Component} from 'react';\r\nimport {Scrollbars} from 'react-custom-scrollbars';\r\n//import {SpringSystem} from 'rebound';\r\nimport Rebound from 'rebound';\r\n\r\nclass VirtualizedScrollBar extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\telemHeight: this.props.staticElemHeight ? this.props.staticElemHeight : 50,\r\n\t\t\tscrollOffset: 0,\r\n\t\t\telemOverScan: this.props.overScan ? this.props.overScan : 3,\r\n\t\t\ttopSpacerHeight: 0,\r\n\t\t\tunrenderedBelow: 0,\r\n\t\t\tunrenderedAbove: 0\r\n\t\t};\r\n\t\tthis.stickyElems = null;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.springSystem = new Rebound.SpringSystem();\r\n\t\tthis.spring = this.springSystem.createSpring();\r\n\t\tthis.spring.setOvershootClampingEnabled(true);\r\n\t\tthis.spring.addListener({onSpringUpdate: this.handleSpringUpdate.bind(this)});\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.springSystem.deregisterSpring(this.spring);\r\n\t\tthis.springSystem.removeAllListeners();\r\n\t\tthis.springSystem = undefined;\r\n\t\tthis.spring.destroy();\r\n\t\tthis.spring = undefined;\r\n\t}\r\n\r\n\thandleSpringUpdate(spring) {\r\n\t\tconst val = spring.getCurrentValue();\r\n\t\tthis.scrollBars.scrollTop(val);\r\n\t}\r\n\r\n\t// Find the first element to render, and render (containersize + overScan / index * height) elems after the first.\r\n\tgetListToRender(list) {\r\n\t\tlet listToRender = [];\r\n\t\tthis.stickyElems = [];\r\n\t\tconst elemHeight = this.state.elemHeight;\r\n\t\tconst containerHeight = this.props.containerHeight;\r\n\t\tconst maxVisibleElems = Math.floor(containerHeight / elemHeight);\r\n\t\tif (!containerHeight || this.state.scrollOffset == null) {\r\n\t\t\treturn list;\r\n\t\t}\r\n\r\n\t\tlet smallestIndexVisible = null;\r\n\t\tif (this.state.scrollOffset === 0 && (this.props.stickyElems && this.props.stickyElems.length === 0)) {\r\n\t\t\tsmallestIndexVisible = 0;\r\n\t\t} else {\r\n\t\t\tfor (let index = 0; index < list.length; index++) {\r\n\t\t\t\tconst child = list[index];\r\n\t\t\t\t// Maintain elements that have the alwaysRender flag set. This is used to keep a dragged element rendered, even if its scroll parent would normally unmount it.\r\n\t\t\t\tif (this.props.stickyElems.find(id => id === child.props.draggableId)) {\r\n\t\t\t\t\tthis.stickyElems.push(child);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst ySmallerThanList = (index + 1) * elemHeight < this.state.scrollOffset;\r\n\r\n\t\t\t\t\tif (ySmallerThanList) {\r\n\t\t\t\t\t\t// Keep overwriting to obtain the last element that is not smaller\r\n\t\t\t\t\t\tsmallestIndexVisible = index;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst start = Math.max(0, (smallestIndexVisible != null ? smallestIndexVisible : 0) - this.state.elemOverScan);\r\n\t\t// start plus number of visible elements plus overscan\r\n\t\tconst end = smallestIndexVisible + maxVisibleElems + this.state.elemOverScan;\r\n\t\t// +1 because Array.slice isn't inclusive\r\n\t\tlistToRender = list.slice(start, end + 1);\r\n\t\t// Remove any element from the list, if it was included in the stickied list\r\n\t\tif (this.stickyElems && this.stickyElems.length > 0) {\r\n\t\t\tlistToRender = listToRender.filter(elem => !this.stickyElems.find(e => e.props.draggableId === elem.props.draggableId));\r\n\t\t}\r\n\t\treturn listToRender;\r\n\t}\r\n\r\n\t// Save scroll position in state for virtualization\r\n\thandleScroll(e) {\r\n\t\tconst scrollOffset = this.scrollBars ? this.scrollBars.getScrollTop() : 0;\r\n\t\tconst scrollDiff = Math.abs(scrollOffset - this.state.scrollOffset);\r\n\t\tconst leniency = Math.max(5, this.state.elemHeight * 0.1); // As to not update exactly on breakpoint, but instead 5px or 10% within an element being scrolled past\r\n\t\tif (!this.state.scrollOffset || scrollDiff >= this.state.elemHeight - leniency) {\r\n\t\t\tthis.setState({scrollOffset: scrollOffset});\r\n\t\t}\r\n\t\tif (this.props.onScroll) {\r\n\t\t\tthis.props.onScroll(e);\r\n\t\t}\r\n\t}\r\n\r\n\t// Animated scroll to top\r\n\tanimateScrollTop(top) {\r\n\t\tconst scrollTop = this.scrollBars.getScrollTop();\r\n\t\tthis.spring.setCurrentValue(scrollTop).setAtRest();\r\n\t\tthis.spring.setEndValue(top);\r\n\t}\r\n\r\n\t// Get height of virtualized scroll container\r\n\tgetScrollHeight() {\r\n\t\treturn this.scrollBars.getScrollHeight();\r\n\t}\r\n\t// Set scroll offset of virtualized scroll container\r\n\tscrollTop(val) {\r\n\t\tthis.scrollBars.scrollTop(val);\r\n\t}\r\n\t// Get scroll offset of virtualized scroll container\r\n\tgetScrollTop() {\r\n\t\treturn this.scrollBars.getScrollTop();\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {customScrollbars, children} = this.props;\r\n\t\tconst UseScrollbars = customScrollbars || Scrollbars;\r\n\t\tconst rowCount = children.length;\r\n\t\tconst elemHeight = this.state.elemHeight;\r\n\r\n\t\tconst height = rowCount * this.state.elemHeight;\r\n\t\tlet childrenWithProps = React.Children.map(children, (child, index) => React.cloneElement(child, {originalindex: index}));\r\n\t\tthis.numChildren = childrenWithProps.length;\r\n\r\n\t\tconst hasScrolled = this.state.scrollOffset > 0;\r\n\r\n\t\tconst listToRender = this.getListToRender(childrenWithProps);\r\n\r\n\t\tconst unrenderedBelow = hasScrolled ? (listToRender && listToRender.length > 0 ? listToRender[0].props.originalindex : 0) - (this.stickyElems ? this.stickyElems.length : 0) : 0;\r\n\t\tconst unrenderedAbove = listToRender && listToRender.length > 0 ? childrenWithProps.length - (listToRender[listToRender.length - 1].props.originalindex + 1) : 0;\r\n\t\tconst belowSpacerStyle = this.props.disableVirtualization ? {width: '100%', height: 0} : {width: '100%', height: unrenderedBelow ? unrenderedBelow * elemHeight : 0};\r\n\r\n\t\tconst aboveSpacerStyle = this.props.disableVirtualization ? {width: '100%', height: 0} : {width: '100%', height: unrenderedAbove ? unrenderedAbove * elemHeight : 0};\r\n\r\n\t\tif (this.stickyElems && this.stickyElems.length > 0) {\r\n\t\t\tlistToRender.push(this.stickyElems[0]);\r\n\t\t}\r\n\r\n\t\tconst innerStyle = {\r\n\t\t\twidth: '100%',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflexGrow: '1'\r\n\t\t};\r\n\t\tif (!this.props.disableVirtualization) {\r\n\t\t\tinnerStyle.minHeight = height;\r\n\t\t\tinnerStyle.height = height;\r\n\t\t\tinnerStyle.maxHeight = height;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<UseScrollbars\r\n\t\t\t\tonScroll={this.handleScroll.bind(this)}\r\n\t\t\t\tref={div => (this.scrollBars = div)}\r\n\t\t\t\tautoHeight={true}\r\n\t\t\t\tautoHeightMax={this.props.containerHeight}\r\n\t\t\t\tautoHeightMin={this.props.containerHeight}\r\n\t\t\t\t{...this.props.scrollProps}\r\n\t\t\t>\r\n\t\t\t\t<div className={'virtualized-scrollbar-inner'} style={innerStyle} ref={div => (this._test = div)}>\r\n\t\t\t\t\t<div style={belowSpacerStyle} className={'below-spacer'} />\r\n\t\t\t\t\t{listToRender}\r\n\t\t\t\t\t<div style={aboveSpacerStyle} className={'above-spacer'} />\r\n\t\t\t\t</div>\r\n\t\t\t</UseScrollbars>\r\n\t\t);\r\n\t}\r\n}\r\nVirtualizedScrollBar.propTypes = {};\r\nexport default VirtualizedScrollBar;\r\n","import React, {Component} from 'react';\r\nimport {Scrollbars} from 'react-custom-scrollbars';\r\nimport PropTypes from 'prop-types';\r\n// import {SpringSystem} from 'rebound';\r\nimport Rebound from 'rebound';\r\n\r\nclass DynamicVirtualizedScrollbar extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t// Set initial elements to render - either specific amount, or the amount that can be in the viewPort + some optimistic amount to account for number of elements that deviate from min\r\n\t\tthis.optimisticCount = 4;\r\n\t\t// Threshold at which to start virtualizing. Virtualizing small lists can produce jumping, and adds uneccesary overhead\r\n\t\tthis.virtualizationThreshold = props.virtualizationThreshold != null ? props.virtualizationThreshold : 40;\r\n\t\tconst initialElemsToRender = this.getInitialRenderAmount(props);\r\n\t\tthis.state = {\r\n\t\t\t// Update this when dynamic row height becomes a thing\r\n\t\t\tscrollOffset: 0,\r\n\t\t\tfirstRenderedItemIndex: 0,\r\n\t\t\tlastRenderedItemIndex: initialElemsToRender,\r\n\t\t\taboveSpacerHeight: 0,\r\n\t\t\t// Initially guess that all elems are min height\r\n\t\t\tbelowSpacerHeight: initialElemsToRender === this.props.listLength - 1 ? 0 : (Math.floor(props.listLength * 0.75) - 1) * props.minElemHeight,\r\n\t\t\tnumElemsSized: 0,\r\n\t\t\ttotalElemsSizedSize: 0,\r\n\t\t\trenderPart: null\r\n\t\t};\r\n\t\tthis.elemOverScan = this.props.elemOverScan != null ? this.props.elemOverScan : this.props.simplified ? 0 : 10;\r\n\t\tthis.childRefs = [];\r\n\t\tthis.stickyElems = null;\r\n\t\tthis.lastElemBounds = null;\r\n\t\tthis.firstElemBounds = null;\r\n\t\tthis.lastSectionChangeAt = 0;\r\n\t\tthis.updateRemainingSpace = this.updateRemainingSpace.bind(this);\r\n\t\tthis.handleScroll = this.handleScroll.bind(this);\r\n\t\tthis.setFullRender = this.setFullRender.bind(this);\r\n\t\tthis.clearTimer = this.clearTimer.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.springSystem = new Rebound.SpringSystem();\r\n\t\tthis.spring = this.springSystem.createSpring();\r\n\t\tthis.spring.setOvershootClampingEnabled(true);\r\n\t\tthis.spring.addListener({onSpringUpdate: this.handleSpringUpdate.bind(this)});\r\n\t\tif (this.inner != null) {\r\n\t\t\tthis.setState({containerTop: this.inner.getBoundingClientRect().top});\r\n\t\t}\r\n\t\t// Set initial bounds for first and last rendered elems\r\n\t\tif (this.itemsContainer && this.itemsContainer.children && !this.props.simplified) {\r\n\t\t\tconst lastElem = this.itemsContainer.lastElementChild;\r\n\t\t\tconst firstElem = this.itemsContainer.firstElementChild;\r\n\t\t\tconst lastElemBounds = lastElem && lastElem.firstElementChild ? lastElem.firstElementChild.getBoundingClientRect() : {};\r\n\t\t\tconst firstElemBounds = firstElem ? firstElem.getBoundingClientRect() : {};\r\n\t\t\tthis.firstElemBounds = {\r\n\t\t\t\ttop: firstElemBounds.top,\r\n\t\t\t\tbottom: firstElemBounds.bottom,\r\n\t\t\t\tleft: firstElemBounds.left,\r\n\t\t\t\tright: firstElemBounds.right\r\n\t\t\t};\r\n\t\t\tthis.lastElemBounds = {\r\n\t\t\t\ttop: lastElemBounds.top,\r\n\t\t\t\tbottom: lastElemBounds.bottom,\r\n\t\t\t\tleft: lastElemBounds.left,\r\n\t\t\t\tright: lastElemBounds.right\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (this.scrollBars) {\r\n\t\t\tthis.scrollHeight = this.scrollBars.getScrollHeight();\r\n\t\t}\r\n\t\tthis.updateAverageSizing();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevState.firstRenderedItemIndex !== this.state.firstRenderedItemIndex) {\r\n\t\t\tthis.firstElemBounds = null;\r\n\t\t}\r\n\t\tif (prevState.lastRenderedItemIndex !== this.state.lastRenderedItemIndex) {\r\n\t\t\tthis.lastElemBounds = null;\r\n\t\t}\r\n\t\tif (this.props.listLength !== prevProps.listLength) {\r\n\t\t\tthis.updateRemainingSpace();\r\n\t\t\tif (this.scrollBars) {\r\n\t\t\t\tthis.scrollHeight = this.scrollBars.getScrollHeight();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.state.renderPart !== prevState.renderPart) {\r\n\t\t\t// We rendered a new section - start timer to not bounce back and forth if on the edge between two renderParts\r\n\t\t\tthis.renderPartTimeout = setTimeout(() => this.clearTimer(), 200);\r\n\t\t}\r\n\t}\r\n\r\n\t// Clear timeout, allowing changes to renderpart\r\n\tclearTimer() {\r\n\t\tclearTimeout(this.renderPartTimeout);\r\n\t\tthis.renderPartTimeout = null;\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.springSystem.deregisterSpring(this.spring);\r\n\t\tthis.springSystem.removeAllListeners();\r\n\t\tthis.springSystem = undefined;\r\n\t\tthis.spring.destroy();\r\n\t\tthis.spring = undefined;\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\t// only render when visible items change -> smooth scroll\r\n\t\treturn (\r\n\t\t\t(this.props.stickyElems && this.props.stickyElems.length > 0) ||\r\n\t\t\tthis.props.listLength !== nextProps.listLength ||\r\n\t\t\tnextState.aboveSpacerHeight !== this.state.aboveSpacerHeight ||\r\n\t\t\tnextState.belowSpacerHeight !== this.state.belowSpacerHeight ||\r\n\t\t\tnextState.firstRenderedItemIndex !== this.state.firstRenderedItemIndex ||\r\n\t\t\tnextState.lastRenderedItemIndex !== this.state.lastRenderedItemIndex ||\r\n\t\t\tthis.propsDidChange(this.props, nextProps)\r\n\t\t);\r\n\t}\r\n\r\n\tgetInitialRenderAmount(props) {\r\n\t\t// Return full list if list is small, else return first quarter\r\n\t\tif (props.listLength <= this.virtualizationThreshold) {\r\n\t\t\treturn props.listLength - 1;\r\n\t\t}\r\n\t\treturn Math.round((props.listLength - 1) / 4) + this.optimisticCount;\r\n\t}\r\n\r\n\tpropsDidChange(props, nextProps) {\r\n\t\tconst newProps = Object.entries(nextProps);\r\n\t\treturn newProps.filter(([key, val]) => props[key] !== val).length > 0;\r\n\t}\r\n\r\n\t// Calculate remaining space below list, given the current rendering (first to last + overscan below and above)\r\n\tupdateRemainingSpace() {\r\n\t\tconst lastRenderedItemIndex = Math.min(this.props.listLength - 1, this.state.lastRenderedItemIndex + this.elemOverScan);\r\n\t\tconst remainingElemsBelow = Math.max(this.props.listLength - (lastRenderedItemIndex + 1), 0);\r\n\t\tconst averageItemSize = this.getElemSizeAvg();\r\n\t\tconst belowSpacerHeight = remainingElemsBelow * averageItemSize;\r\n\t\tif (belowSpacerHeight !== this.state.belowSpacerHeight) {\r\n\t\t\tthis.setState({belowSpacerHeight: belowSpacerHeight, renderPart: null}, () => this.setSpacingValidationTimer());\r\n\t\t}\r\n\t}\r\n\r\n\tsetSpacingValidationTimer() {\r\n\t\tif (this.autoCalcTimeout) {\r\n\t\t\tclearTimeout(this.autoCalcTimeout);\r\n\t\t}\r\n\t\tthis.autoCalcTimeout = setTimeout(() => this.autoCalculateSpacing(), 500);\r\n\t}\r\n\r\n\tautoCalculateSpacing() {\r\n\t\tlet shouldCalc = false;\r\n\t\t// Only re-calculate if we're more than 10 pixels past triggers\r\n\t\tconst triggerOffset = 10;\r\n\t\tif (this.belowSpacer && this.aboveSpacer) {\r\n\t\t\tconst belowSpacerBounds = this.belowSpacer.getBoundingClientRect();\r\n\t\t\tconst aboveSpacerBounds = this.aboveSpacer.getBoundingClientRect();\r\n\t\t\t// Below spacer is in viewport\r\n\t\t\tif (this.state.containerTop + this.props.containerHeight - triggerOffset > belowSpacerBounds.top) {\r\n\t\t\t\tshouldCalc = true;\r\n\t\t\t}\r\n\t\t\t// Above spacer is in viewport\r\n\t\t\tif (this.state.containerTop < aboveSpacerBounds.bottom - triggerOffset) {\r\n\t\t\t\tshouldCalc = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (shouldCalc) {\r\n\t\t\tconst scrollOffset = this.scrollBars.getScrollTop();\r\n\t\t\tconst averageItemSize = this.getElemSizeAvg();\r\n\t\t\tconst elemsAbove = Math.round(scrollOffset / averageItemSize);\r\n\t\t\tconst elemsToRender = Math.round(this.props.containerHeight / averageItemSize);\r\n\t\t\tthis.setState({\r\n\t\t\t\taboveSpacerHeight: elemsAbove * averageItemSize,\r\n\t\t\t\tbelowSpacerHeight: (this.props.listLength - (elemsAbove + elemsToRender)) * averageItemSize + averageItemSize,\r\n\t\t\t\tfirstRenderedItemIndex: Math.max(0, elemsAbove),\r\n\t\t\t\tlastRenderedItemIndex: Math.min(this.props.listLength - 1, elemsAbove + elemsToRender)\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\thandleSpringUpdate(spring) {\r\n\t\tconst val = spring.getCurrentValue();\r\n\t\tthis.scrollBars.scrollTop(val);\r\n\t}\r\n\r\n\tgetListToRender(list) {\r\n\t\tthis.stickyElems = [];\r\n\t\tconst lastRenderedItemIndex = this.state.lastRenderedItemIndex;\r\n\t\tconst firstRenderedItemIndex = this.state.firstRenderedItemIndex;\r\n\t\tlet start = 0;\r\n\t\tlet end = list.length - 1;\r\n\t\t// Only virtualize if we have more elements than our combined overscan\r\n\t\tif (list.length > this.elemOverScan * 2) {\r\n\t\t\t// Render elemOverscan amount of elements above and below the indices\r\n\t\t\tstart = Math.max(firstRenderedItemIndex - this.elemOverScan, 0);\r\n\t\t\tend = Math.min(lastRenderedItemIndex + this.elemOverScan, this.props.listLength - 1);\r\n\t\t\tif (this.props.stickyElems) {\r\n\t\t\t\tend += this.props.stickyElems.length;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet items = [];\r\n\t\t// Add sticky (dragged) elems and render other visible items\r\n\t\tlist.forEach((child, index) => {\r\n\t\t\t// Maintain elements that have the alwaysRender flag set. This is used to keep a dragged element rendered, even if its scroll parent would normally unmount it.\r\n\t\t\tif (this.props.stickyElems.find(id => id === child.props.draggableId)) {\r\n\t\t\t\tthis.stickyElems.push(child);\r\n\t\t\t} else if (index >= start && index <= end) {\r\n\t\t\t\titems.push(child);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn items;\r\n\t}\r\n\r\n\tsetScrollSection(scrollOffset, isScrollingDown) {\r\n\t\tconst avgElemSize = this.getElemSizeAvg();\r\n\t\t// The number of elements you can see in the container at a time (size of chunks we virtualize)\r\n\t\tconst elemsPerSection = Math.ceil(this.props.containerHeight / avgElemSize);\r\n\t\t// Optimisticly render more than neccesary, to avoid removing elements at borders\r\n\t\t// Scale optimism with amount of elements, up to a max of 10. Mostly for small lists to avoid rendering the entirety of an upcoming section along with the prior section\r\n\t\tthis.optimisticCount = Math.min(Math.round(elemsPerSection * 0.8), 4);\r\n\t\tlet numSections = Math.floor(this.props.listLength / elemsPerSection);\r\n\r\n\t\t// The sector we've scrolled to. Height of each section (virtualizable chunk) should be roughly the container size\r\n\t\tconst sectionScrolledTo = Math.round(scrollOffset / this.props.containerHeight);\r\n\t\tconst isScrolledToLastSection = sectionScrolledTo >= numSections - 1;\r\n\r\n\t\t// Only update if changed\r\n\t\tif (this.state.renderPart !== sectionScrolledTo) {\r\n\t\t\t// Optimism used above at start.\r\n\t\t\tconst usedOptimismAbove = sectionScrolledTo === 0 ? 0 : this.optimisticCount;\r\n\t\t\tconst optimismAboveHeight = usedOptimismAbove * avgElemSize;\r\n\r\n\t\t\t// Optimism used below to end of list\r\n\t\t\tconst usedOptimismBelow = isScrolledToLastSection ? 0 : this.optimisticCount;\r\n\t\t\tconst optimismBelowHeight = usedOptimismBelow * avgElemSize;\r\n\r\n\t\t\tconst firstIndex =\r\n\t\t\t\tsectionScrolledTo == 0\r\n\t\t\t\t\t? 0\r\n\t\t\t\t\t: isScrolledToLastSection\r\n\t\t\t\t\t? Math.max(0, this.props.listLength - 1 - elemsPerSection - this.optimisticCount)\r\n\t\t\t\t\t: sectionScrolledTo * elemsPerSection - this.optimisticCount;\r\n\t\t\tconst lastIndex = Math.min(this.props.listLength - 1, firstIndex + elemsPerSection + this.optimisticCount);\r\n\t\t\t// Sometimes, scroll bounces weirdly, causing a scroll down to actually render something pushes elements so far down, that the result is a lower scroll value.\r\n\t\t\t// In this case, we don't want to update anything.\r\n\t\t\tconst didBounce = isScrollingDown ? sectionScrolledTo < this.state.renderPart : sectionScrolledTo > this.state.renderPart;\r\n\t\t\tif (didBounce) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst aboveSpacerHeight = sectionScrolledTo === 0 ? 0 : sectionScrolledTo * this.props.containerHeight - optimismAboveHeight;\r\n\t\t\tconst belowSpacerHeight = isScrolledToLastSection ? 0 : (numSections - sectionScrolledTo) * this.props.containerHeight - optimismBelowHeight;\r\n\t\t\tthis.setState(\r\n\t\t\t\t{\r\n\t\t\t\t\trenderPart: sectionScrolledTo,\r\n\t\t\t\t\t// If we're at section 1, we have scrolled past section 0, and the above height will be 1 sections height\r\n\t\t\t\t\taboveSpacerHeight: aboveSpacerHeight,\r\n\t\t\t\t\tbelowSpacerHeight: belowSpacerHeight,\r\n\t\t\t\t\tfirstRenderedItemIndex: firstIndex,\r\n\t\t\t\t\tlastRenderedItemIndex: lastIndex\r\n\t\t\t\t},\r\n\t\t\t\t() => this.updateAverageSizing()\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\t// Render entire list, if we aren't already viewing all of it\r\n\tsetFullRender() {\r\n\t\tconst stateUpdate = {};\r\n\t\tif (this.state.firstRenderedItemIndex !== 0) {\r\n\t\t\tstateUpdate.firstRenderedItemIndex = 0;\r\n\t\t\tstateUpdate.aboveSpacerHeight = 0;\r\n\t\t}\r\n\t\tif (this.state.lastRenderedItemIndex !== this.props.listLength - 1) {\r\n\t\t\tstateUpdate.lastRenderedItemIndex = this.props.listLength - 1;\r\n\t\t\tstateUpdate.belowSpacerHeight = 0;\r\n\t\t}\r\n\t\tif (Object.entries(stateUpdate).length > 0) {\r\n\t\t\tthis.setState(stateUpdate);\r\n\t\t}\r\n\t}\r\n\r\n\thandleScroll(e) {\r\n\t\t// Don't start rendering new things more than once every 200ms.\r\n\t\tif (this.renderPartTimeout != null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst avgElemSize = this.getElemSizeAvg();\r\n\t\tconst scrollOffset = e.scrollTop;\r\n\r\n\t\tconst scrollHeight = this.scrollHeight;\r\n\t\t// Scrolling difference in px since last time we rendered a new section\r\n\t\tconst scrollDiff = scrollOffset - this.lastSectionChangeAt;\r\n\r\n\t\t// Update only if difference isn't minimal\r\n\t\tif (Math.abs(scrollDiff) < Math.max(5, avgElemSize * 0.1)) {\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tthis.lastSectionChangeAt = scrollOffset;\r\n\t\t}\r\n\t\t// If list contains fewer elements in total than some small number, or the list's scroll area isn't at least 2x bigger than the container, don't virtualize\r\n\t\tif (this.props.listLength <= this.virtualizationThreshold || Math.round(scrollHeight / this.props.containerHeight) <= 2) {\r\n\t\t\tthis.setFullRender(); // Just render entire list\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\t// Set section to render based on the current scroll\r\n\t\t\tthis.setScrollSection(scrollOffset, scrollDiff > 0);\r\n\t\t}\r\n\t\tif (this.props.onScroll) {\r\n\t\t\tthis.props.onScroll(e);\r\n\t\t}\r\n\t}\r\n\tupdateAverageSizing() {\r\n\t\tlet numSized = 0;\r\n\t\tlet totalSize = 0;\r\n\t\tif (this.itemsContainer && this.itemsContainer.children) {\r\n\t\t\tfor (let i = 0; i < this.itemsContainer.children.length; i++) {\r\n\t\t\t\tconst child = this.itemsContainer.children[i];\r\n\t\t\t\tnumSized++;\r\n\t\t\t\ttotalSize += child.clientHeight;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (numSized !== this.state.numElemsSized) {\r\n\t\t\tconst scrollHeight = this.scrollBars ? this.scrollBars.getScrollHeight() : window.innerHeight;\r\n\t\t\tthis.scrollHeight = scrollHeight;\r\n\t\t\tthis.setState({numElemsSized: numSized, totalElemsSizedSize: totalSize});\r\n\t\t}\r\n\t}\r\n\r\n\t// Animated scroll to top\r\n\tanimateScrollTop(top) {\r\n\t\tconst scrollTop = this.scrollBars.getScrollTop();\r\n\t\tthis.spring.setCurrentValue(scrollTop).setAtRest();\r\n\t\tthis.spring.setEndValue(top);\r\n\t}\r\n\r\n\t// Get height of virtualized scroll container\r\n\tgetScrollHeight() {\r\n\t\treturn this.scrollBars.getScrollHeight();\r\n\t}\r\n\t// Set scroll offset of virtualized scroll container\r\n\tscrollTop(val) {\r\n\t\tthis.scrollBars.scrollTop(val);\r\n\t}\r\n\t// Get scroll offset of virtualized scroll container\r\n\tgetScrollTop() {\r\n\t\treturn this.scrollBars.getScrollTop();\r\n\t}\r\n\r\n\tgetElemSizeAvg() {\r\n\t\treturn Math.ceil(this.state.numElemsSized > 0 ? this.state.totalElemsSizedSize / this.state.numElemsSized : this.props.minElemHeight);\r\n\t}\r\n\r\n\tgetOverScanUsed() {\r\n\t\tconst overscan = {\r\n\t\t\tabove: this.state.firstRenderedItemIndex > this.elemOverScan ? Math.min(this.elemOverScan, this.state.firstRenderedItemIndex - this.elemOverScan) : 0,\r\n\t\t\tbelow: Math.min(this.elemOverScan, this.props.listLength - 1 - this.state.lastRenderedItemIndex)\r\n\t\t};\r\n\t\treturn overscan;\r\n\t}\r\n\r\n\tonScrollStop() {\r\n\t\tthis.shouldScroll = false;\r\n\t\tthis.setScrollStopTimer();\r\n\t}\r\n\r\n\tsetScrollStopTimer() {\r\n\t\tif (this.scrollStopTimer) {\r\n\t\t\tclearTimeout(this.scrollStopTimer);\r\n\t\t}\r\n\t\t// Don't allow scroll updates more than once every 5ms\r\n\t\tthis.scrollStopTimer = setTimeout(() => (this.shouldScroll = true), 5);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {children} = this.props;\r\n\t\tconst overscanUsed = this.getOverScanUsed();\r\n\t\tlet childrenWithProps = React.Children.map(children, (child, index) => React.cloneElement(child, {originalindex: index, ref: node => (this.childRefs[index] = node)}));\r\n\t\tconst overScanHeightBelow = overscanUsed.below * this.getElemSizeAvg();\r\n\t\tconst overScanHeightAbove = overscanUsed.above * this.getElemSizeAvg();\r\n\r\n\t\tconst listToRender = this.getListToRender(childrenWithProps);\r\n\t\t// Always add one empty space below\r\n\t\tconst belowSpacerStyle = {\r\n\t\t\tborder: this.props.showIndicators ? 'solid 3px yellow' : 'none',\r\n\t\t\twidth: '100%',\r\n\t\t\theight: this.state.belowSpacerHeight + (this.props.stickyElems && this.props.stickyElems.length > 0 ? this.props.stickyElems.length * this.getElemSizeAvg() : 0) - overScanHeightBelow\r\n\t\t};\r\n\t\tconst aboveSpacerStyle = {border: this.props.showIndicators ? 'solid 3px purple' : 'none', width: '100%', height: Math.max(this.state.aboveSpacerHeight - overScanHeightAbove, 0)};\r\n\t\tif (this.stickyElems && this.stickyElems.length > 0) {\r\n\t\t\t// Insert element that is being dragged (stickyElems - currentl represented as arrays, in case we want more than 1, but multidrag only sticks 1 in the current design).\r\n\t\t\t// This is done to avoid virtualizing the element we're dragging away, when its parent container is virtuaized away (drag + scroll)\r\n\t\t\tlistToRender.push(this.stickyElems[0]);\r\n\t\t}\r\n\r\n\t\tconst innerStyle = {\r\n\t\t\twidth: '100%',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflexGrow: '1',\r\n\t\t\tminHeight: this.props.containerHeight\r\n\t\t};\r\n\r\n\t\tconst listItemsStyle = {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflexGrow: '1'\r\n\t\t};\r\n\r\n\t\tlet firstIndicatorStyle;\r\n\t\tlet lastIndicatorStyle;\r\n\t\tif (this.firstElemBounds && this.lastElemBounds && !this.props.simplified) {\r\n\t\t\tfirstIndicatorStyle = {\r\n\t\t\t\ttop: this.firstElemBounds.top,\r\n\t\t\t\tleft: this.firstElemBounds.left,\r\n\t\t\t\twidth: this.firstElemBounds.right - this.firstElemBounds.left - 6,\r\n\t\t\t\theight: this.firstElemBounds.bottom - this.firstElemBounds.top - 6,\r\n\t\t\t\tboxSizing: 'border-box',\r\n\t\t\t\tbackground: 'transparent',\r\n\t\t\t\tborder: 'solid 3px green',\r\n\t\t\t\tposition: 'fixed'\r\n\t\t\t};\r\n\t\t\tlastIndicatorStyle = {\r\n\t\t\t\ttop: this.lastElemBounds.top,\r\n\t\t\t\tleft: this.lastElemBounds.left,\r\n\t\t\t\twidth: this.lastElemBounds.right - this.lastElemBounds.left - 6,\r\n\t\t\t\theight: this.lastElemBounds.bottom - this.lastElemBounds.top - 6,\r\n\t\t\t\tboxSizing: 'border-box',\r\n\t\t\t\tbackground: 'transparent',\r\n\t\t\t\tborder: 'solid 3px blue',\r\n\t\t\t\tposition: 'fixed'\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Scrollbars\r\n\t\t\t\t// onScrollStop={this.onScrollStop.bind(this)}\r\n\t\t\t\tonScrollFrame={this.handleScroll.bind(this)}\r\n\t\t\t\tref={div => (this.scrollBars = div)}\r\n\t\t\t\t{...this.props.scrollProps}\r\n\t\t\t\tautoHeight={true}\r\n\t\t\t\tautoHeightMax={this.props.containerHeight}\r\n\t\t\t\tautoHeightMin={this.props.containerHeight}\r\n\t\t\t>\r\n\t\t\t\t{this.props.showIndicators ? <div className={'first-indicator'} style={firstIndicatorStyle} /> : null}\r\n\t\t\t\t{this.props.showIndicators ? <div className={'last-indicator'} style={lastIndicatorStyle} /> : null}\r\n\r\n\t\t\t\t<div className={'virtualized-scrollbar-inner'} style={innerStyle} ref={div => (this.inner = div)}>\r\n\t\t\t\t\t<div ref={div => (this.aboveSpacer = div)} style={aboveSpacerStyle} className={'above-spacer'} />\r\n\t\t\t\t\t<div className={'list-items'} style={listItemsStyle} ref={div => (this.itemsContainer = div)}>\r\n\t\t\t\t\t\t{listToRender}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div ref={div => (this.belowSpacer = div)} style={belowSpacerStyle} className={'below-spacer'} />\r\n\t\t\t\t</div>\r\n\t\t\t</Scrollbars>\r\n\t\t);\r\n\t}\r\n}\r\nDynamicVirtualizedScrollbar.propTypes = {\r\n\tminElemHeight: PropTypes.number.isRequired\r\n};\r\nexport default DynamicVirtualizedScrollbar;\r\n","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Scrollbars} from 'react-custom-scrollbars';\r\nimport {subscribe, unsubscribe} from '../util/event_manager';\r\nimport VirtualizedScrollBar from './virtualized-scrollbar';\r\nimport Util from './../util/util';\r\nimport DynamicVirtualizedScrollbar from './dynamic-virtualized-scrollbar';\r\n\r\nclass Droppable extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tplaceholder: null,\r\n\t\t\tscrollOffset: 0,\r\n\t\t\ttopSpacerHeight: 0,\r\n\t\t\tunrenderedBelow: 0,\r\n\t\t\tunrenderedAbove: 0,\r\n\t\t\tdragAndDropGroup: Util.getDragEvents(this.props.dragAndDropGroup),\r\n\t\t\tcurrentlyActiveDraggable: null\r\n\t\t};\r\n\t\tthis.onPlaceholderChange = this.onPlaceholderChange.bind(this);\r\n\t\tthis.onScrollChange = this.onScrollChange.bind(this);\r\n\t\tthis.onDragEnd = this.onDragEnd.bind(this);\r\n\t\tthis.onDragStart = this.onDragStart.bind(this);\r\n\t\tthis.getDraggedElemHeight = this.getDraggedElemHeight.bind(this);\r\n\t\tthis.defaultElemHeight = 50;\r\n\t\t//this.getShouldAlwaysRender = this.getShouldAlwaysRender.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tsubscribe(this.state.dragAndDropGroup.placeholderEvent, this.onPlaceholderChange);\r\n\t\tsubscribe(this.state.dragAndDropGroup.scrollEvent, this.onScrollChange);\r\n\t\tsubscribe(this.state.dragAndDropGroup.endEvent, this.onDragEnd);\r\n\t\tsubscribe(this.state.dragAndDropGroup.startEvent, this.onDragStart);\r\n\t\tthis.setState({mounted: true});\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tunsubscribe(this.state.dragAndDropGroup.endEvent, this.onDragEnd);\r\n\t\tunsubscribe(this.state.dragAndDropGroup.startEvent, this.onDragStart);\r\n\t\tunsubscribe(this.state.dragAndDropGroup.placeholderEvent, this.onPlaceholderChange);\r\n\t\tunsubscribe(this.state.dragAndDropGroup.scrollEvent, this.onScrollChange);\r\n\t}\r\n\r\n\tgetScrollTop() {\r\n\t\tif (this.scrollBars) {\r\n\t\t\treturn this.scrollBars.getScrollTop();\r\n\t\t}\r\n\t}\r\n\r\n\tanimateScrollTop(val) {\r\n\t\tif (this.scrollBars) {\r\n\t\t\tthis.scrollBars.animateScrollTop(val);\r\n\t\t}\r\n\t}\r\n\r\n\tscrollTop(val) {\r\n\t\tif (this.scrollBars) {\r\n\t\t\tthis.scrollBars.scrollTop(val);\r\n\t\t}\r\n\t}\r\n\r\n\tgetScrollHeight() {\r\n\t\tif (this.scrollBars) {\r\n\t\t\treturn this.scrollBars.getScrollHeight();\r\n\t\t}\r\n\t}\r\n\r\n\tonDragEnd(draggedElem) {\r\n\t\tthis.setState({currentlyActiveDraggable: null}, () => this.forceUpdate());\r\n\t}\r\n\r\n\tonDragStart(draggedElem) {\r\n\t\tthis.setState({currentlyActiveDraggable: draggedElem});\r\n\t}\r\n\r\n\t// Receives notification about placeholder from context. If we're not the active droppable, don't show placeholder.\r\n\tonPlaceholderChange(placeholder, droppableActive) {\r\n\t\tconst isTargetingMe = droppableActive === this.props.droppableId;\r\n\t\tif (isTargetingMe) {\r\n\t\t\tthis.setState({placeholder: placeholder, droppableActive: droppableActive});\r\n\t\t} else if (this.state.placeholder != null || this.state.droppableActive !== null) {\r\n\t\t\tthis.setState({placeholder: null, droppableActive: null});\r\n\t\t}\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\t// If we're not in a drag, and one is not coming up, always update\r\n\t\tif (this.state.currentlyActiveDraggable == null && this.state.droppableActive == null && nextState.droppableActive == null && nextState.currentlyActiveDraggable == null) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (this.state.mounted !== nextState.mounted) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (this.state.scrollOffset !== nextState.scrollOffset) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (this.props.children && nextProps.children && this.props.children.length !== nextProps.children.length) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tconst isTargetingMe = nextState.droppableActive === this.props.droppableId;\r\n\t\tif (isTargetingMe) {\r\n\t\t\tif (this.state.droppableActive === nextState.droppableActive && this.state.placeholder === nextState.placeholder) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t} else if (this.state.placeholder == null && this.state.droppableActive == null) {\r\n\t\t\t//If we're not being targeted, we dont' want a placeholder update.\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tgetDraggedElemHeight() {\r\n\t\tif (this.state.currentlyActiveDraggable) {\r\n\t\t\treturn this.state.currentlyActiveDraggable.height;\r\n\t\t}\r\n\t\treturn this.props.elemHeight ? this.props.elemHeight : this.defaultElemHeight;\r\n\t}\r\n\r\n\tpushPlaceholder(children) {\r\n\t\tlet pushedPlaceholder = false;\r\n\t\tconst listToRender = [...children];\r\n\t\tconst placeholderHeight = this.props.dynamicElemHeight ? this.getDraggedElemHeight() : this.props.elemHeight ? this.props.elemHeight : this.defaultElemHeight;\r\n\t\tlet style;\r\n\r\n\t\tif (this.props.placeholderStyle) {\r\n\t\t\tstyle = {...this.props.placeholderStyle};\r\n\t\t\tstyle.height = placeholderHeight;\r\n\t\t} else {\r\n\t\t\tstyle = {\r\n\t\t\t\tborder: '1px dashed grey',\r\n\t\t\t\theight: placeholderHeight,\r\n\t\t\t\tbackgroundColor: 'transparent'\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tif (this.state.placeholder) {\r\n\t\t\tlistToRender.forEach((elem, index) => {\r\n\t\t\t\tif (elem && elem.props && elem.props.draggableId === this.state.placeholder && !pushedPlaceholder) {\r\n\t\t\t\t\tlistToRender.splice(\r\n\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t<div key={'placeholder'} draggableid={'placeholder'} className={'draggable-test'} style={style}>\r\n\t\t\t\t\t\t\t<p className={'placeholder-text'} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t\tpushedPlaceholder = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else if (!pushedPlaceholder) {\r\n\t\t\tlistToRender.push(\r\n\t\t\t\t<div key={'placeholder'} draggableid={'placeholder'} className={'draggable-test'} style={style}>\r\n\t\t\t\t\t<p className={'placeholder-text'} />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn listToRender;\r\n\t}\r\n\r\n\tonScrollChange(droppableActive, scrollOffset) {\r\n\t\tconst goingDown = scrollOffset > 0;\r\n\t\tif (droppableActive != null && droppableActive === this.state.droppableActive && this.scrollBars) {\r\n\t\t\tif ((goingDown && this.scrollBars.getScrollHeight() <= this.scrollBars.getScrollTop()) || (!goingDown && this.scrollBars.getScrollTop() <= 0)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.scrollBars.scrollTop(this.scrollBars.getScrollTop() + scrollOffset);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {children, customScrollbars} = this.props;\r\n\t\t// Objects we want to render\r\n\t\tlet listToRender = [];\r\n\t\tconst propsObject = {\r\n\t\t\tkey: this.props.droppableId,\r\n\t\t\tdroppableid: this.props.droppableId,\r\n\t\t\tdroppablegroup: this.props.dragAndDropGroup\r\n\t\t};\r\n\r\n\t\tif (children && children.length > 0) {\r\n\t\t\t// Pass my droppableId to all children to give a source for DnD\r\n\t\t\tlet childrenWithProps = React.Children.map(children, child =>\r\n\t\t\t\tReact.cloneElement(child, {\r\n\t\t\t\t\tdroppableId: this.props.droppableId\r\n\t\t\t\t\t//alwaysRender: this.getShouldAlwaysRender\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tlistToRender = childrenWithProps;\r\n\t\t}\r\n\t\tconst optimism = 25;\r\n\t\tlet elemHeight = 0;\r\n\t\tlet rowsTotalHeight = 0;\r\n\t\tlet shouldScroll = true;\r\n\t\tlet calculatedRowMinHeight = 0;\r\n\t\tconst listHeaderHeight = this.props.listHeader != null ? this.props.listHeaderHeight : 0;\r\n\t\tlet outerContainerHeight = this.props.containerHeight;\r\n\t\telemHeight = this.props.hideList ? 0 : this.props.dynamicElemHeight ? this.props.minElemHeight : this.props.elemHeight;\r\n\t\trowsTotalHeight = listToRender.length * elemHeight;\r\n\t\t// Container smaller than calculated height of rows?\r\n\t\tshouldScroll = this.props.dynamicElemHeight || this.props.containerHeight <= rowsTotalHeight + listHeaderHeight + optimism;\r\n\r\n\t\t// Total rows + height of one row (required for DnD to empty lists/dropping below list)\r\n\t\tcalculatedRowMinHeight = rowsTotalHeight + (this.props.hideList ? 0 : elemHeight);\r\n\r\n\t\t// The minimum height of the container is the # of elements + 1 (same reason as above), unless a minimum height is specificied that is larger than this.\r\n\t\t// If the minimum height exceeds the containerHeight, we limit it to containerHeight and enable scroll instead\r\n\t\touterContainerHeight = this.props.enforceContainerMinHeight\r\n\t\t\t? this.props.containerHeight\r\n\t\t\t: shouldScroll\r\n\t\t\t? this.props.containerHeight\r\n\t\t\t: this.props.containerMinHeight && this.props.containerMinHeight >= calculatedRowMinHeight\r\n\t\t\t? this.props.containerMinHeight\r\n\t\t\t: Math.min(calculatedRowMinHeight + listHeaderHeight, this.props.containerHeight);\r\n\r\n\t\tconst draggedElemId = this.state.currentlyActiveDraggable ? this.state.currentlyActiveDraggable.draggableId : null;\r\n\t\tconst CustomTag = this.props.tagName ? this.props.tagName : 'div';\r\n\t\tconst headerWithProps =\r\n\t\t\tthis.props.listHeader != null && this.props.listHeaderHeight != null\r\n\t\t\t\t? React.cloneElement(this.props.listHeader, {\r\n\t\t\t\t\t\tdraggableid: this.props.droppableId + '-header'\r\n\t\t\t\t  })\r\n\t\t\t\t: null;\r\n\t\tconst isActive = this.state.droppableActive && this.state.droppableActive === this.props.droppableId;\r\n\t\tconst headerActive = isActive && this.state.placeholder && this.state.placeholder.includes('header');\r\n\r\n\t\treturn (\r\n\t\t\t<CustomTag {...propsObject} style={{height: outerContainerHeight, minHeight: outerContainerHeight, maxHeight: outerContainerHeight, overflow: 'hidden'}}>\r\n\t\t\t\t<div className={'header-wrapper ' + (headerActive ? this.props.activeHeaderClass : '')}>{headerWithProps}</div>\r\n\t\t\t\t{this.props.hideList ? null : shouldScroll && !this.props.disableScroll ? (\r\n\t\t\t\t\tthis.props.externalVirtualization ? (\r\n\t\t\t\t\t\t<Scrollbars\r\n\t\t\t\t\t\t\t// onScrollStop={this.onScrollStop.bind(this)}\r\n\t\t\t\t\t\t\tonScrollFrame={this.props.onScroll}\r\n\t\t\t\t\t\t\tref={div => (this.scrollBars = div)}\r\n\t\t\t\t\t\t\t{...this.props.scrollProps}\r\n\t\t\t\t\t\t\tautoHeight={true}\r\n\t\t\t\t\t\t\tautoHeightMax={this.props.containerHeight - listHeaderHeight}\r\n\t\t\t\t\t\t\tautoHeightMin={this.props.containerHeight - listHeaderHeight}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{isActive ? this.pushPlaceholder(listToRender) : listToRender}\r\n\t\t\t\t\t\t</Scrollbars>\r\n\t\t\t\t\t) : this.props.dynamicElemHeight ? (\r\n\t\t\t\t\t\t<DynamicVirtualizedScrollbar\r\n\t\t\t\t\t\t\telemOverScan={this.props.elemOverScan}\r\n\t\t\t\t\t\t\tinitialElemsToRender={this.props.initialElemsToRender}\r\n\t\t\t\t\t\t\tdisableVirtualization={this.props.disableVirtualization}\r\n\t\t\t\t\t\t\tlistLength={listToRender.length}\r\n\t\t\t\t\t\t\tminElemHeight={this.props.minElemHeight}\r\n\t\t\t\t\t\t\tstickyElems={draggedElemId ? [draggedElemId] : []}\r\n\t\t\t\t\t\t\tref={scrollDiv => (this.scrollBars = scrollDiv)}\r\n\t\t\t\t\t\t\tcontainerHeight={this.props.containerHeight - listHeaderHeight}\r\n\t\t\t\t\t\t\tshowIndicators={this.props.showIndicators}\r\n\t\t\t\t\t\t\tscrollProps={this.props.scrollProps}\r\n\t\t\t\t\t\t\tonScroll={this.props.onScroll}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{isActive ? this.pushPlaceholder(listToRender) : listToRender}\r\n\t\t\t\t\t\t</DynamicVirtualizedScrollbar>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<VirtualizedScrollBar\r\n\t\t\t\t\t\t\tdisableVirtualization={this.props.disableVirtualization}\r\n\t\t\t\t\t\t\tstickyElems={draggedElemId ? [draggedElemId] : []}\r\n\t\t\t\t\t\t\tstaticElemHeight={elemHeight}\r\n\t\t\t\t\t\t\tref={scrollDiv => (this.scrollBars = scrollDiv)}\r\n\t\t\t\t\t\t\tcustomScrollbars={customScrollbars}\r\n\t\t\t\t\t\t\tcontainerHeight={this.props.containerHeight - listHeaderHeight}\r\n\t\t\t\t\t\t\tonScroll={this.props.onScroll}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{isActive ? this.pushPlaceholder(listToRender) : listToRender}\r\n\t\t\t\t\t\t</VirtualizedScrollBar>\r\n\t\t\t\t\t)\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className={'no-scroll-container'}>{isActive ? this.pushPlaceholder(listToRender) : listToRender}</div>\r\n\t\t\t\t)}\r\n\t\t\t</CustomTag>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nDroppable.propTypes = {\r\n\tdroppableId: PropTypes.string.isRequired,\r\n\tdragAndDropGroup: PropTypes.string.isRequired,\r\n\tcontainerHeight: PropTypes.number.isRequired,\r\n\tplaceholderStyle: PropTypes.object,\r\n\telemHeight: PropTypes.number,\r\n\tdynamicElemHeight: PropTypes.bool,\r\n\tdisableScroll: PropTypes.bool\r\n};\r\nexport default Droppable;\r\n","import React, {Component} from 'react';\r\nimport {dispatch, subscribe, unsubscribe} from '../util/event_manager';\r\nimport {Scrollbars} from 'react-custom-scrollbars';\r\nimport Util from './../util/util';\r\n\r\nclass DragDropContext extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tplaceholder: null,\r\n\t\t\tdragStarted: false,\r\n\t\t\tdragActive: false,\r\n\t\t\tdraggedElem: null,\r\n\t\t\tdroppableActive: null,\r\n\t\t\ttargetSection: null,\r\n\t\t\tdragAndDropGroup: Util.getDragEvents(this.props.dragAndDropGroup)\r\n\t\t};\r\n\t\tthis.onDragMove = this.onDragMove.bind(this);\r\n\t\tthis.resetPlaceholderIndex = this.resetPlaceholderIndex.bind(this);\r\n\t\tthis.onDragEnd = this.onDragEnd.bind(this);\r\n\t\tthis.onDragStart = this.onDragStart.bind(this);\r\n\t\tthis.dispatchPlaceholder = this.dispatchPlaceholder.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tsubscribe(this.state.dragAndDropGroup.endEvent, this.onDragEnd);\r\n\t\tsubscribe(this.state.dragAndDropGroup.startEvent, this.onDragStart);\r\n\t\tsubscribe(this.state.dragAndDropGroup.moveEvent, this.onDragMove);\r\n\t\tsubscribe(this.state.dragAndDropGroup.resetEvent, this.resetPlaceholderIndex);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tunsubscribe(this.state.dragAndDropGroup.endEvent, this.onDragEnd);\r\n\t\tunsubscribe(this.state.dragAndDropGroup.startEvent, this.onDragStart);\r\n\t\tunsubscribe(this.state.dragAndDropGroup.moveEvent, this.onDragMove);\r\n\t\tunsubscribe(this.state.dragAndDropGroup.resetEvent, this.resetPlaceholderIndex);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\t// If our placeholder has changed, notify droppables\r\n\t\tif (this.state.placeholder !== prevState.placeholder || this.state.droppableActive !== prevState.droppableActive) {\r\n\t\t\tthis.dispatchPlaceholder();\r\n\t\t}\r\n\t}\r\n\r\n\tdispatchPlaceholder() {\r\n\t\tif (this.state.draggedElem && this.state.dragActive && this.state.droppableActive) {\r\n\t\t\tdispatch(this.state.dragAndDropGroup.placeholderEvent, this.state.placeholder, this.state.droppableActive, this.state.draggedElem);\r\n\t\t} else {\r\n\t\t\tdispatch(this.state.dragAndDropGroup.placeholderEvent, null, null);\r\n\t\t}\r\n\t}\r\n\r\n\tonDragStart(draggable, x, y) {\r\n\t\tif (!this.state.dragActive) {\r\n\t\t\tthis.setState({dragActive: true, draggedElem: draggable});\r\n\t\t}\r\n\t\tif (this.props.onDragStart) {\r\n\t\t\tthis.props.onDragStart(draggable, x, y);\r\n\t\t}\r\n\t}\r\n\r\n\tonDragEnd() {\r\n\t\tif (this.state.draggedElem && this.state.droppableActive) {\r\n\t\t\tlet placeholder = this.state.placeholder != null ? this.state.placeholder : 'END_OF_LIST';\r\n\t\t\tif (this.props.onDragEnd) {\r\n\t\t\t\tif (this.state.targetSection && this.state.targetSection === placeholder) {\r\n\t\t\t\t\t// Send null and placeholderSection, not both\r\n\t\t\t\t\tplaceholder = null;\r\n\t\t\t\t}\r\n\t\t\t\tthis.props.onDragEnd(this.state.draggedElem, this.state.droppableActive, placeholder, this.state.targetSection);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (this.props.onDragCancel) {\r\n\t\t\t\tthis.props.onDragCancel(this.state.draggedElem);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tdraggedElem: null,\r\n\t\t\tplaceholder: null,\r\n\t\t\tdragActive: false,\r\n\t\t\tdroppableActive: null,\r\n\t\t\tdragStarted: false,\r\n\t\t\tglobalScroll: null,\r\n\t\t\tglobalScrollXDirection: null,\r\n\t\t\tglobalScrollYDirection: null\r\n\t\t});\r\n\t}\r\n\t// Check if global scroll is at appropriate edge already\r\n\tgetCanScrollDirection(dir) {\r\n\t\tif (!this.outerScrollBar) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tswitch (dir) {\r\n\t\t\tcase 'down':\r\n\t\t\t\treturn this.outerScrollBar.getScrollTop() < this.outerScrollBar.getScrollHeight() - this.props.scrollContainerHeight;\r\n\t\t\tcase 'up':\r\n\t\t\t\treturn this.outerScrollBar.getScrollTop() > 0;\r\n\t\t\tcase 'left':\r\n\t\t\t\treturn this.outerScrollBar.getScrollLeft() > 0;\r\n\t\t\tcase 'right':\r\n\t\t\t\treturn this.outerScrollBar.getScrollLeft() < this.outerScrollBar.getScrollWidth() - window.innerWidth;\r\n\t\t}\r\n\t}\r\n\r\n\t// When a card is moved, check for autoScroll\r\n\tonMoveScroll(x, y, droppable) {\r\n\t\t//var h = this.container.getBoundingClientRect().bottom - this.container.getBoundingClientRect().top;\r\n\t\tif (this.state.dragActive && this.state.draggedElem) {\r\n\t\t\tconst screenWidth = window.innerWidth;\r\n\t\t\t// Scroll when within 5% or 50px of edge, depending on which one is larger.\r\n\t\t\t// This gives nice big areas for computer screens, without scrolling everywhere on phones\r\n\t\t\tconst scrollThreshold = this.props.autoScrollThreshold || Math.max(50, Math.round(screenWidth * 0.05));\r\n\t\t\tconst scrollContainerPos = this.container.getBoundingClientRect();\r\n\r\n\t\t\tconst isNearPageLeft = Math.abs(x - scrollContainerPos.left) <= scrollThreshold;\r\n\t\t\tconst isNearPageRight = Math.abs(x - scrollContainerPos.right) <= scrollThreshold;\r\n\t\t\tconst isNearPageTop = Math.abs(y - scrollContainerPos.top) <= scrollThreshold;\r\n\t\t\tconst isNearPageBottom = Math.abs(y - scrollContainerPos.bottom) <= scrollThreshold;\r\n\r\n\t\t\tconst shouldScrollGlobally = isNearPageBottom || isNearPageTop || isNearPageLeft || isNearPageRight;\r\n\t\t\tconst canScrollGlobally = this.getCanScrollDirection(isNearPageBottom ? 'down' : isNearPageTop ? 'up' : isNearPageLeft ? 'left' : isNearPageRight ? 'right' : '');\r\n\t\t\t// BEGIN GLOBAL SCROLLING //\r\n\t\t\tif (shouldScrollGlobally && canScrollGlobally) {\r\n\t\t\t\tif (this.outerScrollBar) {\r\n\t\t\t\t\tif (isNearPageRight) {\r\n\t\t\t\t\t\t// Scroll right\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tglobalScroll: true,\r\n\t\t\t\t\t\t\tglobalScrollXDirection: 'right'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (isNearPageLeft) {\r\n\t\t\t\t\t\t// Scroll left\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tglobalScroll: true,\r\n\t\t\t\t\t\t\tglobalScrollXDirection: 'left'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tglobalScrollXDirection: null\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (isNearPageBottom) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tglobalScroll: true,\r\n\t\t\t\t\t\t\tglobalScrollYDirection: 'down'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// can only scroll down if the current scroll is less than height\r\n\t\t\t\t\t} else if (isNearPageTop) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tglobalScroll: true,\r\n\t\t\t\t\t\t\tglobalScrollYDirection: 'up'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// can only scroll up if current scroll is larger than 0\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setState({globalScrollYDirection: null});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!this.frame) {\r\n\t\t\t\t\t\tthis.frame = requestAnimationFrame(() => this.autoScroll(x, y));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// END GLOBAL SCROLLING //\r\n\t\t\t} else if (droppable) {\r\n\t\t\t\t// Clear global scroll\r\n\t\t\t\tthis.setState({globalScroll: null});\r\n\t\t\t\tconst containerBoundaries = {\r\n\t\t\t\t\tleft: droppable.getBoundingClientRect().left,\r\n\t\t\t\t\tright: droppable.getBoundingClientRect().right,\r\n\t\t\t\t\ttop: droppable.getBoundingClientRect().top,\r\n\t\t\t\t\tbottom: droppable.getBoundingClientRect().bottom\r\n\t\t\t\t};\r\n\r\n\t\t\t\tconst isNearYBottom = containerBoundaries.bottom - y <= scrollThreshold;\r\n\t\t\t\tconst isNearYTop = y - containerBoundaries.top <= scrollThreshold;\r\n\r\n\t\t\t\tif (isNearYBottom) {\r\n\t\t\t\t\t//Scroll down the page, increase y values\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tshouldScrollY: true,\r\n\t\t\t\t\t\tincreaseYScroll: true\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (isNearYTop) {\r\n\t\t\t\t\t//Scroll up\r\n\t\t\t\t\tthis.setState({shouldScrollY: true, increaseYScroll: false});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({shouldScrollY: false});\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.frame) {\r\n\t\t\t\t\tthis.frame = requestAnimationFrame(() => this.autoScroll(x, y));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.frame = null;\r\n\t\t\tthis.clearScrolling();\r\n\t\t}\r\n\t}\r\n\tclearScrolling() {\r\n\t\tconst mutationObject = {};\r\n\t\tif (this.state.globalScroll) {\r\n\t\t\tmutationObject.globalScroll = false;\r\n\t\t}\r\n\t\tthis.setState({mutationObject});\r\n\t}\r\n\r\n\tonDragMove(draggable, droppable, draggableHoveredOverId, x, y, sectionId) {\r\n\t\tif (draggable && droppable) {\r\n\t\t\tconst shouldUpdateDraggable = this.state.draggedElem != null ? this.state.draggedElem.id !== draggable.id : draggable != null;\r\n\t\t\tconst shouldUpdateDroppable = this.state.droppableActive != null ? this.state.droppableActive !== droppable : droppable != null;\r\n\t\t\tconst shouldUpdatePlaceholder = this.state.placeholder != null ? this.state.placeholder !== draggableHoveredOverId : draggableHoveredOverId != null;\r\n\t\t\tconst shouldUpdateSectionId = this.state.targetSection != null ? this.state.targetSection !== sectionId : sectionId != null;\r\n\t\t\tconst mutationObject = {};\r\n\t\t\tlet shouldUpdate = false;\r\n\t\t\t// Update if field is currently not set, and it is in nextstate, or if the two IDs differ.\r\n\t\t\tif (shouldUpdateDraggable) {\r\n\t\t\t\tmutationObject.draggedElem = draggable;\r\n\t\t\t\tshouldUpdate = true;\r\n\t\t\t}\r\n\t\t\tif (shouldUpdateDroppable) {\r\n\t\t\t\tmutationObject.droppableActive = droppable.getAttribute('droppableid');\r\n\t\t\t\tshouldUpdate = true;\r\n\t\t\t}\r\n\t\t\tif (shouldUpdatePlaceholder) {\r\n\t\t\t\tmutationObject.placeholder = draggableHoveredOverId;\r\n\t\t\t\tshouldUpdate = true;\r\n\t\t\t}\r\n\t\t\tif (shouldUpdateSectionId) {\r\n\t\t\t\tmutationObject.targetSection = sectionId;\r\n\t\t\t\tshouldUpdate = true;\r\n\t\t\t}\r\n\t\t\tif (shouldUpdate) {\r\n\t\t\t\tthis.setState(mutationObject);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Register move no matter what (even if draggable/droppably wasnt updated here)\r\n\t\tthis.onMoveScroll(x, y, droppable);\r\n\t}\r\n\r\n\tresetPlaceholderIndex() {\r\n\t\tif (this.state.placeholder != null || this.state.droppableActive != null) {\r\n\t\t\tthis.setState({placeholder: null, droppableActive: null});\r\n\t\t}\r\n\t}\r\n\r\n\tsideScroll(val) {\r\n\t\tif (this.outerScrollBar) {\r\n\t\t\tthis.outerScrollBar.scrollLeft(val);\r\n\t\t}\r\n\t}\r\n\r\n\tgetSideScroll() {\r\n\t\tif (this.outerScrollBar) {\r\n\t\t\treturn this.outerScrollBar.getScrollLeft();\r\n\t\t}\r\n\t}\r\n\r\n\tautoScroll(x, y) {\r\n\t\tif (this.state.dragActive && this.state.draggedElem) {\r\n\t\t\tif (this.state.globalScroll && (this.state.globalScrollXDirection || this.state.globalScrollYDirection) && this.outerScrollBar) {\r\n\t\t\t\tswitch (this.state.globalScrollYDirection) {\r\n\t\t\t\t\tcase 'down':\r\n\t\t\t\t\t\tif (this.outerScrollBar.getScrollTop() < this.outerScrollBar.getScrollHeight()) {\r\n\t\t\t\t\t\t\tthis.outerScrollBar.scrollTop(this.outerScrollBar.getScrollTop() + (this.props.scrollYSpeed ? this.props.scrollYSpeed : 10));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'up':\r\n\t\t\t\t\t\tif (this.outerScrollBar.getScrollTop() > 0) {\r\n\t\t\t\t\t\t\tthis.outerScrollBar.scrollTop(this.outerScrollBar.getScrollTop() - (this.props.scrollYSpeed ? this.props.scrollYSpeed : 10));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tswitch (this.state.globalScrollXDirection) {\r\n\t\t\t\t\tcase 'right':\r\n\t\t\t\t\t\tif (this.outerScrollBar.getScrollLeft() < this.outerScrollBar.getScrollWidth()) {\r\n\t\t\t\t\t\t\tthis.outerScrollBar.scrollLeft(this.outerScrollBar.getScrollLeft() + (this.props.scrollXSpeed ? this.props.scrollXSpeed : 10));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'left':\r\n\t\t\t\t\t\tif (this.outerScrollBar.getScrollLeft() > 0) {\r\n\t\t\t\t\t\t\tthis.outerScrollBar.scrollLeft(this.outerScrollBar.getScrollLeft() - (this.props.scrollXSpeed ? this.props.scrollXSpeed : 10));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\trequestAnimationFrame(() => this.autoScroll(x, y));\r\n\t\t\t} else if (this.state.droppableActive && this.state.shouldScrollY) {\r\n\t\t\t\tif (this.state.increaseYScroll) {\r\n\t\t\t\t\tdispatch(this.state.dragAndDropGroup.scrollEvent, this.state.droppableActive, 15);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdispatch(this.state.dragAndDropGroup.scrollEvent, this.state.droppableActive, -15);\r\n\t\t\t\t}\r\n\t\t\t\trequestAnimationFrame(() => this.autoScroll(x, y));\r\n\t\t\t} else {\r\n\t\t\t\tthis.frame = null;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.frame = null;\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\thandleScroll(e) {\r\n\t\tif (this.props.onScroll) {\r\n\t\t\tconst scrollOffsetY = this.outerScrollBar ? this.outerScrollBar.getScrollTop() : 0;\r\n\t\t\tconst scrollOffsetX = this.outerScrollBar ? this.outerScrollBar.getScrollLeft() : 0;\r\n\t\t\tthis.props.onScroll({scrollX: scrollOffsetX, scrollY: scrollOffsetY});\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn this.props.outerScrollBar ? (\r\n\t\t\t<div ref={div => (this.container = div)} className={'drag-drop-context'} style={{display: 'flex', flexDirection: 'column'}}>\r\n\t\t\t\t<Scrollbars\r\n\t\t\t\t\tonScroll={this.handleScroll.bind(this)}\r\n\t\t\t\t\tref={scrollDiv => (this.outerScrollBar = scrollDiv)}\r\n\t\t\t\t\tautoHeight={true}\r\n\t\t\t\t\tautoHeightMin={this.props.scrollContainerMinHeight != null ? this.props.scrollContainerMinHeight : 1}\r\n\t\t\t\t\tautoHeightMax={this.props.scrollContainerHeight}\r\n\t\t\t\t\t{...this.props.scrollProps}\r\n\t\t\t\t>\r\n\t\t\t\t\t{this.props.children}\r\n\t\t\t\t</Scrollbars>\r\n\t\t\t</div>\r\n\t\t) : (\r\n\t\t\t<div ref={div => (this.container = div)} className={'drag-drop-context'}>\r\n\t\t\t\t{this.props.children}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nexport default DragDropContext;\r\n","import React, {Component} from 'react';\r\nimport {dispatch, subscribe, unsubscribe} from '../util/event_manager';\r\nimport {Scrollbars} from 'react-custom-scrollbars';\r\nimport Util from './../util/util';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass DragScrollBar extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tplaceholder: null,\r\n\t\t\tdragStarted: false,\r\n\t\t\tdragActive: false,\r\n\t\t\tdraggedElem: null,\r\n\t\t\tdroppableActive: null,\r\n\t\t\ttargetSection: null,\r\n\t\t\tdragAndDropGroup: Util.getDragEvents(this.props.dragAndDropGroup)\r\n\t\t};\r\n\t\tthis.onDragMove = this.onDragMove.bind(this);\r\n\t\tthis.onDragStart = this.onDragStart.bind(this);\r\n\t\tthis.onDragEnd = this.onDragEnd.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tsubscribe(this.state.dragAndDropGroup.startEvent, this.onDragStart);\r\n\t\tsubscribe(this.state.dragAndDropGroup.endEvent, this.onDragEnd);\r\n\t\tsubscribe(this.state.dragAndDropGroup.moveEvent, this.onDragMove);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tunsubscribe(this.state.dragAndDropGroup.startEvent, this.onDragStart);\r\n\t\tunsubscribe(this.state.dragAndDropGroup.endEvent, this.onDragEnd);\r\n\t\tunsubscribe(this.state.dragAndDropGroup.moveEvent, this.onDragMove);\r\n\t}\r\n\r\n\tonDragEnd() {\r\n\t\t// Todo, performance\r\n\t\tthis.setState({\r\n\t\t\tdraggedElem: null,\r\n\t\t\tdragActive: false,\r\n\t\t\tdroppableActive: null,\r\n\t\t\tdragStarted: false,\r\n\t\t\tglobalScroll: null,\r\n\t\t\tglobalScrollXDirection: null,\r\n\t\t\tglobalScrollYDirection: null\r\n\t\t});\r\n\t}\r\n\r\n\tonDragStart(draggable, x, y) {\r\n\t\tif (!this.state.dragActive) {\r\n\t\t\tthis.setState({dragActive: true, draggedElem: draggable});\r\n\t\t}\r\n\t\tif (this.props.onDragStart) {\r\n\t\t\tthis.props.onDragStart(draggable, x, y);\r\n\t\t}\r\n\t}\r\n\r\n\t// Check if global scroll is at appropriate edge already\r\n\tgetCanScrollDirection(dir) {\r\n\t\tif (!this.outerScrollBar) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst containerHeight = this.container ? this.container.clientHeight : this.props.maxHeight ? this.props.maxHeight : window.innerHeight;\r\n\t\tconst scrollHeight = this.outerScrollBar.getScrollHeight();\r\n\t\tswitch (dir) {\r\n\t\t\tcase 'down':\r\n\t\t\t\treturn scrollHeight > this.props.maxHeight && this.outerScrollBar.getScrollTop() < scrollHeight - containerHeight;\r\n\t\t\tcase 'up':\r\n\t\t\t\treturn scrollHeight > this.props.maxHeight && this.outerScrollBar.getScrollTop() > 0;\r\n\t\t\tcase 'left':\r\n\t\t\t\treturn this.outerScrollBar.getScrollLeft() > 0;\r\n\t\t\tcase 'right':\r\n\t\t\t\treturn this.outerScrollBar.getScrollLeft() < this.outerScrollBar.getScrollWidth() - window.innerWidth;\r\n\t\t}\r\n\t}\r\n\r\n\t// When a card is moved, check for autoScroll\r\n\tonMoveScroll(x, y, droppable) {\r\n\t\t//var h = this.container.getBoundingClientRect().bottom - this.container.getBoundingClientRect().top;\r\n\t\t// Scroll when within 60px of edge\r\n\t\tconst shouldScroll = this.state.dragActive && this.state.draggedElem;\r\n\t\tif (shouldScroll) {\r\n\t\t\tconst scrollThreshold = this.props.autoScrollThreshold || 60;\r\n\t\t\tconst scrollContainerPos = this.container.getBoundingClientRect();\r\n\r\n\t\t\tconst isNearPageLeft = Math.abs(x - scrollContainerPos.left) <= scrollThreshold;\r\n\t\t\tconst isNearPageRight = Math.abs(x - scrollContainerPos.right) <= scrollThreshold;\r\n\t\t\tconst isNearPageTop = Math.abs(y - scrollContainerPos.top) <= scrollThreshold;\r\n\t\t\tconst isNearPageBottom = Math.abs(y - scrollContainerPos.bottom) <= scrollThreshold;\r\n\r\n\t\t\tconst shouldScrollGlobally = isNearPageBottom || isNearPageTop || isNearPageLeft || isNearPageRight;\r\n\t\t\tconst canScrollGlobally = this.getCanScrollDirection(isNearPageBottom ? 'down' : isNearPageTop ? 'up' : isNearPageLeft ? 'left' : isNearPageRight ? 'right' : '');\r\n\t\t\t// BEGIN GLOBAL SCROLLING //\r\n\t\t\tif (shouldScrollGlobally && canScrollGlobally) {\r\n\t\t\t\tif (this.outerScrollBar) {\r\n\t\t\t\t\tif (isNearPageRight) {\r\n\t\t\t\t\t\t// Scroll right\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tglobalScroll: true,\r\n\t\t\t\t\t\t\tglobalScrollXDirection: 'right'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (isNearPageLeft) {\r\n\t\t\t\t\t\t// Scroll left\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tglobalScroll: true,\r\n\t\t\t\t\t\t\tglobalScrollXDirection: 'left'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tglobalScrollXDirection: null\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (isNearPageBottom) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tglobalScroll: true,\r\n\t\t\t\t\t\t\tglobalScrollYDirection: 'down'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// can only scroll down if the current scroll is less than height\r\n\t\t\t\t\t} else if (isNearPageTop) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tglobalScroll: true,\r\n\t\t\t\t\t\t\tglobalScrollYDirection: 'up'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// can only scroll up if current scroll is larger than 0\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setState({globalScrollYDirection: null});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!this.frame && shouldScroll) {\r\n\t\t\t\t\t\tthis.frame = requestAnimationFrame(() => this.autoScroll(x, y));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// END GLOBAL SCROLLING //\r\n\t\t\t} else if (droppable) {\r\n\t\t\t\t// Clear global scroll\r\n\t\t\t\tthis.setState({globalScroll: null});\r\n\t\t\t\tconst containerBoundaries = {\r\n\t\t\t\t\tleft: droppable.getBoundingClientRect().left,\r\n\t\t\t\t\tright: droppable.getBoundingClientRect().right,\r\n\t\t\t\t\ttop: droppable.getBoundingClientRect().top,\r\n\t\t\t\t\tbottom: droppable.getBoundingClientRect().bottom\r\n\t\t\t\t};\r\n\r\n\t\t\t\tconst isNearYBottom = containerBoundaries.bottom - y <= scrollThreshold;\r\n\t\t\t\tconst isNearYTop = y - containerBoundaries.top <= scrollThreshold;\r\n\r\n\t\t\t\tif (isNearYBottom) {\r\n\t\t\t\t\t//Scroll down the page, increase y values\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tshouldScrollY: true,\r\n\t\t\t\t\t\tincreaseYScroll: true\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (isNearYTop) {\r\n\t\t\t\t\t//Scroll up\r\n\t\t\t\t\tthis.setState({shouldScrollY: true, increaseYScroll: false});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({shouldScrollY: false});\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.frame && shouldScroll) {\r\n\t\t\t\t\tthis.frame = requestAnimationFrame(() => this.autoScroll(x, y));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.frame = null;\r\n\t\t\tif (this.state.globalScroll) {\r\n\t\t\t\tthis.setState({globalScroll: false});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonDragMove(draggable, droppable, draggableHoveredOverId, x, y, sectionId) {\r\n\t\tif (draggable && droppable) {\r\n\t\t\tconst shouldUpdateDraggable = this.state.draggedElem != null ? this.state.draggedElem.id !== draggable.id : draggable != null;\r\n\t\t\tconst shouldUpdateDroppable = this.state.droppableActive != null ? this.state.droppableActive !== droppable : droppable != null;\r\n\t\t\tconst shouldUpdatePlaceholder = this.state.placeholder != null ? this.state.placeholder !== draggableHoveredOverId : draggableHoveredOverId != null;\r\n\t\t\tconst shouldUpdateSectionId = this.state.targetSection != null ? this.state.targetSection !== sectionId : sectionId != null;\r\n\t\t\tconst mutationObject = {};\r\n\t\t\tlet shouldUpdate = false;\r\n\t\t\t// Update if field is currently not set, and it is in nextstate, or if the two IDs differ.\r\n\t\t\tif (shouldUpdateDraggable) {\r\n\t\t\t\tmutationObject.draggedElem = draggable;\r\n\t\t\t\tshouldUpdate = true;\r\n\t\t\t}\r\n\t\t\tif (shouldUpdateDroppable) {\r\n\t\t\t\tmutationObject.droppableActive = droppable.getAttribute('droppableid');\r\n\t\t\t\tshouldUpdate = true;\r\n\t\t\t}\r\n\t\t\tif (shouldUpdatePlaceholder) {\r\n\t\t\t\tmutationObject.placeholder = draggableHoveredOverId;\r\n\t\t\t\tshouldUpdate = true;\r\n\t\t\t}\r\n\t\t\tif (shouldUpdateSectionId) {\r\n\t\t\t\tmutationObject.targetSection = sectionId;\r\n\t\t\t\tshouldUpdate = true;\r\n\t\t\t}\r\n\t\t\tif (shouldUpdate) {\r\n\t\t\t\tthis.setState(mutationObject);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Register move no matter what (even if draggable/droppably wasnt updated here)\r\n\t\tthis.onMoveScroll(x, y, droppable);\r\n\t}\r\n\r\n\tsideScroll(val) {\r\n\t\tif (this.outerScrollBar) {\r\n\t\t\tthis.outerScrollBar.scrollLeft(val);\r\n\t\t}\r\n\t}\r\n\r\n\tgetSideScroll() {\r\n\t\tif (this.outerScrollBar) {\r\n\t\t\treturn this.outerScrollBar.getScrollLeft();\r\n\t\t}\r\n\t}\r\n\r\n\tautoScroll(x, y) {\r\n\t\tconst shouldScroll = this.state.dragActive && this.state.draggedElem;\r\n\t\tif (shouldScroll) {\r\n\t\t\tif (this.state.globalScroll && (this.state.globalScrollXDirection || this.state.globalScrollYDirection) && this.outerScrollBar) {\r\n\t\t\t\tswitch (this.state.globalScrollYDirection) {\r\n\t\t\t\t\tcase 'down':\r\n\t\t\t\t\t\tif (this.outerScrollBar.getScrollTop() < this.outerScrollBar.getScrollHeight()) {\r\n\t\t\t\t\t\t\tthis.outerScrollBar.scrollTop(this.outerScrollBar.getScrollTop() + (this.props.scrollYSpeed ? this.props.scrollYSpeed : 10));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'up':\r\n\t\t\t\t\t\tif (this.outerScrollBar.getScrollTop() > 0) {\r\n\t\t\t\t\t\t\tthis.outerScrollBar.scrollTop(this.outerScrollBar.getScrollTop() - (this.props.scrollYSpeed ? this.props.scrollYSpeed : 10));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tswitch (this.state.globalScrollXDirection) {\r\n\t\t\t\t\tcase 'right':\r\n\t\t\t\t\t\tif (this.outerScrollBar.getScrollLeft() < this.outerScrollBar.getScrollWidth()) {\r\n\t\t\t\t\t\t\tthis.outerScrollBar.scrollLeft(this.outerScrollBar.getScrollLeft() + (this.props.scrollXSpeed ? this.props.scrollXSpeed : 10));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'left':\r\n\t\t\t\t\t\tif (this.outerScrollBar.getScrollLeft() > 0) {\r\n\t\t\t\t\t\t\tthis.outerScrollBar.scrollLeft(this.outerScrollBar.getScrollLeft() - (this.props.scrollXSpeed ? this.props.scrollXSpeed : 10));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif (shouldScroll) {\r\n\t\t\t\t\trequestAnimationFrame(() => this.autoScroll(x, y));\r\n\t\t\t\t}\r\n\t\t\t} else if (this.state.droppableActive && this.state.shouldScrollY) {\r\n\t\t\t\tif (this.state.increaseYScroll) {\r\n\t\t\t\t\tdispatch(this.state.dragAndDropGroup.scrollEvent, this.state.droppableActive, 15);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdispatch(this.state.dragAndDropGroup.scrollEvent, this.state.droppableActive, -15);\r\n\t\t\t\t}\r\n\t\t\t\tif (shouldScroll) {\r\n\t\t\t\t\trequestAnimationFrame(() => this.autoScroll(x, y));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.frame = null;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.frame = null;\r\n\t\t\tif (this.state.globalScroll || this.state.shouldScrollY) {\r\n\t\t\t\tthis.setState({globalScroll: false, shouldScrollY: false});\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\tgetScrollTop() {\r\n\t\tif (this.outerScrollBar) {\r\n\t\t\treturn this.outerScrollBar.getScrollTop();\r\n\t\t}\r\n\t}\r\n\r\n\tscrollTop(val) {\r\n\t\tif (this.outerScrollBar) {\r\n\t\t\tthis.outerScrollBar.scrollTop(val);\r\n\t\t}\r\n\t}\r\n\r\n\tgetScrollHeight() {\r\n\t\tif (this.outerScrollBar) {\r\n\t\t\treturn this.outerScrollBar.getScrollHeight();\r\n\t\t}\r\n\t}\r\n\r\n\thandleScroll(e) {\r\n\t\tconst scrollOffsetY = this.outerScrollBar ? this.outerScrollBar.getScrollTop() : 0;\r\n\t\tconst scrollOffsetX = this.outerScrollBar ? this.outerScrollBar.getScrollLeft() : 0;\r\n\t\tif (this.props.onScroll) {\r\n\t\t\tthis.props.onScroll({scrollX: scrollOffsetX, scrollY: scrollOffsetY});\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {customScrollbars, children} = this.props;\r\n\t\tconst UseScrollbars = customScrollbars || Scrollbars;\r\n\t\treturn (\r\n\t\t\t<div ref={div => (this.container = div)} className={'drag-drop-context'} style={{display: 'flex', flexDirection: 'column'}}>\r\n\t\t\t\t<UseScrollbars\r\n\t\t\t\t\tonScroll={this.handleScroll.bind(this)}\r\n\t\t\t\t\tref={scrollDiv => (this.outerScrollBar = scrollDiv)}\r\n\t\t\t\t\tautoHeight={true}\r\n\t\t\t\t\tautoHeightMin={this.props.minHeight != null ? this.props.minHeight : 1}\r\n\t\t\t\t\tautoHeightMax={this.props.maxHeight != null ? this.props.maxHeight : window.innerHeight}\r\n\t\t\t\t\t{...this.props.scrollProps}\r\n\t\t\t\t>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</UseScrollbars>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nDragScrollBar.propTypes = {\r\n\tdragAndDropGroup: PropTypes.string.isRequired,\r\n\tonScroll: PropTypes.func,\r\n\tautoScrollThreshold: PropTypes.number,\r\n\ttagName: PropTypes.string\r\n};\r\nexport default DragScrollBar;\r\n","import React, {Component} from 'react';\r\nimport Droppable from '../components/droppable';\r\nimport Draggable from '../components/draggable';\r\nimport DragDropContext from '../components/drag_drop_context';\r\n\r\nclass ExampleBoard extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tlistData: [],\r\n\t\t\tnumItems: 100,\r\n\t\t\tnumColumns: 6\r\n\t\t};\r\n\t\tthis.dragAndDropGroupName = 'exampleboard';\r\n\t\tthis.droppables = [];\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getListData();\r\n\t}\r\n\r\n\tgetListData() {\r\n\t\tconst numLists = this.state.numColumns;\r\n\t\tconst newItemLists = [];\r\n\t\tfor (let i = 0; i < numLists; i++) {\r\n\t\t\tnewItemLists.push(this.generateTestList(i, this.state.numItems));\r\n\t\t}\r\n\t\tthis.setState({listData: newItemLists});\r\n\t}\r\n\r\n\tgenerateTestList(num, numItems) {\r\n\t\tlet entry = {name: 'droppable' + num + 'Items', items: [], index: num};\r\n\t\tfor (let i = 0; i < numItems; i++) {\r\n\t\t\tentry.items.push({id: num + '-' + i, name: 'Item ' + num + '-' + i});\r\n\t\t}\r\n\t\treturn entry;\r\n\t}\r\n\r\n\tgetElemsToRender(list) {\r\n\t\tlet dataToRender = [];\r\n\r\n\t\tlist.forEach((entry, index) => {\r\n\t\t\tconst list = [];\r\n\t\t\tentry.items.forEach(item => {\r\n\t\t\t\tlist.push(\r\n\t\t\t\t\t<Draggable dragAndDropGroup={this.dragAndDropGroupName} draggableId={item.id} dragDisabled={false} key={item.id}>\r\n\t\t\t\t\t\t<div onClick={() => alert('A click is not a drag')} className={'draggable-test'} style={{border: 'solid 1px black', height: '48px', backgroundColor: 'white', flexGrow: 1}}>\r\n\t\t\t\t\t\t\t<p style={{marginLeft: '5px'}} className={'item-name'}>\r\n\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Draggable>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tdataToRender.push({droppableId: 'droppable' + index, items: list});\r\n\t\t});\r\n\t\treturn dataToRender;\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevState.numItems !== this.state.numItems || prevState.numColumns !== this.state.numColumns) {\r\n\t\t\tthis.getListData();\r\n\t\t}\r\n\t}\r\n\r\n\thandleInputChange(e) {\r\n\t\tif (Number(e.target.value) > 5000) {\r\n\t\t\talert('Please, calm down.');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (e.target.value !== this.state.numItems && e.target.value) {\r\n\t\t\tthis.setState({numItems: Number(e.target.value)});\r\n\t\t}\r\n\t}\r\n\r\n\thandleColumnInputChange(e) {\r\n\t\tif (Number(e.target.value) > 100) {\r\n\t\t\talert('Please, calm down.');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (e.target.value !== this.state.numColumns && e.target.value) {\r\n\t\t\tthis.setState({numColumns: Number(e.target.value)});\r\n\t\t}\r\n\t}\r\n\r\n\tscroll(ref) {\r\n\t\tif (ref) {\r\n\t\t\tref.animateScrollTop(ref.getScrollTop() + 200);\r\n\t\t}\r\n\t}\r\n\r\n\tsideScroll(val) {\r\n\t\tthis.dragDropContext.sideScroll(this.dragDropContext.getSideScroll() + val);\r\n\t}\r\n\r\n\tonDragEnd(source, destinationId, placeholderId) {\r\n\t\tconst listToRemoveFrom = this.state.listData.find(list => list.name.includes(source.droppableId));\r\n\t\tconst listToAddTo = this.state.listData.find(list => list.name.includes(destinationId));\r\n\t\tconst elemToAdd = listToRemoveFrom.items.find(entry => entry.id === source.draggableId);\r\n\t\tlet indexToRemove = listToRemoveFrom.items.findIndex(item => item.id === source.draggableId);\r\n\t\tlet indexToInsert = placeholderId === 'END_OF_LIST' ? listToAddTo.items.length : placeholderId.includes('header') ? 0 : listToAddTo.items.findIndex(item => item.id === placeholderId);\r\n\t\t// Re-arrange within the same list\r\n\t\tif (listToRemoveFrom.name === listToAddTo.name) {\r\n\t\t\tif (indexToRemove === indexToInsert) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// If we're moving an element below the insertion point, indexes will change.\r\n\t\t\tconst direction = indexToRemove < indexToInsert ? 1 : 0;\r\n\t\t\tlistToRemoveFrom.items.splice(indexToRemove, 1);\r\n\t\t\tlistToAddTo.items.splice(indexToInsert - direction, 0, elemToAdd);\r\n\t\t} else {\r\n\t\t\tlistToRemoveFrom.items.splice(indexToRemove, 1);\r\n\t\t\tlistToAddTo.items.splice(indexToInsert, 0, elemToAdd);\r\n\t\t}\r\n\r\n\t\tconst newData = this.state.listData;\r\n\t\tnewData[listToRemoveFrom.index] = listToRemoveFrom;\r\n\t\tnewData[listToAddTo.index] = listToAddTo;\r\n\t\tthis.setState({testData: newData});\r\n\t}\r\n\r\n\ttoggleSplit() {\r\n\t\tthis.setState(prevState => {\r\n\t\t\treturn {split: !prevState.split};\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst elemsToRender = this.getElemsToRender(this.state.listData);\r\n\t\tconst getListHeader = index => (\r\n\t\t\t<div className={'list-header'} style={{height: 60}}>\r\n\t\t\t\t<div className={'list-header-text'}>List {index}</div>\r\n\t\t\t\t<button className={'scroll-button'} onClick={() => this.scroll(this.droppables[index])}>\r\n\t\t\t\t\tScroll\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"example-board\">\r\n\t\t\t\t<DragDropContext\r\n\t\t\t\t\tref={div => (this.dragDropContext = div)}\r\n\t\t\t\t\t// 10px margin around page\r\n\t\t\t\t\tscrollContainerHeight={window.innerHeight - 10}\r\n\t\t\t\t\tdragAndDropGroup={this.dragAndDropGroupName}\r\n\t\t\t\t\tonDragEnd={this.onDragEnd.bind(this)}\r\n\t\t\t\t\touterScrollBar={true}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className={'title-and-controls'}>\r\n\t\t\t\t\t\t<div className={'title'}>\r\n\t\t\t\t\t\t\t<h1>Example Board</h1>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={'controls'}>\r\n\t\t\t\t\t\t\t<div title={'Sidescroll Backwards'} className={'backwards'} onClick={this.sideScroll.bind(this, -50)} />\r\n\t\t\t\t\t\t\t<div itle={'Sidescroll Forwards'} className={'forwards'} onClick={this.sideScroll.bind(this, 50)} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={'row-splitter'}>\r\n\t\t\t\t\t\t\t<button className={'row-split-button first-button' + (!this.state.split ? ' active' : '')} onClick={this.toggleSplit.bind(this)}>\r\n\t\t\t\t\t\t\t\tSingle Row\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className={'row-split-button second-button' + (this.state.split ? ' active' : '')} onClick={this.toggleSplit.bind(this)}>\r\n\t\t\t\t\t\t\t\tMulti Row\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={'input-section'}>\r\n\t\t\t\t\t\t<p>Items per column</p>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tstyle={{marginLeft: 20, marginTop: 8, marginBottom: 8, padding: 2}}\r\n\t\t\t\t\t\t\tplaceholder={100}\r\n\t\t\t\t\t\t\tonKeyDown={e => (e.key === 'Enter' ? this.handleInputChange(e) : void 0)}\r\n\t\t\t\t\t\t\tonBlur={this.handleInputChange.bind(this)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={'input-section'}>\r\n\t\t\t\t\t\t<p>Number of columns</p>\r\n\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tstyle={{marginLeft: 20, marginTop: 8, marginBottom: 8, padding: 2}}\r\n\t\t\t\t\t\t\tplaceholder={6}\r\n\t\t\t\t\t\t\tonKeyDown={e => (e.key === 'Enter' ? this.handleColumnInputChange(e) : void 0)}\r\n\t\t\t\t\t\t\tonBlur={this.handleColumnInputChange.bind(this)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={'test-container'} style={{display: 'flex', flexDirection: 'row', position: 'relative'}}>\r\n\t\t\t\t\t\t{elemsToRender.map((elem, index) =>\r\n\t\t\t\t\t\t\t!this.state.split || index < elemsToRender.length / 2 ? (\r\n\t\t\t\t\t\t\t\t<div className={'sizer'} style={{flexGrow: 1, minWidth: 350}} key={index + elem.droppableId}>\r\n\t\t\t\t\t\t\t\t\t<Droppable\r\n\t\t\t\t\t\t\t\t\t\t//enforceContainerMinHeight={true}\r\n\t\t\t\t\t\t\t\t\t\tactiveHeaderClass={'header-active'}\r\n\t\t\t\t\t\t\t\t\t\tlistHeader={getListHeader(index)}\r\n\t\t\t\t\t\t\t\t\t\tlistHeaderHeight={60}\r\n\t\t\t\t\t\t\t\t\t\tref={div => this.droppables.push(div)}\r\n\t\t\t\t\t\t\t\t\t\tcontainerHeight={620}\r\n\t\t\t\t\t\t\t\t\t\telemHeight={50}\r\n\t\t\t\t\t\t\t\t\t\tdragAndDropGroup={this.dragAndDropGroupName}\r\n\t\t\t\t\t\t\t\t\t\tdroppableId={elem.droppableId}\r\n\t\t\t\t\t\t\t\t\t\tkey={elem.droppableId}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{elem.items}\r\n\t\t\t\t\t\t\t\t\t</Droppable>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.split ? (\r\n\t\t\t\t\t\t<div className={'test-container'} style={{display: 'flex', flexDirection: 'row', position: 'relative'}}>\r\n\t\t\t\t\t\t\t{elemsToRender.map((elem, index) =>\r\n\t\t\t\t\t\t\t\tindex >= elemsToRender.length / 2 ? (\r\n\t\t\t\t\t\t\t\t\t<div className={'sizer'} style={{flexGrow: 1, minWidth: 350}} key={index + elem.droppableId}>\r\n\t\t\t\t\t\t\t\t\t\t<Droppable\r\n\t\t\t\t\t\t\t\t\t\t\tactiveHeaderClass={'header-active'}\r\n\t\t\t\t\t\t\t\t\t\t\tlistHeader={getListHeader(index)}\r\n\t\t\t\t\t\t\t\t\t\t\tlistHeaderHeight={60}\r\n\t\t\t\t\t\t\t\t\t\t\tref={div => this.droppables.push(div)}\r\n\t\t\t\t\t\t\t\t\t\t\tcontainerHeight={500}\r\n\t\t\t\t\t\t\t\t\t\t\tdragAndDropGroup={this.dragAndDropGroupName}\r\n\t\t\t\t\t\t\t\t\t\t\tdroppableId={elem.droppableId}\r\n\t\t\t\t\t\t\t\t\t\t\tkey={elem.droppableId}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{elem.items}\r\n\t\t\t\t\t\t\t\t\t\t</Droppable>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</DragDropContext>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nExampleBoard.propTypes = {};\r\nexport default ExampleBoard;\r\n","import React, {Component} from 'react';\r\nimport Droppable from '../components/droppable';\r\nimport Draggable from '../components/draggable';\r\nimport DragDropContext from '../components/drag_drop_context';\r\n\r\nclass DynamicHeightExample extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tlistData: [],\r\n\t\t\tnumItems: 50,\r\n\t\t\tnumColumns: 6,\r\n\t\t\tshowIndicators: false,\r\n\t\t\tuseSections: false,\r\n\t\t\tlazyLoad: false\r\n\t\t};\r\n\t\tthis.dragAndDropGroupName = 'exampleboard';\r\n\t\tthis.droppables = [];\r\n\t\tthis.TEST_ENV = window.location.href.includes('localhost');\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getListData();\r\n\t}\r\n\r\n\taddMoreElements(e) {\r\n\t\tif (this.state.lazyLoad && e.scrollHeight - e.scrollTop < e.clientHeight + 1000) {\r\n\t\t\tthis.setState({numItems: 100});\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleIndicators() {\r\n\t\tthis.setState(prevState => {\r\n\t\t\treturn {showIndicators: !prevState.showIndicators};\r\n\t\t});\r\n\t}\r\n\r\n\ttoggleUseSections() {\r\n\t\tthis.setState(prevState => {\r\n\t\t\treturn {useSections: !prevState.useSections};\r\n\t\t});\r\n\t}\r\n\r\n\tgetListData() {\r\n\t\tconst numLists = this.state.numColumns;\r\n\t\tconst newItemLists = [];\r\n\t\tfor (let i = 0; i < numLists; i++) {\r\n\t\t\tnewItemLists.push(this.generateTestList(i, this.state.numItems));\r\n\t\t}\r\n\t\tthis.setState({listData: newItemLists});\r\n\t}\r\n\r\n\tgenerateTestList(num, numItems) {\r\n\t\tlet entry = {name: 'droppable' + num + 'Items', items: [], index: num};\r\n\t\tconst randomSize = () => 50 + Math.floor(Math.random() * Math.floor(250));\r\n\t\tconst pseudoRandomSize = i =>\r\n\t\t\t50 + (((i + 1) * (num + 1)) % 5 === 0 ? 200 : ((i + 1) * (num + 1)) % 4 === 0 ? 150 : ((i + 1) * (num + 1)) % 3 === 0 ? 100 : ((i + 1) * (num + 1)) % 2 === 0 ? 50 : 0);\r\n\t\tlet sectionId = 0;\r\n\t\tfor (let i = 0; i < numItems; i++) {\r\n\t\t\tif (i % 3 === 0) {\r\n\t\t\t\tsectionId = i;\r\n\t\t\t}\r\n\t\t\tentry.items.push({id: num + '-' + i, name: 'Item ' + num + '-' + i, height: this.state.lazyLoad ? pseudoRandomSize(i) : randomSize(), sectionId: 'Person ' + sectionId / 3});\r\n\t\t}\r\n\t\treturn entry;\r\n\t}\r\n\r\n\tgetElemsToRender(list) {\r\n\t\tlet dataToRender = [];\r\n\t\tconst seenSections = [];\r\n\t\tlist.forEach((entry, index) => {\r\n\t\t\tconst list = [];\r\n\t\t\tentry.items.forEach((item, idx) => {\r\n\t\t\t\tif (this.state.useSections && !seenSections.includes(entry.index + '-' + item.sectionId)) {\r\n\t\t\t\t\tlist.push(\r\n\t\t\t\t\t\t<Draggable\r\n\t\t\t\t\t\t\tsectionId={item.sectionId}\r\n\t\t\t\t\t\t\tignorePlaceHolder={index === 0}\r\n\t\t\t\t\t\t\tdraggableId={item.sectionId}\r\n\t\t\t\t\t\t\tdragAndDropGroup={this.dragAndDropGroupName}\r\n\t\t\t\t\t\t\tisSectionHeader={true}\r\n\t\t\t\t\t\t\tdisableMove={idx === 0}\r\n\t\t\t\t\t\t\tkey={item.sectionId + '#' + item.id}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className={'draggable-test section'} style={{height: 50, outline: 'none', backgroundColor: '#dbdbdb', flexGrow: 1}}>\r\n\t\t\t\t\t\t\t\t<div style={{marginLeft: '5px', paddingTop: '8px'}} className={'item-name row'}>\r\n\t\t\t\t\t\t\t\t\t<div className={'person-image'} />\r\n\t\t\t\t\t\t\t\t\t{item.sectionId}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Draggable>\r\n\t\t\t\t\t);\r\n\t\t\t\t\tseenSections.push(entry.index + '-' + item.sectionId);\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(\r\n\t\t\t\t\t<Draggable sectionId={item.sectionId} dragAndDropGroup={this.dragAndDropGroupName} draggableId={item.id} dragDisabled={false} key={item.id}>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={() => alert('A click is not a drag')}\r\n\t\t\t\t\t\t\tclassName={'draggable-test' + (this.state.recentlyMovedItem === item.id ? ' dropGlow' : '')}\r\n\t\t\t\t\t\t\tstyle={{border: 'solid 1px black', height: item.height, backgroundColor: 'white', flexGrow: 1, marginBottom: '2.5px', marginTop: '2.5px'}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<p style={{marginLeft: '5px'}} className={'item-name'}>\r\n\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Draggable>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tdataToRender.push({droppableId: 'droppable' + index, items: list});\r\n\t\t});\r\n\t\treturn dataToRender;\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevState.numItems !== this.state.numItems || prevState.numColumns !== this.state.numColumns || prevState.lazyLoad !== this.state.lazyLoad) {\r\n\t\t\tthis.getListData();\r\n\t\t}\r\n\t}\r\n\r\n\thandleInputChange(e) {\r\n\t\tif (Number(e.target.value) > 5000) {\r\n\t\t\talert('Please, calm down.');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.setState({numItems: Number(e.target.value)});\r\n\t}\r\n\r\n\thandleColumnInputChange(e) {\r\n\t\tif (Number(e.target.value) > 100) {\r\n\t\t\talert('Please, calm down.');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.setState({numColumns: Number(e.target.value)});\r\n\t}\r\n\r\n\thandleLazyLoadChange(e) {\r\n\t\tthis.setState({lazyLoad: !this.state.lazyLoad});\r\n\t}\r\n\r\n\tscroll(ref) {\r\n\t\tif (ref) {\r\n\t\t\tref.animateScrollTop(ref.getScrollTop() + 200);\r\n\t\t}\r\n\t}\r\n\r\n\tsideScroll(val) {\r\n\t\tthis.dragDropContext.sideScroll(this.dragDropContext.getSideScroll() + val);\r\n\t}\r\n\r\n\tonDragCancel() {\r\n\t\tthis.setState({recentlyMovedItem: null});\r\n\t}\r\n\r\n\tonDragEnd(source, destinationId, placeholderId, sectionId) {\r\n\t\tconst listToRemoveFrom = this.state.listData.find(list => list.name.includes(source.droppableId));\r\n\t\tconst listToAddTo = this.state.listData.find(list => list.name.includes(destinationId));\r\n\t\tconst elemToAdd = listToRemoveFrom.items.find(entry => entry.id === source.draggableId);\r\n\t\tlet indexToRemove = listToRemoveFrom.items.findIndex(item => item.id === source.draggableId);\r\n\t\tlet indexToInsert =\r\n\t\t\tplaceholderId != null\r\n\t\t\t\t? placeholderId === 'END_OF_LIST'\r\n\t\t\t\t\t? listToAddTo.items.length\r\n\t\t\t\t\t: placeholderId.includes('header')\r\n\t\t\t\t\t? 0\r\n\t\t\t\t\t: listToAddTo.items.findIndex(item => item.id === placeholderId)\r\n\t\t\t\t: sectionId != null\r\n\t\t\t\t? listToAddTo.items.findIndex(item => item.sectionId === sectionId) // Add at the first occurence of the section when dropping on top of a section\r\n\t\t\t\t: -1;\r\n\t\tconst targetElem = listToAddTo.items[indexToInsert - 1];\r\n\t\tconst isSameSection = targetElem && targetElem.sectionId && source.sectionId && targetElem.sectionId === source.sectionId;\r\n\t\tif (!isSameSection) {\r\n\t\t\t//indexToInsert += 1; // move into next section //TODO NOPE\r\n\t\t}\r\n\t\t// Re-arrange within the same list\r\n\t\tif (listToRemoveFrom.name === listToAddTo.name) {\r\n\t\t\tif (indexToRemove === indexToInsert) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// If we're moving an element below the insertion point, indexes will change.\r\n\t\t\tconst direction = indexToRemove < indexToInsert ? 1 : 0;\r\n\t\t\tlistToRemoveFrom.items.splice(indexToRemove, 1);\r\n\t\t\tlistToAddTo.items.splice(indexToInsert - direction, 0, elemToAdd);\r\n\t\t} else {\r\n\t\t\tlistToRemoveFrom.items.splice(indexToRemove, 1);\r\n\t\t\tlistToAddTo.items.splice(indexToInsert, 0, elemToAdd);\r\n\t\t}\r\n\r\n\t\tconst newData = this.state.listData;\r\n\t\tnewData[listToRemoveFrom.index] = listToRemoveFrom;\r\n\t\tnewData[listToAddTo.index] = listToAddTo;\r\n\t\tthis.setState({testData: newData, recentlyMovedItem: source.draggableId});\r\n\t}\r\n\r\n\ttoggleSplit() {\r\n\t\tthis.setState(prevState => {\r\n\t\t\treturn {split: !prevState.split};\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst elemsToRender = this.getElemsToRender(this.state.listData);\r\n\t\tconst getListHeader = index => (\r\n\t\t\t<div className={'list-header'} style={{height: 60}}>\r\n\t\t\t\t<div className={'list-header-text'}>List {index}</div>\r\n\t\t\t\t<button className={'scroll-button'} onClick={() => this.scroll(this.droppables[index])}>\r\n\t\t\t\t\tScroll\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\tconst scrollProps = {\r\n\t\t\tautoHide: true,\r\n\t\t\thideTracksWhenNotNeeded: true\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"example-board\">\r\n\t\t\t\t<DragDropContext\r\n\t\t\t\t\tref={div => (this.dragDropContext = div)}\r\n\t\t\t\t\t// 10px margin around page\r\n\t\t\t\t\tscrollContainerHeight={window.innerHeight - 10}\r\n\t\t\t\t\tdragAndDropGroup={this.dragAndDropGroupName}\r\n\t\t\t\t\tonDragEnd={this.onDragEnd.bind(this)}\r\n\t\t\t\t\tonDragCancel={this.onDragCancel.bind(this)}\r\n\t\t\t\t\touterScrollBar={true}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className={'title-and-controls'}>\r\n\t\t\t\t\t\t<div className={'title'}>\r\n\t\t\t\t\t\t\t<h1>Dynamic Height Example</h1>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={'controls'}>\r\n\t\t\t\t\t\t\t<div title={'Sidescroll Backwards'} className={'backwards'} onClick={this.sideScroll.bind(this, -50)} />\r\n\t\t\t\t\t\t\t<div itle={'Sidescroll Forwards'} className={'forwards'} onClick={this.sideScroll.bind(this, 50)} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={'row-splitter'}>\r\n\t\t\t\t\t\t\t<button className={'row-split-button first-button' + (!this.state.split ? ' active' : '')} onClick={this.toggleSplit.bind(this)}>\r\n\t\t\t\t\t\t\t\tSingle Row\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className={'row-split-button second-button' + (this.state.split ? ' active' : '')} onClick={this.toggleSplit.bind(this)}>\r\n\t\t\t\t\t\t\t\tMulti Row\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className={'indicator-button' + (this.state.showIndicators ? ' active' : '')} onClick={this.toggleIndicators.bind(this)}>\r\n\t\t\t\t\t\t\t\tShow Virtualization Indicators\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t{this.TEST_ENV ? (\r\n\t\t\t\t\t\t\t\t<button className={'indicator-button' + (this.state.useSections ? ' active' : '')} onClick={this.toggleUseSections.bind(this)}>\r\n\t\t\t\t\t\t\t\t\tUse Sections\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={'input-section'}>\r\n\t\t\t\t\t\t<p>Items per column</p>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tstyle={{marginLeft: 20, marginTop: 8, marginBottom: 8, padding: 2}}\r\n\t\t\t\t\t\t\tplaceholder={this.state.numItems}\r\n\t\t\t\t\t\t\tonKeyDown={e => (e.key === 'Enter' ? this.handleInputChange(e) : void 0)}\r\n\t\t\t\t\t\t\tonBlur={this.handleInputChange.bind(this)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={'input-section'}>\r\n\t\t\t\t\t\t<p>Number of columns</p>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tstyle={{marginLeft: 20, marginTop: 8, marginBottom: 8, padding: 2}}\r\n\t\t\t\t\t\t\tplaceholder={this.state.numColumns}\r\n\t\t\t\t\t\t\tonKeyDown={e => (e.key === 'Enter' ? this.handleColumnInputChange(e) : void 0)}\r\n\t\t\t\t\t\t\tonBlur={this.handleColumnInputChange.bind(this)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={'input-section'}>\r\n\t\t\t\t\t\t<div>Lazy loading example</div>\r\n\t\t\t\t\t\t<input type={'checkbox'} value={this.state.lazyLoad} onClick={this.handleLazyLoadChange.bind(this)} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={'test-container'} style={{display: 'flex', flexDirection: 'row', position: 'relative'}}>\r\n\t\t\t\t\t\t{elemsToRender.map((elem, index) =>\r\n\t\t\t\t\t\t\t!this.state.split || index < elemsToRender.length / 2 ? (\r\n\t\t\t\t\t\t\t\t<div className={'sizer'} style={{flexGrow: 1, minWidth: 350}} key={index + elem.droppableId}>\r\n\t\t\t\t\t\t\t\t\t<Droppable\r\n\t\t\t\t\t\t\t\t\t\tscrollProps={scrollProps}\r\n\t\t\t\t\t\t\t\t\t\tshowIndicators={this.state.showIndicators}\r\n\t\t\t\t\t\t\t\t\t\tdynamicElemHeight={true}\r\n\t\t\t\t\t\t\t\t\t\tminElemHeight={50}\r\n\t\t\t\t\t\t\t\t\t\tactiveHeaderClass={'header-active'}\r\n\t\t\t\t\t\t\t\t\t\tlistHeader={getListHeader(index)}\r\n\t\t\t\t\t\t\t\t\t\tlistHeaderHeight={60}\r\n\t\t\t\t\t\t\t\t\t\tref={div => this.droppables.push(div)}\r\n\t\t\t\t\t\t\t\t\t\tcontainerHeight={800}\r\n\t\t\t\t\t\t\t\t\t\tdragAndDropGroup={this.dragAndDropGroupName}\r\n\t\t\t\t\t\t\t\t\t\tdroppableId={elem.droppableId}\r\n\t\t\t\t\t\t\t\t\t\tkey={elem.droppableId}\r\n\t\t\t\t\t\t\t\t\t\tonScroll={this.addMoreElements.bind(this)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{elem.items}\r\n\t\t\t\t\t\t\t\t\t</Droppable>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.split ? (\r\n\t\t\t\t\t\t<div className={'test-container'} style={{display: 'flex', flexDirection: 'row', position: 'relative'}}>\r\n\t\t\t\t\t\t\t{elemsToRender.map((elem, index) =>\r\n\t\t\t\t\t\t\t\tindex >= elemsToRender.length / 2 ? (\r\n\t\t\t\t\t\t\t\t\t<div className={'sizer'} style={{flexGrow: 1, minWidth: 350}} key={index + elem.droppableId}>\r\n\t\t\t\t\t\t\t\t\t\t<Droppable\r\n\t\t\t\t\t\t\t\t\t\t\tshowIndicators={this.state.showIndicators}\r\n\t\t\t\t\t\t\t\t\t\t\tdynamicElemHeight={true}\r\n\t\t\t\t\t\t\t\t\t\t\tminElemHeight={50}\r\n\t\t\t\t\t\t\t\t\t\t\tactiveHeaderClass={'header-active'}\r\n\t\t\t\t\t\t\t\t\t\t\tlistHeader={getListHeader(index)}\r\n\t\t\t\t\t\t\t\t\t\t\tlistHeaderHeight={60}\r\n\t\t\t\t\t\t\t\t\t\t\tref={div => this.droppables.push(div)}\r\n\t\t\t\t\t\t\t\t\t\t\tcontainerHeight={620}\r\n\t\t\t\t\t\t\t\t\t\t\tdragAndDropGroup={this.dragAndDropGroupName}\r\n\t\t\t\t\t\t\t\t\t\t\tdroppableId={elem.droppableId}\r\n\t\t\t\t\t\t\t\t\t\t\tkey={elem.droppableId}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{elem.items}\r\n\t\t\t\t\t\t\t\t\t\t</Droppable>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</DragDropContext>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nDynamicHeightExample.propTypes = {};\r\nexport default DynamicHeightExample;\r\n","import React, {Component} from 'react';\r\nimport Droppable from '../components/droppable';\r\nimport Draggable from '../components/draggable';\r\nimport DragDropContext from '../components/drag_drop_context';\r\nimport DragScrollBar from '../components/drag_scroll_bar';\r\n\r\nclass ExampleMultipleDroppables extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tlistData: [],\r\n\t\t\tnumItems: 100,\r\n\t\t\tnumColumns: 6\r\n\t\t};\r\n\t\tthis.dragAndDropGroupName = 'exampleboard';\r\n\t\tthis.droppables = [];\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getListData();\r\n\t}\r\n\r\n\tgetListData() {\r\n\t\tconst numLists = this.state.numColumns;\r\n\t\tconst newItemLists = [];\r\n\t\tfor (let i = 0; i < numLists; i++) {\r\n\t\t\tnewItemLists.push(this.generateTestList(i, this.state.numItems));\r\n\t\t}\r\n\t\tthis.setState({listData: newItemLists});\r\n\t}\r\n\r\n\tgenerateTestList(num, numItems) {\r\n\t\tlet entry = {name: 'droppable' + num + 'Items', items: [], index: num};\r\n\t\tfor (let i = 0; i < numItems; i++) {\r\n\t\t\tentry.items.push({id: num + '-' + i, name: 'Item ' + num + '-' + i});\r\n\t\t}\r\n\t\treturn entry;\r\n\t}\r\n\r\n\tgetElemsToRender(list) {\r\n\t\tlet dataToRender = [];\r\n\r\n\t\tlist.forEach((entry, index) => {\r\n\t\t\tconst list = [];\r\n\t\t\tentry.items.forEach(item => {\r\n\t\t\t\tlist.push(\r\n\t\t\t\t\t<Draggable dragAndDropGroup={this.dragAndDropGroupName} draggableId={item.id} dragDisabled={false} key={item.id}>\r\n\t\t\t\t\t\t<div onClick={() => alert('A click is not a drag')} className={'draggable-test'} style={{border: 'solid 1px black', height: '48px', backgroundColor: 'white', flexGrow: 1}}>\r\n\t\t\t\t\t\t\t<p style={{marginLeft: '5px'}} className={'item-name'}>\r\n\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Draggable>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tdataToRender.push({droppableId: 'droppable' + index, items: list});\r\n\t\t});\r\n\t\treturn dataToRender;\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevState.numItems !== this.state.numItems || prevState.numColumns !== this.state.numColumns) {\r\n\t\t\tthis.getListData();\r\n\t\t}\r\n\t}\r\n\r\n\thandleInputChange(e) {\r\n\t\tif (Number(e.target.value) > 5000) {\r\n\t\t\talert('Please, calm down.');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (e.target.value !== this.state.numItems && e.target.value) {\r\n\t\t\tthis.setState({numItems: Number(e.target.value)});\r\n\t\t}\r\n\t}\r\n\r\n\thandleColumnInputChange(e) {\r\n\t\tif (Number(e.target.value) > 100) {\r\n\t\t\talert('Please, calm down.');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (e.target.value !== this.state.numColumns && e.target.value) {\r\n\t\t\tthis.setState({numColumns: Number(e.target.value)});\r\n\t\t}\r\n\t}\r\n\r\n\tscroll(ref) {\r\n\t\tif (ref) {\r\n\t\t\tref.animateScrollTop(ref.getScrollTop() + 200);\r\n\t\t}\r\n\t}\r\n\r\n\tsideScroll(val) {\r\n\t\tthis.dragDropContext.sideScroll(this.dragDropContext.getSideScroll() + val);\r\n\t}\r\n\r\n\tonDragEnd(source, destinationId, placeholderId) {\r\n\t\tconst listToRemoveFrom = this.state.listData.find(list => list.name.includes(source.droppableId));\r\n\t\tconst listToAddTo = this.state.listData.find(list => list.name.includes(destinationId));\r\n\t\tconst elemToAdd = listToRemoveFrom.items.find(entry => entry.id === source.draggableId);\r\n\t\tlet indexToRemove = listToRemoveFrom.items.findIndex(item => item.id === source.draggableId);\r\n\t\tlet indexToInsert = placeholderId === 'END_OF_LIST' ? listToAddTo.items.length : placeholderId.includes('header') ? 0 : listToAddTo.items.findIndex(item => item.id === placeholderId);\r\n\t\t// Re-arrange within the same list\r\n\t\tif (listToRemoveFrom.name === listToAddTo.name) {\r\n\t\t\tif (indexToRemove === indexToInsert) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// If we're moving an element below the insertion point, indexes will change.\r\n\t\t\tconst direction = indexToRemove < indexToInsert ? 1 : 0;\r\n\t\t\tlistToRemoveFrom.items.splice(indexToRemove, 1);\r\n\t\t\tlistToAddTo.items.splice(indexToInsert - direction, 0, elemToAdd);\r\n\t\t} else {\r\n\t\t\tlistToRemoveFrom.items.splice(indexToRemove, 1);\r\n\t\t\tlistToAddTo.items.splice(indexToInsert, 0, elemToAdd);\r\n\t\t}\r\n\r\n\t\tconst newData = this.state.listData;\r\n\t\tnewData[listToRemoveFrom.index] = listToRemoveFrom;\r\n\t\tnewData[listToAddTo.index] = listToAddTo;\r\n\t\tthis.setState({testData: newData});\r\n\t}\r\n\r\n\ttoggleSplit() {\r\n\t\tthis.setState(prevState => {\r\n\t\t\treturn {split: !prevState.split};\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst elemsToRender = this.getElemsToRender(this.state.listData);\r\n\t\tconst getListHeader = index => (\r\n\t\t\t<div className={'list-header'} style={{height: 60}}>\r\n\t\t\t\t<div className={'list-header-text'}>List {index}</div>\r\n\t\t\t\t<button className={'scroll-button'} onClick={() => this.scroll(this.droppables[index])}>\r\n\t\t\t\t\tScroll\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"example-board\">\r\n\t\t\t\t<DragDropContext\r\n\t\t\t\t\tref={div => (this.dragDropContext = div)}\r\n\t\t\t\t\t// 10px margin around page\r\n\t\t\t\t\tscrollContainerHeight={window.innerHeight - 10}\r\n\t\t\t\t\tdragAndDropGroup={this.dragAndDropGroupName}\r\n\t\t\t\t\tonDragEnd={this.onDragEnd.bind(this)}\r\n\t\t\t\t\touterScrollBar={true}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className={'title-and-controls'}>\r\n\t\t\t\t\t\t<div className={'title'}>\r\n\t\t\t\t\t\t\t<h1>Example Board</h1>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={'controls'}>\r\n\t\t\t\t\t\t\t<div title={'Sidescroll Backwards'} className={'backwards'} onClick={this.sideScroll.bind(this, -50)} />\r\n\t\t\t\t\t\t\t<div itle={'Sidescroll Forwards'} className={'forwards'} onClick={this.sideScroll.bind(this, 50)} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={'input-section'}>\r\n\t\t\t\t\t\t<p>Items per column</p>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tstyle={{marginLeft: 20, marginTop: 8, marginBottom: 8, padding: 2}}\r\n\t\t\t\t\t\t\tplaceholder={100}\r\n\t\t\t\t\t\t\tonKeyDown={e => (e.key === 'Enter' ? this.handleInputChange(e) : void 0)}\r\n\t\t\t\t\t\t\tonBlur={this.handleInputChange.bind(this)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={'input-section'}>\r\n\t\t\t\t\t\t<p>Number of columns</p>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tstyle={{marginLeft: 20, marginTop: 8, marginBottom: 8, padding: 2}}\r\n\t\t\t\t\t\t\tplaceholder={6}\r\n\t\t\t\t\t\t\tonKeyDown={e => (e.key === 'Enter' ? this.handleColumnInputChange(e) : void 0)}\r\n\t\t\t\t\t\t\tonBlur={this.handleColumnInputChange.bind(this)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h1 className={'droppable-section-header'}>Droppable Group 1</h1>\r\n\t\t\t\t\t<div className={'test-container col page-margin with-border'}>\r\n\t\t\t\t\t\t<DragScrollBar maxHeight={500} dragAndDropGroup={this.dragAndDropGroupName}>\r\n\t\t\t\t\t\t\t{elemsToRender.map((elem, index) =>\r\n\t\t\t\t\t\t\t\t!this.state.split || index < elemsToRender.length / 2 ? (\r\n\t\t\t\t\t\t\t\t\t<div className={'sizer with-space'} style={{flexGrow: 1, minWidth: 350}} key={index + elem.droppableId}>\r\n\t\t\t\t\t\t\t\t\t\t<Droppable\r\n\t\t\t\t\t\t\t\t\t\t\t//enforceContainerMinHeight={true}\r\n\t\t\t\t\t\t\t\t\t\t\tactiveHeaderClass={'header-active'}\r\n\t\t\t\t\t\t\t\t\t\t\tlistHeader={getListHeader(index)}\r\n\t\t\t\t\t\t\t\t\t\t\tlistHeaderHeight={60}\r\n\t\t\t\t\t\t\t\t\t\t\tref={div => this.droppables.push(div)}\r\n\t\t\t\t\t\t\t\t\t\t\tcontainerHeight={350}\r\n\t\t\t\t\t\t\t\t\t\t\telemHeight={50}\r\n\t\t\t\t\t\t\t\t\t\t\tdragAndDropGroup={this.dragAndDropGroupName}\r\n\t\t\t\t\t\t\t\t\t\t\tdroppableId={elem.droppableId}\r\n\t\t\t\t\t\t\t\t\t\t\tkey={elem.droppableId}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{elem.items}\r\n\t\t\t\t\t\t\t\t\t\t</Droppable>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</DragScrollBar>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<h1 className={'droppable-section-header top-margin'}>Droppable Group 2</h1>\r\n\t\t\t\t\t<div className={'test-container col page-margin with-border  last'}>\r\n\t\t\t\t\t\t<DragScrollBar maxHeight={500} dragAndDropGroup={this.dragAndDropGroupName}>\r\n\t\t\t\t\t\t\t{elemsToRender.map((elem, index) =>\r\n\t\t\t\t\t\t\t\t!this.state.split || index < elemsToRender.length / 2 ? (\r\n\t\t\t\t\t\t\t\t\t<div className={'sizer with-space'} style={{flexGrow: 1, minWidth: 350}} key={index + elem.droppableId}>\r\n\t\t\t\t\t\t\t\t\t\t<Droppable\r\n\t\t\t\t\t\t\t\t\t\t\t//enforceContainerMinHeight={true}\r\n\t\t\t\t\t\t\t\t\t\t\tactiveHeaderClass={'header-active'}\r\n\t\t\t\t\t\t\t\t\t\t\tlistHeader={getListHeader(index)}\r\n\t\t\t\t\t\t\t\t\t\t\tlistHeaderHeight={60}\r\n\t\t\t\t\t\t\t\t\t\t\tref={div => this.droppables.push(div)}\r\n\t\t\t\t\t\t\t\t\t\t\tcontainerHeight={350}\r\n\t\t\t\t\t\t\t\t\t\t\telemHeight={50}\r\n\t\t\t\t\t\t\t\t\t\t\tdragAndDropGroup={this.dragAndDropGroupName}\r\n\t\t\t\t\t\t\t\t\t\t\tdroppableId={elem.droppableId}\r\n\t\t\t\t\t\t\t\t\t\t\tkey={elem.droppableId}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{elem.items}\r\n\t\t\t\t\t\t\t\t\t\t</Droppable>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</DragScrollBar>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</DragDropContext>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nExampleMultipleDroppables.propTypes = {};\r\nexport default ExampleMultipleDroppables;\r\n"],"names":["eventMap","Map","subscribe","eventId","callback","has","set","get","push","unsubscribe","handlerArray","callbackIndex","indexOf","splice","warn","dispatch","args","forEach","call","EVENT_ID","module","Util","group","element","dragAndDropGroup","count","maxTries","droppableParentElem","parentNode","tagName","foundDragAndDropGroup","getAttribute","draggableParentElem","props","state","prevProps","prevState","entries","key","val","console","log","Draggable","handleDragShortcuts","bind","onPointerMove","onPointerUp","getDragEvents","elFromPointCounter","latestUpdateX","latestUpdateY","minDragDistanceThreshold","draggableHoveringOver","droppableDraggedOver","addEventListener","removeEventListener","frame","e","onPointerCancel","draggable","getBoundingClientRect","isTouch","document","clickBlocker","stopPropagation","preventDefault","isMouse","buttons","target","className","includes","disabled","isSectionHeader","dragObject","draggableId","droppableId","moveEvent","x","changedTouches","length","clientX","y","clientY","cardWidth","offsetWidth","cardTop","top","cardLeft","left","setState","Math","abs","pointerId","didMoveMinDistanceDuringDrag","endEvent","resetEvent","removeDragEventListeners","shouldUpdate","hasDispatched","shouldRefindDragElems","getDroppableElemUnderDrag","getDraggableElemUnderDrag","newLeft","xClickOffset","newTop","yClickOffset","minDistanceMoved","startX","dragSensitivityX","startY","dragSensitivityY","shouldRegisterAsDrag","wasClicked","isDragging","clientHeight","startEvent","draggableHoveredOverId","nativeEvent","moveElement","colUnder","draggingElement","style","pointerEvents","elementUnder","elementFromPoint","getDroppableParentElement","cardUnder","getDraggableParentElement","active","draggingStyle","minDragDistanceMoved","width","propsObject","dragActiveClass","transform","cursor","disableMove","innerIndex","div","onMouseDown","onPointerDown","CustomTag","children","Component","propTypes","PropTypes","string","isRequired","bool","this","global","now","clean","space","toCamelCase","prefix","_domCss","_react","_raf2","_propTypes","_isString","_getScrollbarWidth","_returnFalse","_getInnerWidth","_getInnerHeight","_styles","_defaultRenderElements","_Scrollbars","VirtualizedScrollBar","staticElemHeight","overScan","stickyElems","springSystem","Rebound","SpringSystem","spring","createSpring","setOvershootClampingEnabled","addListener","onSpringUpdate","handleSpringUpdate","deregisterSpring","removeAllListeners","undefined","destroy","getCurrentValue","scrollBars","scrollTop","list","listToRender","elemHeight","containerHeight","maxVisibleElems","floor","scrollOffset","smallestIndexVisible","index","child","find","id","ySmallerThanList","start","max","elemOverScan","end","slice","filter","elem","getScrollTop","scrollDiff","leniency","onScroll","setCurrentValue","setAtRest","setEndValue","getScrollHeight","customScrollbars","UseScrollbars","Scrollbars","rowCount","height","childrenWithProps","React","Children","map","cloneElement","originalindex","numChildren","hasScrolled","getListToRender","unrenderedBelow","unrenderedAbove","belowSpacerStyle","disableVirtualization","aboveSpacerStyle","innerStyle","minHeight","maxHeight","handleScroll","scrollProps","_test","DynamicVirtualizedScrollbar","optimisticCount","virtualizationThreshold","initialElemsToRender","getInitialRenderAmount","listLength","minElemHeight","simplified","childRefs","lastElemBounds","firstElemBounds","lastSectionChangeAt","updateRemainingSpace","setFullRender","clearTimer","inner","containerTop","itemsContainer","lastElem","lastElementChild","firstElem","firstElementChild","bottom","right","scrollHeight","updateAverageSizing","firstRenderedItemIndex","lastRenderedItemIndex","renderPart","renderPartTimeout","setTimeout","nextProps","nextState","aboveSpacerHeight","belowSpacerHeight","propsDidChange","round","newProps","Object","min","remainingElemsBelow","averageItemSize","getElemSizeAvg","setSpacingValidationTimer","autoCalcTimeout","autoCalculateSpacing","shouldCalc","triggerOffset","belowSpacer","aboveSpacer","belowSpacerBounds","aboveSpacerBounds","elemsAbove","elemsToRender","items","isScrollingDown","avgElemSize","elemsPerSection","ceil","numSections","sectionScrolledTo","isScrolledToLastSection","usedOptimismAbove","optimismAboveHeight","usedOptimismBelow","optimismBelowHeight","firstIndex","lastIndex","didBounce","stateUpdate","setScrollSection","numSized","totalSize","i","numElemsSized","window","innerHeight","totalElemsSizedSize","overscan","shouldScroll","setScrollStopTimer","scrollStopTimer","overscanUsed","getOverScanUsed","ref","node","overScanHeightBelow","below","overScanHeightAbove","above","showIndicators","border","listItemsStyle","firstIndicatorStyle","lastIndicatorStyle","number","Droppable","onPlaceholderChange","onScrollChange","onDragEnd","onDragStart","getDraggedElemHeight","defaultElemHeight","placeholderEvent","scrollEvent","mounted","animateScrollTop","draggedElem","currentlyActiveDraggable","forceUpdate","placeholder","droppableActive","isTargetingMe","pushedPlaceholder","placeholderHeight","dynamicElemHeight","placeholderStyle","goingDown","optimism","rowsTotalHeight","calculatedRowMinHeight","listHeaderHeight","listHeader","outerContainerHeight","hideList","enforceContainerMinHeight","containerMinHeight","draggedElemId","headerWithProps","isActive","headerActive","overflow","activeHeaderClass","disableScroll","externalVirtualization","pushPlaceholder","scrollDiv","object","DragDropContext","onDragMove","resetPlaceholderIndex","dispatchPlaceholder","dragActive","targetSection","onDragCancel","dir","outerScrollBar","scrollContainerHeight","getScrollLeft","getScrollWidth","innerWidth","droppable","screenWidth","scrollThreshold","autoScrollThreshold","scrollContainerPos","container","isNearPageLeft","isNearPageRight","isNearPageTop","isNearPageBottom","shouldScrollGlobally","canScrollGlobally","getCanScrollDirection","globalScrollYDirection","requestAnimationFrame","autoScroll","globalScroll","containerBoundaries","isNearYBottom","isNearYTop","shouldScrollY","increaseYScroll","clearScrolling","mutationObject","sectionId","shouldUpdateDraggable","shouldUpdateDroppable","shouldUpdatePlaceholder","shouldUpdateSectionId","onMoveScroll","scrollLeft","globalScrollXDirection","scrollYSpeed","scrollXSpeed","scrollOffsetY","scrollOffsetX","scrollX","scrollY","display","flexDirection","scrollContainerMinHeight","DragScrollBar","func","ExampleBoard","dragAndDropGroupName","droppables","getListData","numLists","numColumns","newItemLists","generateTestList","numItems","listData","num","entry","name","dataToRender","item","alert","backgroundColor","flexGrow","marginLeft","Number","value","dragDropContext","sideScroll","getSideScroll","source","destinationId","placeholderId","listToRemoveFrom","listToAddTo","elemToAdd","indexToRemove","findIndex","indexToInsert","direction","newData","testData","split","getElemsToRender","getListHeader","scroll","toggleSplit","marginTop","marginBottom","padding","handleInputChange","handleColumnInputChange","position","minWidth","DynamicHeightExample","TEST_ENV","location","href","lazyLoad","useSections","randomSize","random","pseudoRandomSize","seenSections","idx","outline","paddingTop","recentlyMovedItem","targetElem","isSameSection","toggleIndicators","toggleUseSections","handleLazyLoadChange","addMoreElements","ExampleMultipleDroppables"],"mappings":"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"}